<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Maria Carolina">

<title>Relatório De Análise</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="Relatório_Maria_Carolina_files/libs/clipboard/clipboard.min.js"></script>
<script src="Relatório_Maria_Carolina_files/libs/quarto-html/quarto.js"></script>
<script src="Relatório_Maria_Carolina_files/libs/quarto-html/popper.min.js"></script>
<script src="Relatório_Maria_Carolina_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Relatório_Maria_Carolina_files/libs/quarto-html/anchor.min.js"></script>
<link href="Relatório_Maria_Carolina_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Relatório_Maria_Carolina_files/libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Relatório_Maria_Carolina_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Relatório_Maria_Carolina_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Relatório_Maria_Carolina_files/libs/bootstrap/bootstrap-1bc8a17f135ab3d594c857e9f48e611b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#intervalo-de-datas" id="toc-intervalo-de-datas" class="nav-link active" data-scroll-target="#intervalo-de-datas"><span class="header-section-number">0.2.1</span> Intervalo de datas:</a></li>
  <li><a href="#baixando-os-dados-dos-ativios" id="toc-baixando-os-dados-dos-ativios" class="nav-link" data-scroll-target="#baixando-os-dados-dos-ativios"><span class="header-section-number">0.3</span> Baixando os dados dos ativios:</a></li>
  <li><a href="#análise-gráfica" id="toc-análise-gráfica" class="nav-link" data-scroll-target="#análise-gráfica"><span class="header-section-number">0.4</span> Análise Gráfica</a></li>
  <li><a href="#gráficos-seguindo-a-estratégia-buy-and-hold" id="toc-gráficos-seguindo-a-estratégia-buy-and-hold" class="nav-link" data-scroll-target="#gráficos-seguindo-a-estratégia-buy-and-hold"><span class="header-section-number">0.5</span> Gráficos Seguindo a Estratégia Buy and Hold:</a></li>
  <li><a href="#análise-de-dow" id="toc-análise-de-dow" class="nav-link" data-scroll-target="#análise-de-dow"><span class="header-section-number">1</span> Análise de Dow</a></li>
  <li><a href="#estatísticas-descritivas" id="toc-estatísticas-descritivas" class="nav-link" data-scroll-target="#estatísticas-descritivas"><span class="header-section-number">2</span> Estatísticas descritivas</a>
  <ul class="collapse">
  <li><a href="#cálculo-da-média-e-do-desvio-padrão-dos-preços" id="toc-cálculo-da-média-e-do-desvio-padrão-dos-preços" class="nav-link" data-scroll-target="#cálculo-da-média-e-do-desvio-padrão-dos-preços"><span class="header-section-number">2.0.1</span> Cálculo da média e do desvio padrão dos preços:</a></li>
  <li><a href="#cálculo-do-coeficiente-de-variação-dos-preços" id="toc-cálculo-do-coeficiente-de-variação-dos-preços" class="nav-link" data-scroll-target="#cálculo-do-coeficiente-de-variação-dos-preços"><span class="header-section-number">2.0.2</span> Cálculo do coeficiente de variação dos preços</a></li>
  <li><a href="#análise-dos-retornos" id="toc-análise-dos-retornos" class="nav-link" data-scroll-target="#análise-dos-retornos"><span class="header-section-number">2.1</span> Análise dos retornos</a>
  <ul class="collapse">
  <li><a href="#cálculo-dos-retornos-logarítmicos" id="toc-cálculo-dos-retornos-logarítmicos" class="nav-link" data-scroll-target="#cálculo-dos-retornos-logarítmicos"><span class="header-section-number">2.1.1</span> Cálculo dos retornos logarítmicos:</a></li>
  <li><a href="#média-e-desvio-padrão-dos-retornos" id="toc-média-e-desvio-padrão-dos-retornos" class="nav-link" data-scroll-target="#média-e-desvio-padrão-dos-retornos"><span class="header-section-number">2.1.2</span> Média e desvio padrão dos retornos</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#distribuição-dos-preços-e-retornos" id="toc-distribuição-dos-preços-e-retornos" class="nav-link" data-scroll-target="#distribuição-dos-preços-e-retornos"><span class="header-section-number">3</span> Distribuição dos preços e retornos</a>
  <ul class="collapse">
  <li><a href="#histogramas" id="toc-histogramas" class="nav-link" data-scroll-target="#histogramas"><span class="header-section-number">3.0.1</span> Histogramas:</a></li>
  </ul></li>
  <li><a href="#medida-de-volatilidade-anualizada" id="toc-medida-de-volatilidade-anualizada" class="nav-link" data-scroll-target="#medida-de-volatilidade-anualizada"><span class="header-section-number">4</span> Medida de volatilidade anualizada :</a>
  <ul class="collapse">
  <li><a href="#volatilidade" id="toc-volatilidade" class="nav-link" data-scroll-target="#volatilidade"><span class="header-section-number">4.0.1</span> Volatilidade:</a></li>
  <li><a href="#conclusão" id="toc-conclusão" class="nav-link" data-scroll-target="#conclusão"><span class="header-section-number">5.2</span> Conclusão:</a></li>
  </ul></li>
  <li><a href="#modelo-markowitz" id="toc-modelo-markowitz" class="nav-link" data-scroll-target="#modelo-markowitz"><span class="header-section-number">6</span> Modelo Markowitz</a>
  <ul class="collapse">
  <li><a href="#introdução" id="toc-introdução" class="nav-link" data-scroll-target="#introdução"><span class="header-section-number">6.0.1</span> Introdução:</a></li>
  <li><a href="#intervalo-de-datas-1" id="toc-intervalo-de-datas-1" class="nav-link" data-scroll-target="#intervalo-de-datas-1"><span class="header-section-number">6.0.2</span> Intervalo de Datas</a></li>
  <li><a href="#baixando-os-dados" id="toc-baixando-os-dados" class="nav-link" data-scroll-target="#baixando-os-dados"><span class="header-section-number">6.0.3</span> Baixando os dados</a></li>
  <li><a href="#explicação-dos-ativos" id="toc-explicação-dos-ativos" class="nav-link" data-scroll-target="#explicação-dos-ativos"><span class="header-section-number">6.0.4</span> Explicação dos ativos</a></li>
  <li><a href="#princípio-da-diversificação" id="toc-princípio-da-diversificação" class="nav-link" data-scroll-target="#princípio-da-diversificação"><span class="header-section-number">6.0.5</span> Princípio Da Diversificação</a></li>
  <li><a href="#fronteira-eficiente" id="toc-fronteira-eficiente" class="nav-link" data-scroll-target="#fronteira-eficiente"><span class="header-section-number">6.1</span> Fronteira Eficiente:</a>
  <ul class="collapse">
  <li><a href="#princípio-da-otimização" id="toc-princípio-da-otimização" class="nav-link" data-scroll-target="#princípio-da-otimização"><span class="header-section-number">6.1.1</span> Princípio Da Otimização:</a></li>
  </ul></li>
  <li><a href="#carteira-de-markowitz-análise-de-risco-e-retorno-com-diversificação" id="toc-carteira-de-markowitz-análise-de-risco-e-retorno-com-diversificação" class="nav-link" data-scroll-target="#carteira-de-markowitz-análise-de-risco-e-retorno-com-diversificação"><span class="header-section-number">6.2</span> Carteira de Markowitz: Análise de Risco e Retorno com Diversificação</a></li>
  <li><a href="#organizando-os-retornos-em-um-dataframe" id="toc-organizando-os-retornos-em-um-dataframe" class="nav-link" data-scroll-target="#organizando-os-retornos-em-um-dataframe"><span class="header-section-number">6.3</span> Organizando os retornos em um dataframe:</a>
  <ul class="collapse">
  <li><a href="#carteira-com-mínima-variância" id="toc-carteira-com-mínima-variância" class="nav-link" data-scroll-target="#carteira-com-mínima-variância"><span class="header-section-number">6.3.1</span> Carteira com Mínima Variância</a></li>
  <li><a href="#carteira-ótima" id="toc-carteira-ótima" class="nav-link" data-scroll-target="#carteira-ótima"><span class="header-section-number">6.3.2</span> Carteira ótima:</a></li>
  <li><a href="#carteira-de-retorno-cartelado" id="toc-carteira-de-retorno-cartelado" class="nav-link" data-scroll-target="#carteira-de-retorno-cartelado"><span class="header-section-number">6.3.3</span> Carteira de retorno cartelado</a></li>
  </ul></li>
  <li><a href="#beta-mercado" id="toc-beta-mercado" class="nav-link" data-scroll-target="#beta-mercado"><span class="header-section-number">6.4</span> Beta Mercado:</a>
  <ul class="collapse">
  <li><a href="#calculando-o-beta-mercado" id="toc-calculando-o-beta-mercado" class="nav-link" data-scroll-target="#calculando-o-beta-mercado"><span class="header-section-number">6.4.1</span> Calculando o Beta Mercado:</a></li>
  <li><a href="#analisando-o-ativo-lwsa3" id="toc-analisando-o-ativo-lwsa3" class="nav-link" data-scroll-target="#analisando-o-ativo-lwsa3"><span class="header-section-number">6.4.2</span> Analisando o ativo LWSA3:</a></li>
  <li><a href="#analisando-o-ativo-elet6" id="toc-analisando-o-ativo-elet6" class="nav-link" data-scroll-target="#analisando-o-ativo-elet6"><span class="header-section-number">6.4.3</span> Analisando o ativo ELET6:</a></li>
  <li><a href="#analisando-o-ativo-itsa4" id="toc-analisando-o-ativo-itsa4" class="nav-link" data-scroll-target="#analisando-o-ativo-itsa4"><span class="header-section-number">6.4.4</span> Analisando o ativo Itsa4:</a></li>
  <li><a href="#analisando-o-ativo-rent3" id="toc-analisando-o-ativo-rent3" class="nav-link" data-scroll-target="#analisando-o-ativo-rent3"><span class="header-section-number">6.4.5</span> Analisando o ativo Rent3:</a></li>
  <li><a href="#analisando-o-ativo-brfs3" id="toc-analisando-o-ativo-brfs3" class="nav-link" data-scroll-target="#analisando-o-ativo-brfs3"><span class="header-section-number">6.4.6</span> Analisando o ativo Brfs3:</a></li>
  </ul></li>
  <li><a href="#gráfico-de-comparação-dos-betas" id="toc-gráfico-de-comparação-dos-betas" class="nav-link" data-scroll-target="#gráfico-de-comparação-dos-betas"><span class="header-section-number">6.5</span> Gráfico de Comparação dos Betas:</a></li>
  <li><a href="#análise-de-curto-prazo" id="toc-análise-de-curto-prazo" class="nav-link" data-scroll-target="#análise-de-curto-prazo"><span class="header-section-number">6.6</span> Análise de Curto Prazo:</a></li>
  <li><a href="#análise-de-curto-médio" id="toc-análise-de-curto-médio" class="nav-link" data-scroll-target="#análise-de-curto-médio"><span class="header-section-number">6.7</span> Análise de Curto Médio:</a></li>
  <li><a href="#análise-de-médio-prazo" id="toc-análise-de-médio-prazo" class="nav-link" data-scroll-target="#análise-de-médio-prazo"><span class="header-section-number">6.8</span> Análise de Médio Prazo:</a></li>
  <li><a href="#análise-de-longo-prazo" id="toc-análise-de-longo-prazo" class="nav-link" data-scroll-target="#análise-de-longo-prazo"><span class="header-section-number">6.9</span> Análise de Longo Prazo:</a></li>
  <li><a href="#indicadores-de-performance" id="toc-indicadores-de-performance" class="nav-link" data-scroll-target="#indicadores-de-performance"><span class="header-section-number">6.10</span> Indicadores de Performance:</a></li>
  <li><a href="#jesen" id="toc-jesen" class="nav-link" data-scroll-target="#jesen"><span class="header-section-number">6.11</span> Jesen:</a></li>
  <li><a href="#treynor" id="toc-treynor" class="nav-link" data-scroll-target="#treynor"><span class="header-section-number">6.12</span> Treynor:</a></li>
  <li><a href="#sharpe" id="toc-sharpe" class="nav-link" data-scroll-target="#sharpe"><span class="header-section-number">6.13</span> Sharpe:</a></li>
  <li><a href="#conclusão-sobre-o-resultado-dos-índices" id="toc-conclusão-sobre-o-resultado-dos-índices" class="nav-link" data-scroll-target="#conclusão-sobre-o-resultado-dos-índices"><span class="header-section-number">6.14</span> Conclusão sobre o resultado dos índices:</a></li>
  <li><a href="#análise-de-curto-prazo-1" id="toc-análise-de-curto-prazo-1" class="nav-link" data-scroll-target="#análise-de-curto-prazo-1"><span class="header-section-number">6.15</span> Análise de Curto Prazo:</a></li>
  <li><a href="#análise-de-médio-prazo-1" id="toc-análise-de-médio-prazo-1" class="nav-link" data-scroll-target="#análise-de-médio-prazo-1"><span class="header-section-number">6.16</span> Análise de Médio Prazo:</a></li>
  <li><a href="#análise-de-longo-prazo-1" id="toc-análise-de-longo-prazo-1" class="nav-link" data-scroll-target="#análise-de-longo-prazo-1"><span class="header-section-number">6.17</span> Análise de Longo Prazo:</a></li>
  </ul></li>
  <li><a href="#referências-bibliográficas" id="toc-referências-bibliográficas" class="nav-link" data-scroll-target="#referências-bibliográficas"><span class="header-section-number">7</span> Referências Bibliográficas</a>
  <ul class="collapse">
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1"><span class="header-section-number">7.1</span> </a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Relatório De Análise</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Maria Carolina </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<div style="text-align: justify">
<p>Universidade Federal Da Paraíba</p>
<p>Professor: Sinezio Fernandes Maia</p>
</div>
<hr>
<div style="text-align: justify">
<section id="olá-investidor" class="level2" data-number="0.1">
<h2 data-number="0.1" class="anchored" data-anchor-id="olá-investidor"><span class="header-section-number">0.1</span> Olá Investidor ,</h2>
<p>O relatório a seguir tem como objetivo apresentar um estudo sobre cinco ativos financeiros, buscando analisar o seu potencial de lucro, o comportamento no cenário econômico atual e, em especial, o nível de risco associado a cada um deles.</p>
<p>Este estudo é direcionado a investidores avessos ao risco (perfil conservador), cujo foco principal é a preservação de capital e a estabilidade nos retornos. Como explica Hal Varian (no livro Microeconomia: Uma Abordagem Moderna, Cap. 12) destaca que o investidor avesso ao risco prefere a certeza do valor esperado de sua riqueza em vez de apostar em alternativas incertas, mesmo que com possibilidade de maior retorno. Em outras palavras, a estabilidade tem mais utilidade para esse perfil do que a chance de ganhos elevados acompanhada de riscos significativos de perda.</p>
<p>Nesse sentido, a análise dos ativos busca identificar aqueles que, dentro da teoria moderna de finanças, apresentam a melhor relação risco-retorno, ou seja, a combinação de menor variância dos retornos (Markowitz) com perspectivas de retorno positivo. Assim, este relatório pretende oferecer ao investidor conservador uma visão fundamentada que auxilie na escolha racional e segura de investimentos diante da incerteza do mercado.</p>
</section>
<section id="section" class="level2" data-number="0.2">
<h2 data-number="0.2" class="anchored" data-anchor-id="section"><span class="header-section-number">0.2</span> </h2>
</section>
</div>
<ul>
<li><p>Organizando o ambiente:</p></li>
</ul>
<section id="intervalo-de-datas" class="level3" data-number="0.2.1">
<h3 data-number="0.2.1" class="anchored" data-anchor-id="intervalo-de-datas"><span class="header-section-number">0.2.1</span> Intervalo de datas:</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Datas de início e fim</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>dataini <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-04-01"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>datafim <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-06-29"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="baixando-os-dados-dos-ativios" class="level2" data-number="0.3">
<h2 data-number="0.3" class="anchored" data-anchor-id="baixando-os-dados-dos-ativios"><span class="header-section-number">0.3</span> Baixando os dados dos ativios:</h2>
<div style="text-align: justify">
<p>A <strong>LocaWeb ((lwsa3))</strong>é uma das principais empresas brasileiras de serviços de hospedagem, cloud computing e SaaS, posicionando-se como uma player relevante no setor de tecnologia. Empresas de tecnologia são altamente sensíveis ao ciclo econômico, mas se beneficiam de tendências estruturais de longo prazo, como a digitalização de negócios. A companhia tem enfrentado um ambiente competitivo intenso, com margens pressionadas pela guerra de preços e pela necessidade constante de inovação, o que eleva seu risco operacional. Seu alto endividamento para financiar aquisições e investimentos também é um ponto de atenção.</p>
<p>A <strong>Eletrobras (elet6)</strong> é uma das maiores empresas do setor elétrico da América Latina, atuando principalmente na geração e transmissão de energia. Trata-se de um setor essencial e perene, com receitas altamente previsíveis reguladas por contratos de longo prazo, o que confere maior estabilidade e menor risco ao ativo. Após sua privatização, a empresa busca ganhos de eficiência e redução de custos, potencialmente melhorando seus indicadores financeiros e a distribuição de dividendos.</p>
<p>A <strong>Itaúsa (itsa4)</strong> é uma das maiores holdings de investimento do Brasil, com uma carteira diversificada e focada em setores perenes, como financeiro (Itaú Unibanco), industrial (Alpargatas, Dexco) e de saúde (Hospital Albert Einstein). Esta diversificação confere resiliência aos resultados, alinhando-se à filosofia de investidores conservadores que buscam exposição a ativos de qualidade com menor volatilidade. A companhia é conhecida por sua disciplina capital e por ser uma histórica pagadora de dividendos sólidos.</p>
<p>A <strong>Localiza (rent3)</strong> é líder no setor de aluguel de veículos no Brasil, um segmento cíclico e sensível ao desempenho da economia, do crédito e do turismo. A empresa possui um modelo de negócio robusto, com vantagens de escala e uma gestão eficiente de sua frota, mas sofre pressão em cenários de juros altos, que elevam seu custo de capital. Seu endividamento é elevado, porém é considerado estrutural para financiar o crescimento da frota.</p>
<p>A <strong>BRF(brfs3)</strong> é uma gigante global do setor de proteínas, detentora de marcas icônicas como Sadia e Perdigão. O setor de alimentos é altamente competitivo e vulnerável a volatilidade nos custos de commodities (milho, soja) e a cenários macroeconômicos desfavoráveis, que impactam o poder de compra do consumidor. A empresa tem trabalhado para reduzir seu elevado endividamento</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análise-gráfica" class="level2" data-number="0.4">
<h2 data-number="0.4" class="anchored" data-anchor-id="análise-gráfica"><span class="header-section-number">0.4</span> Análise Gráfica</h2>
<div style="text-align: justify">
<p>A análise técnica do ativo, construída com base em séries temporais de preços ajustados, utilizou um método clássico de identificação de pontos extremos de mercado — mínimos e máximos históricos — que servem como referência para a interpretação de tendências e a definição de suportes e resistências.</p>
<p>Mínimo representa o ponto em que o preço atingiu o seu valor mais baixo em determinado período. A marcação desse ponto permite identificar regiões onde a pressão compradora prevaleceu, funcionando como um suporte natural.</p>
<p>Máximo corresponde ao ponto em que o preço alcançou o valor mais alto, sugerindo áreas de resistência, onde a pressão vendedora foi dominante.</p>
<p>O código não apenas destaca esses pontos no gráfico, mas também traça uma linha entre eles, o que auxilia na visualização de uma tendência primária do ativo: quando a linha se inclina positivamente, sugere um viés de alta; quando inclinada negativamente, indica viés de baixa.</p>
<p>Essa metodologia dialoga com a Teoria de Dow, ao considerar que os preços se movimentam em tendências identificáveis e que os extremos de preço funcionam como marcos psicológicos do mercado. Todavia, por ser uma abordagem restrita a máximos e mínimos, deve ser complementada com indicadores técnicos adicionais (como médias móveis, RSI ou Bandas de Bollinger) e com a análise de volume, para confirmar a força da tendência.</p>
<p>Na prática, o objetivo é fornecer uma visualização intuitiva dos pontos críticos do ativo, permitindo que o investidor trace hipóteses sobre zonas de compra (próximas ao suporte) e de venda (próximas à resistência), sempre levando em consideração a relação risco-retorno associada.</p>
</div>
<div style="text-align: justify">
<p>O ativo apresenta uma <strong>tendência indefinida</strong>, oscilando em um canal lateral, sem força compradora ou vendedora dominante. O suporte relevante está em <strong>R$ 5,80</strong> e a resistência próxima em <strong>R$ 6,50</strong> (dados de 27/06/2025).<br>
Conclusão: o movimento lateral reflete <strong>incerteza dos investidores</strong>, indicando que o papel pode permanecer congestionado até a confirmação de rompimento. Para investidores avessos ao risco, a atratividade é baixa, já que o retorno potencial é limitado e o risco de rompimento desfavorável existe.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">
<p>Pelo ponto de vista gráfico, a ação apresenta uma <strong>tendência de alta consistente</strong>, apoiada por sucessivos topos e fundos ascendentes. O suporte firme se encontra na região de <strong>R$ 44,00</strong>, enquanto a resistência imediata está em <strong>R$ 48,50</strong> (dados de 27/06/2025). Conclusão: a configuração atrai investidores focados em <strong>retorno total (valorização + dividendos)</strong>, pois o ativo mantém força compradora. Contudo, a proximidade da resistência exige atenção a sinais de reversão ou realização de lucros.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">
<p>Graficamente, a ação opera em uma <strong>tendência de alta moderada</strong>, mas de menor inclinação em relação a outros papéis do setor financeiro. O suporte se mostra consistente em <strong>R$ 9,90</strong>, com resistência no patamar de <strong>R$ 10,80</strong> (dados de 27/06/2025).<br>
Conclusão: o movimento sugere um ativo <strong>estável e com baixo risco relativo</strong>, adequado a investidores com perfil conservador. O potencial de valorização é limitado, mas a probabilidade de manter suporte torna a relação risco-retorno equilibrada.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">
<p>Pela análise técnica, o papel apresenta um movimento de <strong>consolidação após forte valorização anterior</strong>, caracterizando um período de descanso na tendência. O suporte principal está localizado em <strong>R$ 62,00</strong>, enquanto a resistência relevante aparece em <strong>R$ 68,00</strong> (dados de 27/06/2025).<br>
Conclusão: a ação indica <strong>força acumulada</strong> em suporte, sugerindo possível continuidade da alta em caso de rompimento da resistência. Para investidores moderados e agressivos, o ativo apresenta atratividade, desde que observada a relação risco-retorno em caso de correção.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">
<p>Graficamente, o ativo se encontra em <strong>momento de transição</strong>, refletindo indecisão entre compradores e vendedores. O suporte imediato está em <strong>R$ 20,00</strong>, enquanto a resistência se posiciona em <strong>R$ 21,80</strong> (dados de 27/06/2025). Conclusão: a ação aguarda um <strong>catalisador de mercado</strong> (como divulgação de resultados ou fatores macroeconômicos) para definir a direção. O cenário atual não favorece movimentos expressivos de curto prazo, sendo mais indicado a investidores pacientes ou com perfil de observação.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="gráficos-seguindo-a-estratégia-buy-and-hold" class="level2" data-number="0.5">
<h2 data-number="0.5" class="anchored" data-anchor-id="gráficos-seguindo-a-estratégia-buy-and-hold"><span class="header-section-number">0.5</span> Gráficos Seguindo a Estratégia Buy and Hold:</h2>
<div style="text-align: justify">
<ul>
<li><p>A ITSA4 valorizou&nbsp;<strong>35,68% (R$2,99)</strong>, com um volume impressionante de&nbsp;<strong>R$2,56 bilhões</strong>, o maior da lista. Esse movimento reflete uma&nbsp;<strong>alta sustentada</strong> , ideal para estratégias de buy and hold. A consistência no volume e na valorização indica confiança do mercado.</p></li>
<li><p>O ativo BRFS3 apresentou uma valorização de&nbsp;<strong>41,23% (R$6,82)</strong>&nbsp;no período analisado, com volume negociado de&nbsp;<strong>R$726,36 milhões</strong>. Esse desempenho, aliado ao volume significativo, indica uma&nbsp;<strong>tendência de alta</strong> , sugerindo forte interesse do mercado.</p></li>
<li><p>Com uma valorização de&nbsp;<strong>21,31% (R$8,52)</strong>&nbsp;e volume de&nbsp;<strong>R$114,55 milhões</strong>, o ELET6 teve o desempenho mais modesto entre os ativos analisados. O baixo volume relativo sugere menor participação do mercado, mas ainda assim manteve uma trajetória positiva. Pode ser um ativo mais estável.</p></li>
<li><p>Com valorização de&nbsp;<strong>56,87% (R$14,55)</strong>&nbsp;e volume de&nbsp;<strong>R$806,45 milhões</strong>, a RENT3 mostrou um equilíbrio entre crescimento e liquidez. O bom desempenho , indica uma&nbsp;<strong>tendência de alta bem sustentada</strong>, com participação ativa do mercado.</p></li>
<li><p>Destaque absoluto, a LWSA3 subiu&nbsp;<strong>85,54% (R$1,99)</strong>&nbsp;em&nbsp;<strong>119 dias</strong>, com volume de&nbsp;<strong>R$797,36 milhões</strong>. Esse crescimento explosivo, quase o dobro dos demais ativos, sugere um&nbsp;<strong>momento excepcional</strong>, possivelmente impulsionado por fatores setoriais ou notícias específicas. Quem comprou e segurou obteve retornos extraordinários, mas a alta volatilidade exige atenção.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-10-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-10-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-10-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-10-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análise-de-dow" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Análise de Dow</h1>
<div style="text-align: justify">
<ul>
<li>Após a análise das estratégias de <em>buy and hold</em> e da abordagem teórica baseada em máximos e mínimos, passamos agora a investigar a existência de tendências de alta ou baixa. Para isso, observaremos a evolução dos preços dos ativos da carteira e a compararemos com os respectivos volumes negociados, conforme os princípios da Teoria de Dow.</li>
</ul>
</div>
<div style="text-align: justify">
<ul>
<li><p>Análise do ativo BRFS3: Ao compararmos os preços e volumes nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos um movimento de alta nos preços acompanhado por um aumento no volume, o que reforça a força da tendência. Já na análise com base na Teoria de Dow, nota-se que o movimento de alta foi seguido por uma correção (destacada pelas linhas azuis), porém o padrão de topos e fundos ascendentes permanece visível em partes do gráfico. há indícios de que a tendência de alta poderá ser retomada.</p></li>
<li><p>Análise do ativo ELET6 : ao compararmos os preços e volumes sob as estratégias de buy and hold e da abordagem teórica de máximos e mínimos, observamos que o preço apresentou uma leve valorização. Apesar desse ganho moderado, o volume negociado aumentou significativamente. Esse crescimento de volume, aliado à estabilidade ou leve alta dos preços, pode sinalizar um interesse contínuo dos investidores.</p></li>
<li><p>Análise do ativo ITSA6: Na análise do ativo ITSA6, ao compararmos os preços e volumes com base nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos uma tendência de alta, com sucessivos topos e fundos . O aumento do volume em momentos de valorização reforça a Teoria de Dow, esse comportamento — altas acompanhadas por volume crescente — confirma a continuidade da tendência de alta.</p></li>
<li><p>Análise do ativo RENT3: Análise do ativo RENT3: na comparação entre os preços e volumes nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos que o preço apresentou uma valorização constante, com formação de topos e fundos ascendentes, o que é um forte indicativo de tendência de alta segundo a Teoria de Dow.</p></li>
<li><p>Análise do ativo LWSA3: Na comparação entre os preços e volumes nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos que não houve uma grande oscilação de preços no curto prazo, mas o volume apresentou um aumento relevante. De acordo com a Teoria de Dow, esse comportamento — preço lateralizado com aumento de volume — pode ser interpretado como uma fase de acumulação, sinalizando uma possível tendência de alta futura.</p></li>
</ul>
</div>
</section>
<section id="estatísticas-descritivas" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Estatísticas descritivas</h1>
<section id="cálculo-da-média-e-do-desvio-padrão-dos-preços" class="level3" data-number="2.0.1">
<h3 data-number="2.0.1" class="anchored" data-anchor-id="cálculo-da-média-e-do-desvio-padrão-dos-preços"><span class="header-section-number">2.0.1</span> Cálculo da média e do desvio padrão dos preços:</h3>
<div style="text-align: justify">
<p>Ao calcularmos a média e o desvio padrão dos preços, buscamos compreender a dispersão dos valores em torno do seu ponto central. O coeficiente de variação, por sua vez, expressa essa dispersão de forma relativa à média, indicando em termos percentuais o quanto o preço de um ativo oscila no período analisado. Dessa forma, ele se torna um indicador eficiente para avaliar o risco relativo: quanto maior for o coeficiente, maior tende a ser a volatilidade do ativo, refletindo um nível mais elevado de incerteza.</p>
</div>
</section>
<section id="cálculo-do-coeficiente-de-variação-dos-preços" class="level3" data-number="2.0.2">
<h3 data-number="2.0.2" class="anchored" data-anchor-id="cálculo-do-coeficiente-de-variação-dos-preços"><span class="header-section-number">2.0.2</span> Cálculo do coeficiente de variação dos preços</h3>
<div style="text-align: justify">
<p>Com os resultados obtidos, observa-se que o ativo <strong>LWSA3</strong> apresentou o maior coeficiente de variação, atingindo <strong>12,72%</strong>, enquanto o menor valor foi registrado pela <strong>ELET6</strong>, com <strong>2,74%</strong>. Em seguida, destacam-se <strong>BRFS3 (4,21%)</strong>, <strong>ITSA4 (5,42%)</strong> e <strong>RENT3 (6,23%)</strong>. Para efeito de comparação, o <strong>Ibovespa</strong> apresentou um coeficiente de <strong>3,01%</strong>.</p>
</div>
</section>
<section id="análise-dos-retornos" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="análise-dos-retornos"><span class="header-section-number">2.1</span> Análise dos retornos</h2>
<section id="cálculo-dos-retornos-logarítmicos" class="level3" data-number="2.1.1">
<h3 data-number="2.1.1" class="anchored" data-anchor-id="cálculo-dos-retornos-logarítmicos"><span class="header-section-number">2.1.1</span> Cálculo dos retornos logarítmicos:</h3>
<div style="text-align: justify">
<p>Ao analisarmos a média e o desvio padrão dos retornos, buscamos compreender de forma mais consistente a volatilidade e o risco dos ativos. O coeficiente obtido a partir dos retornos é mais representativo da incerteza: quanto maior o coeficiente, maior tende a ser a volatilidade, indicando maior incerteza. Quando o coeficiente é negativo, isso evidencia não apenas alta volatilidade, mas também uma tendência de perda.</p>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-14-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="média-e-desvio-padrão-dos-retornos" class="level3" data-number="2.1.2">
<h3 data-number="2.1.2" class="anchored" data-anchor-id="média-e-desvio-padrão-dos-retornos"><span class="header-section-number">2.1.2</span> Média e desvio padrão dos retornos</h3>
<div style="text-align: justify">
<p>Ao analisarmos a <strong>média</strong> e o <strong>desvio-padrão</strong> dos retornos, buscamos compreender de forma mais consistente a volatilidade e o risco de cada ativo. O coeficiente de variação, obtido a partir dos retornos, é um indicador mais fiel da incerteza: quanto maior o coeficiente, maior tende a ser a volatilidade relativa, sinalizando maior risco. Quando o coeficiente é <strong>negativo</strong>, isso evidencia não apenas alta instabilidade, mas também uma tendência de perda.</p>
<p>Os resultados observados foram:</p>
<ul>
<li><p><strong>LWSA3</strong>: retorno médio <strong>0,685%</strong>, desvio-padrão <strong>0,0330</strong>, coeficiente <strong>4,82</strong></p></li>
<li><p><strong>ELET6</strong>: retorno médio <strong>-0,0188%</strong>, desvio-padrão <strong>0,0120</strong>, coeficiente <strong>-63,64</strong></p></li>
<li><p><strong>ITSA4</strong>: retorno médio <strong>0,2139%</strong>, desvio-padrão <strong>0,0123</strong>, coeficiente <strong>5,75</strong></p></li>
<li><p><strong>RENT3</strong>: retorno médio <strong>0,2446%</strong>, desvio-padrão <strong>0,0245</strong>, coeficiente <strong>10,00</strong></p></li>
<li><p><strong>BRFS3</strong>: retorno médio <strong>-0,0203%</strong>, desvio-padrão <strong>0,0248</strong>, coeficiente <strong>-121,97</strong></p></li>
<li><p><strong>IBOV</strong>: retorno médio <strong>0,0723%</strong>, desvio-padrão <strong>0,0098</strong>, coeficiente <strong>13,60</strong></p></li>
</ul>
<p>A <strong>BRFS3</strong> se destaca por apresentar coeficiente extremamente elevado e negativo, refletindo forte volatilidade associada a uma tendência de perda. Em seguida aparece a <strong>ELET6</strong>, também com coeficiente negativo expressivo. Entre os ativos com coeficientes positivos, a <strong>LWSA3</strong> apresentou o menor valor (4,82), sugerindo maior estabilidade relativa, seguida por <strong>ITSA4</strong> (5,75) e <strong>RENT3</strong> (10,00), que apesar de mais volátil, ainda demonstrou retorno positivo.</p>
<p>Em comparação, o <strong>IBOV</strong> apresentou retorno médio de <strong>0,0723%</strong> e coeficiente de variação <strong>13,60</strong>, ou seja, mais volátil em termos relativos do que ativos como <strong>LWSA3</strong> e <strong>ITSA4</strong>. Isso indica que determinados ativos individuais podem oferecer uma relação risco-retorno mais favorável do que o próprio índice de mercado, reforçando a importância da seleção criteriosa de ativos dentro de uma estratégia de diversificação.</p>
</div>
</section>
</section>
</section>
<section id="distribuição-dos-preços-e-retornos" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Distribuição dos preços e retornos</h1>
<section id="histogramas" class="level3" data-number="3.0.1">
<h3 data-number="3.0.1" class="anchored" data-anchor-id="histogramas"><span class="header-section-number">3.0.1</span> Histogramas:</h3>
<div style="text-align: justify">
<p>A análise dos histogramas possibilita avaliar o formato da distribuição dos preços e retornos dos ativos. Em alguns casos, como <strong>ITSA4</strong> e <strong>BRFS3</strong>, observa-se um comportamento que se aproxima do formato de sino característico da distribuição normal, embora ainda apresentem sinais de assimetria e caudas alongadas, o que indica desvios da normalidade perfeita.</p>
<p>Para confirmar essas evidências visuais, aplicou-se o <strong>teste de Jarque-Bera</strong>, que avalia se uma série segue ou não a distribuição normal, com base na hipótese nula de normalidade (H₀). Os resultados mostraram que:</p>
<ul>
<li><p>Ativos como <strong>LWSA3 (p=0,0195)</strong>, <strong>ITSA4 (p=0,0154)</strong>, <strong>RENT3 (p=0,0272)</strong> e o <strong>IBOV (p=0,0066)</strong> rejeitaram a hipótese nula ao nível de 5% de significância, evidenciando que seus retornos <strong>não seguem a distribuição normal</strong>.</p></li>
<li><p>Já <strong>ELET6 (p=0,1748)</strong> e <strong>BRFS3 (p=0,1631)</strong> não rejeitaram a hipótese nula, indicando que não há evidências estatísticas suficientes para descartar a normalidade de suas distribuições.</p></li>
</ul>
<p>Portanto, ainda que alguns histogramas sugiram proximidade com a forma normal, o <strong>teste estatístico confirma que a maioria dos ativos analisados não segue rigorosamente uma distribuição normal</strong>. Esse resultado é relevante para a gestão de risco, pois a não normalidade dos retornos implica maior cautela na aplicação de modelos que assumem distribuição normal, especialmente na mensuração de volatilidade e no cálculo de Value at Risk (VaR).</p>
<ul>
<li>O <strong>IBOV</strong> apresentou retorno médio de <strong>0,0723%</strong>, desvio-padrão de <strong>0,0098</strong> e coeficiente de variação de <strong>13,60</strong>, revelando maior volatilidade relativa em comparação a alguns ativos individuais, como LWSA3 e ITSA4. Além disso, o teste de <strong>Jarque-Bera (p=0,0066)</strong> rejeitou a hipótese de normalidade, indicando que os retornos do índice não seguem uma distribuição normal. Isso sugere que, embora o IBOV seja usado como benchmark de mercado, nem sempre apresenta o melhor equilíbrio risco-retorno frente a ativos específicos ou carteiras diversificadas.</li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-16-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-16-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="medida-de-volatilidade-anualizada" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> Medida de volatilidade anualizada :</h1>
<section id="volatilidade" class="level3" data-number="4.0.1">
<h3 data-number="4.0.1" class="anchored"><span class="header-section-number">4.0.1</span> Volatilidade:</h3>
<div style="text-align: justify">
<ul>
<li><p>Por definição, a volatilidade representa a incerteza inerente aos retornos de um investimento. Quanto maior for a volatilidade de um ativo, maiores serão suas oscilações de preço, refletindo um maior grau de imprevisibilidade.</p>
<p>A obra “O Desafio dos Deuses” explora como, apesar de a relação entre seres humanos e risco ser ancestral e profundamente enraizada, nossas reações comportamentais diante da incerteza continuam complexas e multifacetadas. Neste contexto, a volatilidade surge como uma ferramenta fundamental para quantificar esse risco, permitindo aos investidores transformar a abstração da incerteza em métricas tangíveis.</p>
<p>Compreender a volatilidade capacita o investidor a tomar decisões mais alinhadas com sua tolerância ao risco individual. Por exemplo, um indivíduo naturalmente avesso ao risco, ao dominar este conceito, conscientemente evitará investimentos com alta volatilidade, reconhecendo que seu perfil psicológico e financeiro não suportaria as flutuações abruptas características destes ativos. Esta consciência previne escolhas inadequadas que potencialmente levariam a decisões emocionais precipitadas durante períodos de instabilidade do mercado.</p>
<p>Desta forma, a volatilidade transcende seu significado estatístico para tornar-se um ponte entre a psicologia do investidor e a alocação racional de capital, funcionando como um filtro crucial na seleção de investimentos compatíveis com a verdadeira tolerância ao risco de cada indivíduo.</p></li>
<li><p>O estudo do comportamento individual é estudada na teoria da escolha do consumidor, que analisa como indivíduos alocam recursos para maximizar sua utilidade diante de restrições orçamentárias. o autor Hal Varian, em seus estudos sobre escolha intertemporal, descreve como as decisões de consumo e poupança são influenciadas pela taxa de juros, que determina o custo de adiar ou antecipar o consumo. Nesse contexto, o indivíduo compara o consumo presente e futuro utilizando conceitos como valor presente, avaliando como diferentes taxas de juros alteram sua restrição orçamentária intertemporal. Além disso, quando há incerteza sobre retornos futuros, a função de utilidade sob risco e a análise probabilística, como a função de densidade acumulada, ajudam a explicar como diferentes perfis de investidores tomam decisões entre opções seguras (renda fixa) e arriscadas (ações), considerando retorno esperado e tolerância ao risco , logo podemos observar que a depender do apetiti para o risco do investidor havera uma utilidade que é maximizada de acordo com o o cenerio que melhor se encaixa com o apetite para o risco do investidor a densidade da probabilidade é útil nesse momento</p></li>
</ul>
</div>
<ul>
<li><div style="text-align: justify">
<p>Ao analisarmos a volatilidade dos ativos em comparação com o <strong>Ibovespa</strong> — principal índice de referência do mercado brasileiro, que apresentou volatilidade de <strong>15,62%</strong> — observamos que <strong>todos os ativos da carteira registram níveis superiores ao benchmark</strong>.</p>
<p>A <strong>LocaWeb (LWSA3)</strong> se destaca como a mais volátil, com <strong>52,47%</strong>, evidenciando risco mais de três vezes superior ao do mercado. Em seguida aparecem <strong>BRF (BRFS3)</strong> com <strong>39,34%</strong> e <strong>Localiza (RENT3)</strong> com <strong>38,84%</strong>, também muito acima do índice. Já <strong>Eletrobras (ELET6)</strong> e <strong>Itaúsa (ITSA4)</strong>, embora tenham registrado as menores volatilidades entre os ativos (<strong>19,01%</strong> e <strong>19,52%</strong>, respectivamente), ainda assim se situam acima da volatilidade do IBOV.</p>
<p>Esses resultados mostram que os investidores expostos a essa carteira assumem <strong>níveis de risco significativamente maiores do que aqueles de uma carteira diversificada que replica o índice de mercado</strong>. Isso exige <strong>maior tolerância à volatilidade</strong> e reforça a importância de alinhar as expectativas de retorno com o perfil de risco assumido.</p>
</div></li>
<li><h1 id="análise-da-distribuição-normal" data-number="5"><span class="header-section-number">5</span> Análise da distribuição normal</h1>
<h2 id="gráficos-de-densidade-para-1-2-e-3-desvios-padrões" data-number="5.1" class="anchored" data-anchor-id="volatilidade"><span class="header-section-number">5.1</span> Gráficos de densidade para 1, 2 e 3 desvios padrões</h2></li>
</ul>
<div style="text-align: justify">
<p>O comportamento individual é analisado pela teoria da escolha do consumidor, que estuda como as pessoas alocam seus recursos para maximizar a utilidade, respeitando limitações orçamentárias. Hal Varian, em seus estudos sobre escolha intertemporal, mostra que as decisões de consumo e poupança são influenciadas pela taxa de juros, que representa o custo de antecipar ou postergar o consumo. Nesse contexto, o indivíduo compara o consumo presente e futuro usando conceitos como valor presente, avaliando como diferentes taxas de juros afetam sua restrição orçamentária ao longo do tempo.</p>
<p>Quando os retornos futuros são incertos, a função de utilidade sob risco e ferramentas probabilísticas, como a função de densidade acumulada, ajudam a compreender como investidores com perfis distintos escolhem entre opções seguras, como renda fixa, e opções mais arriscadas, como ações, considerando o retorno esperado e sua tolerância ao risco.</p>
<p>A análise estatística dos retornos financeiros pode ser ilustrada usando desvios-padrão (DP) para entender a dispersão dos retornos:</p>
<ul>
<li><p>O intervalo de 1 DP cobre cerca de 68% dos retornos esperados.</p></li>
<li><p>O intervalo de 2 DPs abrange aproximadamente 95% dos retornos.</p></li>
<li><p>O intervalo de 3 DPs inclui quase 99,7% dos retornos possíveis (regra empírica da normal).</p></li>
<li><p>O intervalo de 2,5 DPs serve como comparação adicional.</p>
<p>Ao aplicar essa análise aos ativos LWSA3, ELET6, ITSA4, RENT3 e BRFS3, bem como ao Ibovespa, é possível visualizar graficamente:</p></li>
<li><p>Qual ativo apresenta maior dispersão (volatilidade) em torno da média.</p></li>
<li><p>Se os retornos estão concentrados próximos da média ou mais espalhados.</p></li>
<li><p>Como o Ibovespa, por ser um índice diversificado, tende a ter menor dispersão em comparação com ativos individuais.</p></li>
</ul>
</div>
</section>
<section id="conclusão" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="conclusão"><span class="header-section-number">5.2</span> Conclusão:</h2>
<div style="text-align: justify">
<p>A análise dos ativos no período considerado evidencia um comportamento relativamente consistente, com retornos estáveis e perfil de risco que pode ser interessante para investidores com perfil averso ao risco. A avaliação da volatilidade anualizada permitiu organizar os ativos do menos arriscado ao mais arriscado, resultando no seguinte ranking:</p>
<ol type="1">
<li><p><strong>ELET6</strong></p></li>
<li><p>ITSA4</p></li>
<li><p>RENT3</p></li>
<li><p>BRFS3</p></li>
<li><p>LWSA3</p></li>
</ol>
<p>O destaque vai para a <strong>ELET6</strong>, que apresentou a menor volatilidade entre os ativos analisados, demonstrando maior previsibilidade e menor exposição a oscilações bruscas de mercado. É importante observar, no entanto, que a média dos retornos logarítmicos da ELET6 foi negativa (-0,0188%), indicando que, embora seja o ativo mais seguro, ele não proporcionou retorno positivo no período considerado.</p>
<p>A análise das estatísticas básicas, considerando média dos preços, desvio padrão e coeficiente de variação, reforça a consistência dos resultados ao longo do período. A média dos retornos logarítmicos indica que, apesar da variabilidade, os ativos com maior potencial de retorno ajustado ao risco, como ITSA4 e RENT3, podem ser mais interessantes para investidores que buscam equilíbrio entre segurança e rentabilidade.</p>
<p>Para referência, o <strong>Ibovespa (IBOV)</strong> é utilizado como benchmark, por ser um índice diversificado que reflete o desempenho do mercado de ações brasileiro. Segundo Bovespa (2025), o IBOV fornece uma medida de risco relativa menor devido à diversificação, servindo como parâmetro para comparação com ativos individuais.</p>
</div>
</section>
</section>
<section id="modelo-markowitz" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> Modelo Markowitz</h1>
<section id="introdução" class="level3" style="text-align: justify" data-number="6.0.1">
<h3 data-number="6.0.1" class="anchored" data-anchor-id="introdução"><span class="header-section-number">6.0.1</span> Introdução:</h3>
<ul>
<li>Até a década de 1950, os investidores avaliavam risco principalmente a partir de preços passados e informações contábeis, sem um método claro de quantificação. Foi apenas com o artigo de Harry Markowitz, em 1952, que se consolidou a ideia de medir o risco pela variância dos retornos e, sobretudo, de reduzi-lo por meio da diversificação. Como destaca Bernstein em <em>Desafio aos Deuses</em>, “os investidores diversificam seus investimentos porque isso constitui sua melhor arma contra a variância do retorno”Capit15</li>
</ul>
</section>
<section id="intervalo-de-datas-1" class="level3" data-number="6.0.2">
<h3 data-number="6.0.2" class="anchored" data-anchor-id="intervalo-de-datas-1"><span class="header-section-number">6.0.2</span> Intervalo de Datas</h3>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Datas de início e fim</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dataini <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-04-01"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>datafim <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-06-29"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="baixando-os-dados" class="level3" data-number="6.0.3">
<h3 data-number="6.0.3" class="anchored" data-anchor-id="baixando-os-dados"><span class="header-section-number">6.0.3</span> Baixando os dados</h3>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="explicação-dos-ativos" class="level3" data-number="6.0.4">
<h3 data-number="6.0.4" class="anchored" data-anchor-id="explicação-dos-ativos"><span class="header-section-number">6.0.4</span> Explicação dos ativos</h3>
<div style="text-align: justify">
<p>Ativo 1: Locaweb(lwsa3): A LocaWeb é uma das principais empresas brasileiras de serviços de hospedagem, cloud computing e SaaS, posicionando-se como uma player relevante no setor de tecnologia. Empresas de tecnologia são altamente sensíveis ao ciclo econômico, mas se beneficiam de tendências estruturais de longo prazo, como a digitalização de negócios. A companhia tem enfrentado um ambiente competitivo intenso, com margens pressionadas pela guerra de preços e pela necessidade constante de inovação, o que eleva seu risco operacional. Seu alto endividamento para financiar aquisições e investimentos também é um ponto de atenção.</p>
<p>Ativo2: A Eletrobras(elet6) é uma das maiores empresas do setor elétrico da América Latina, atuando principalmente na geração e transmissão de energia. Trata-se de um setor essencial e perene, com receitas altamente previsíveis reguladas por contratos de longo prazo, o que confere maior estabilidade e menor risco ao ativo. Após sua privatização, a empresa busca ganhos de eficiência e redução de custos, potencialmente melhorando seus indicadores financeiros e a distribuição de dividendos.</p>
<p>Ativo 3: Itaúsa(itsa4) : A Itaúsa é uma das maiores holdings de investimento do Brasil, com uma carteira diversificada e focada em setores perenes, como financeiro (Itaú Unibanco), industrial (Alpargatas, Dexco) e de saúde (Hospital Albert Einstein). Esta diversificação confere resiliência aos resultados, alinhando-se à filosofia de investidores conservadores que buscam exposição a ativos de qualidade com menor volatilidade.</p>
<p>Ativo 4: Localiza(rent3): Localiza (RENT3) A Localiza é líder no setor de aluguel de veículos no Brasil, um segmento cíclico e sensível ao desempenho da economia, do crédito e do turismo. A empresa possui um modelo de negócio robusto, com vantagens de escala e uma gestão eficiente de sua frota, mas sofre pressão em cenários de juros altos, que elevam seu custo de capital. Seu endividamento é elevado, porém é considerado estrutural para financiar o crescimento da frota.</p>
<p>Ativo 5:BRF(brfs3): A análise fornecida pelo usuário já é um modelo excelente. Segue uma versão reformulada para variar a redação, mantendo o conteúdo essencial: A BRF é uma gigante global do setor de proteínas, detentora de marcas icônicas como Sadia e Perdigão. O setor de alimentos é altamente competitivo e vulnerável a volatilidade nos custos de commodities (milho, soja) e a cenários macroeconômicos desfavoráveis, que impactam o poder de compra do consumidor.</p>
</div>
</section>
<section id="princípio-da-diversificação" class="level3" data-number="6.0.5">
<h3 data-number="6.0.5" class="anchored" data-anchor-id="princípio-da-diversificação"><span class="header-section-number">6.0.5</span> Princípio Da Diversificação</h3>
<div style="text-align: justify">
<ul>
<li>O princípio da diversificação parte da constatação de que os ativos não se movem de forma idêntica. Quando há correlações baixas ou negativas, as perdas de um ativo podem ser compensadas pelos ganhos de outro, diminuindo assim a volatilidade total da carteira. Essa lógica não elimina o risco sistemático, mas reduz de forma significativa o risco não sistemático, ajudando o investidor a encontrar a combinação de ativos mais eficiente em termos de risco e retorno. Assim, a diversificação representa um marco na evolução das finanças modernas: deixou de ser apenas uma intuição de “não colocar todos os ovos na mesma cesta” e passou a ser fundamentada em cálculo estatístico e otimização. Desde então, tornou-se, como lembra o próprio autor, uma “regra de comportamento sensata” que guia a gestão de investimentos até hoje.</li>
</ul>
</div>
<section id="correlação" class="level4" data-number="6.0.5.1">
<h4 data-number="6.0.5.1" class="anchored" data-anchor-id="correlação"><span class="header-section-number">6.0.5.1</span> Correlação</h4>
<div style="text-align: justify">
<p>A análise da correlação estatística entre os ativos é um dos pilares da diversificação e se conecta diretamente ao conceito de <strong>fronteira eficiente</strong> desenvolvido por Harry Markowitz (1952). Além das medidas tradicionais como a média, o desvio-padrão e o coeficiente de variação dos retornos, a correlação mostra como os ativos se relacionam entre si e com a carteira. Quando a correlação é <strong>negativa</strong>, existe uma relação inversa: enquanto um ativo tende a cair, outro tende a se valorizar ou permanecer estável, o que reduz a volatilidade total da carteira. Já correlações <strong>positivas</strong> indicam que os ativos se movem na mesma direção — ambos sobem ou caem juntos — e, quanto mais próximas de +1, mais forte é essa relação.</p>
<p>Markowitz demonstrou que, ao combinar ativos com correlação <strong>baixa ou negativa</strong>, é possível deslocar a fronteira eficiente para a esquerda, isto é, obter o <strong>mesmo retorno esperado com menor risco</strong> ou <strong>maior retorno para o mesmo risco</strong>. Dessa forma, a diversificação não é apenas uma intuição prática, mas um princípio formalizado pela teoria moderna de portfólios: ao reduzir o risco não sistemático por meio de correlações imperfeitas, o investidor consegue construir carteiras mais estáveis e eficientes em termos de risco-retorno.</p>
<ul>
<li><p><strong>Alta correlação positiva</strong> entre LWSA3-ITSA4 (0.83) e LWSA3-RENT3 (0.86), indicando que esses pares tendem a se mover juntos, oferecendo menos benefícios de diversificação.</p></li>
<li><p><strong>Correlações moderadas</strong> entre a maioria dos outros pares, sugerindo oportunidades de diversificação.</p></li>
<li><p>De acordo com a teoria de Markowitz, a diversificação eficiente requer:</p>
<ul>
<li><p>Baixas ou negativas correlações entre ativos</p></li>
<li><p>Consideração de retornos esperados e variâncias individuais</p></li>
<li><p>Cálculo de covariâncias para estimar o risco da carteira</p></li>
</ul></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-21-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-21-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-21-4.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-21-5.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="fronteira-eficiente" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="fronteira-eficiente"><span class="header-section-number">6.1</span> Fronteira Eficiente:</h2>
<div style="text-align: justify">
<ul>
<li>A análise da correlação estatística entre os ativos é um dos pilares da diversificação e se conecta diretamente ao conceito de <strong>fronteira eficiente</strong> desenvolvido por Harry Markowitz (1952). Além das medidas tradicionais como a média, o desvio-padrão e o coeficiente de variação dos retornos, a correlação mostra como os ativos se relacionam entre si e com a carteira. Quando a correlação é <strong>negativa</strong>, existe uma relação inversa: enquanto um ativo tende a cair, outro tende a se valorizar ou permanecer estável, o que reduz a volatilidade total da carteira. Já correlações <strong>positivas</strong> indicam que os ativos se movem na mesma direção — ambos sobem ou caem juntos — e, quanto mais próximas de +1, mais forte é essa relação. Markowitz demonstrou que, ao combinar ativos com correlação <strong>baixa ou negativa</strong>, é possível deslocar a fronteira eficiente para a esquerda, isto é, obter o <strong>mesmo retorno esperado com menor risco</strong> ou <strong>maior retorno para o mesmo risco</strong>. Dessa forma, a diversificação não é apenas uma intuição prática, mas um princípio formalizado pela teoria moderna de portfólios: ao reduzir o risco não sistemático por meio de correlações imperfeitas, o investidor consegue construir carteiras mais estáveis e eficientes em termos de risco-retorno.</li>
<li><strong>Correlação</strong>: A maior parte das correlações entre ativos foi <strong>positiva e moderada</strong> (valores entre 0,15 e 0,48), o que indica que os ativos tendem a se mover na mesma direção, mas não de forma perfeita. O destaque fica para a correlação <strong>negativa entre brfs3 e itsa4 (-0,044)</strong>, que embora fraca, ainda contribui para o efeito de diversificação da carteira.</li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="princípio-da-otimização" class="level3" data-number="6.1.1">
<h3 data-number="6.1.1" class="anchored" data-anchor-id="princípio-da-otimização"><span class="header-section-number">6.1.1</span> Princípio Da Otimização:</h3>
<div style="text-align: justify">
<p>O princípio da otimização de carteiras segundo Markowitz baseia-se na ideia de que os investidores buscam maximizar o retorno esperado de seus investimentos, ao mesmo tempo em que minimizam o risco associado. A tarefa de otimizar uma carteira pode ser descrita de duas formas complementares:</p>
<ol type="1">
<li><p><strong>Maximização do retorno esperado</strong>, sujeita a um nível específico de risco definido pelo investidor;</p></li>
<li><p><strong>Minimização do risco (variância)</strong>, sujeita a um nível de retorno desejado.</p></li>
</ol>
<p>em que:</p>
<ul>
<li><p>a variância da carteira, representando o risco total;</p></li>
<li><p>o retorno esperado da carteira;</p></li>
<li><p>os resultados são, respectivamente, os níveis de risco e retorno que o investidor deseja atingir.</p></li>
</ul>
<p>As carteiras resultantes desse processo são conhecidas como <strong>carteiras de Markowitz</strong>, sendo consideradas eficientes por maximizarem o retorno esperado para um dado nível de risco. O conjunto de todas as carteiras eficientes forma a <strong>Fronteira Eficiente</strong>, que representa o trade-off ideal entre risco e retorno para diferentes combinações de ativos.</p>
<p>Em termos gráficos, essas carteiras são ilustradas no plano Retorno Esperado vs.&nbsp;Desvio-Padrão, permitindo ao investidor visualizar a relação entre risco e retorno de forma clara, como descrito por Copeland (Capítulo 5) e detalhado por Damodaran em sua abordagem prática de análise de portfólio.</p>
</div>
</section>
</section>
<section id="carteira-de-markowitz-análise-de-risco-e-retorno-com-diversificação" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="carteira-de-markowitz-análise-de-risco-e-retorno-com-diversificação"><span class="header-section-number">6.2</span> Carteira de Markowitz: Análise de Risco e Retorno com Diversificação</h2>
<p><img src="Captura%20de%20tela%202025-09-14%20124127.png" class="img-fluid"></p>
<div style="text-align: justify">
<p>A análise da carteira mostra a aplicação prática da teoria de Markowitz: com pesos iguais entre os ativos, o portfólio apresentou retorno esperado de <strong>0,22</strong> e desvio-padrão de <strong>1,38</strong>, ambos superiores em eficiência quando comparados aos ativos isolados. Embora alguns ativos apresentem retornos negativos, a diversificação permitiu reduzir a volatilidade global e alcançar retorno positivo, comprovando o efeito da correlação imperfeita. Assim, a carteira aproxima-se da <strong>fronteira eficiente</strong>, ponto no qual o investidor racional consegue maximizar o retorno sujeito ao risco ou minimizar o risco para um retorno desejado. Na prática, isso significa avaliar como cada novo ativo impacta a variância da carteira e buscar o ponto ótimo de tangência, onde se obtém o equilíbrio entre risco e rentabilidade.</p>
</div>
</section>
<section id="organizando-os-retornos-em-um-dataframe" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="organizando-os-retornos-em-um-dataframe"><span class="header-section-number">6.3</span> Organizando os retornos em um dataframe:</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="carteira-com-mínima-variância" class="level3" data-number="6.3.1">
<h3 data-number="6.3.1" class="anchored" data-anchor-id="carteira-com-mínima-variância"><span class="header-section-number">6.3.1</span> Carteira com Mínima Variância</h3>
<div style="text-align: justify">
<ul>
<li>O <strong>retorno esperado médio da carteira</strong> é de aproximadamente <strong>0,685% ao período analisado</strong>, com um <strong>risco medido pelo desvio padrão (Sigma) de 3,31%</strong>. A carteira apresenta também indicadores de risco mais extremos, como <strong>VaR de 5,46%</strong> e <strong>CVaR de 5,55%</strong>, indicando que, em cenários adversos, as perdas podem ser relevantes.</li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-24-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="carteira-ótima" class="level3" data-number="6.3.2">
<h3 data-number="6.3.2" class="anchored" data-anchor-id="carteira-ótima"><span class="header-section-number">6.3.2</span> Carteira ótima:</h3>
<div style="text-align: justify">
<ul>
<li><p>A otimização de carteiras realizada exemplifica perfeitamente os dois princípios fundamentais da teoria moderna de portfólio. A carteira customizada construída com retorno-alvo de 0,5% demonstra na prática a aplicação do conceito de&nbsp;<strong>maximização de retorno para um nível de risco específico</strong>.</p></li>
<li><p><strong>Composição Concentrada</strong>: A carteira otimizada concentra-se em apenas três ativos (LWSA3: 60,46%, ITSA4: 35,77%, RENT3: 3,76%), excluindo completamente ELET6 e BRFS3. Esta seleção rigorosa reflete o processo matemático de identificar quais ativos contribuem positivamente para a relação risco-retorno desejada.</p></li>
<li><p><strong>Risco-Retorno Balanceado</strong>: Com volatilidade de 2,22% para um retorno esperado de 0,5%, a carteira situa-se em um ponto eficiente da fronteira, onde qualquer tentativa de aumentar o retorno implicaria em aumento desproporcional do risco, e vice-versa.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-25-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-25-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="carteira-de-retorno-cartelado" class="level3" data-number="6.3.3">
<h3 data-number="6.3.3" class="anchored" data-anchor-id="carteira-de-retorno-cartelado"><span class="header-section-number">6.3.3</span> Carteira de retorno cartelado</h3>
<div style="text-align: justify">
<ul>
<li><p>A carteira otimizada com retorno-alvo de 0,6% exemplifica os princípios fundamentais da teoria de otimização de portfólio. Esta composição extremamente concentrada - com&nbsp;<strong>81,93% em LWSA3</strong>&nbsp;e&nbsp;<strong>18,07% em ITSA4</strong>, excluindo completamente os demais ativos - revela importantes insights sobre a eficiência fronteira neste nível específico de retorno.</p></li>
<li><p><strong>Maximização de Retorno com Restrição de Risco</strong>: Para atingir o retorno desejado de 0,6%, o algoritmo de otimização identificou que apenas dois ativos oferecem a combinação ideal de retorno esperado e contribuição marginal ao risco da carteira. A exclusão de ELET6, RENT3 e BRFS3 indica que estes ativos, individualmente ou em combinação, não conseguiam oferecer a eficiência risco-retorno necessária para este objetivo específico.</p></li>
<li><p><strong>Minimização da Variância para Retorno-Alvo</strong>: A concentração em apenas dois ativos demonstra que, matematicamente, esta é a combinação que minimiza a variância total da carteira (2,79%) para o retorno exigido de 0,6%. A contribuição desproporcional de LWSA3 para o risco total (96,65%) versus ITSA4 (3,35%) sugere que o primeiro é significativamente mais volátil, mas oferece retornos esperados suficientes para justificar seu peso dominante na carteira.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-26-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<section id="carteira-com-ativo-livre-de-risco" class="level4" data-number="6.3.3.1">
<h4 data-number="6.3.3.1" class="anchored" data-anchor-id="carteira-com-ativo-livre-de-risco"><span class="header-section-number">6.3.3.1</span> Carteira com ativo livre de risco</h4>
<div style="text-align: justify">
<ul>
<li><p>A carteira otimizada com retorno-alvo de 0,1% exemplifica perfeitamente o princípio de&nbsp;<strong>minimização da variância sujeita a um nível de retorno desejado</strong>. Esta composição demonstra como a otimização matemática identifica combinações eficientes mesmo para retornos relativamente baixos.</p></li>
<li><p><strong>Minimização da Variância com Restrição de Retorno</strong>: Para o retorno modesto de 0,1%, o algoritmo identificou uma carteira diversificada com volatilidade de apenas 0,95% - significativamente inferior ao Ibovespa. A exclusão completa do LWSA3 sugere que este ativo, provavelmente mais volátil, não se justificaria para um retorno tão conservador.</p></li>
<li><p><strong>Composição Balanceada de Risco</strong>: A alocação mostra distribuição equilibrada entre ELET6 (35,75%), ITSA4 (47,51%), BRFS3 (13,53%) e RENT3 (3,20%), com contribuições de risco correspondentes aproximadamente aos pesos (34,04%, 49,70%, 12,88% e 3,39% respectivamente). Esta proporcionalidade indica correlações favoráveis entre os ativos selecionados.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-27-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-27-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-27-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="carteira-customizada" class="level4" data-number="6.3.3.2">
<h4 data-number="6.3.3.2" class="anchored" data-anchor-id="carteira-customizada"><span class="header-section-number">6.3.3.2</span> Carteira Customizada</h4>
<div style="text-align: justify">
<ul>
<li><p>A carteira tangente otimizada apresenta um resultado extremamente concentrado que exemplifica tanto o poder quanto as limitações práticas da teoria de otimização de portfólios. A alocação de virtualmente&nbsp;<strong>100% no ativo LWSA3</strong>&nbsp;com exclusão quase total dos demais ativos revela insights importantes sobre a eficiência marginal na fronteira de risco-retorno.</p></li>
<li><p><strong>Maximização do Índice de Sharpe</strong>: A carteira tangente busca maximizar o prêmio por unidade de risco (retorno excedente em relação à taxa livre de risco dividido pela volatilidade). A concentração extrema em LWSA3 sugere que este ativo oferece a <strong>maior relação retorno-risco ajustada</strong> entre todas as opções disponíveis, superando significativamente os demais ativos nesta métrica específica.</p></li>
<li><p><strong>Eficiência Marginal na Fronteira</strong>: O resultado demonstra que, segundo o modelo matemático, a adição de qualquer outro ativo à carteira <strong>reduziria a eficiência global</strong> do portfólio, diminuindo o índice de Sharpe abaixo do nível ótimo alcançável com LWSA3 isoladamente.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-28-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-28-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="beta-mercado" class="level2" data-number="6.4">
<h2 data-number="6.4" class="anchored" data-anchor-id="beta-mercado"><span class="header-section-number">6.4</span> Beta Mercado:</h2>
<div style="text-align: justify">
<ul>
<li>O conceito de Beta insere-se na teoria do mercado de capitais como uma alternativa pragmática para superar as complexidades operacionais do modelo de Markowitz. Enquanto o modelo de Markowitz requer o cálculo de matrizes de covariância entre todos os pares de ativos - uma abordagem computacionalmente intensiva e suscetível a erros de estimação -, o modelo de mercado simplifica esta análise ao relacionar o comportamento de cada ativo diretamente com um índice de referência através de uma regressão linear simples. No contexto brasileiro, o Ibovespa consolida-se como nosso principal benchmark, sintetizando o desempenho dos papéis mais representativos negociados na B3. Esta relação funcional permite quantificar a sensibilidade individual dos ativos aos movimentos do mercado por meio do coeficiente Beta.</li>
</ul>
</div>
<section id="baixando-os-dados-da-selic" class="level4" data-number="6.4.0.1">
<h4 data-number="6.4.0.1" class="anchored" data-anchor-id="baixando-os-dados-da-selic"><span class="header-section-number">6.4.0.1</span> Baixando os dados da Selic:</h4>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-29-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-29-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-30-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">
<p>Este código está realizando uma&nbsp;<strong>coleta e preparação abrangente de dados financeiros</strong>&nbsp;para análise de uma carteira de investimentos no contexto brasileiro, especificamente para calcular o Beta dos ativos em relação ao Ibovespa.&nbsp;</p>
</div>
</section>
<section id="calculando-o-beta-mercado" class="level3" data-number="6.4.1">
<h3 data-number="6.4.1" class="anchored" data-anchor-id="calculando-o-beta-mercado"><span class="header-section-number">6.4.1</span> Calculando o Beta Mercado:</h3>
<div style="text-align: justify">
<p>Nesse código estou organizando as séries históricas de preços de ativos financeiros e indicadores de mercado, preparando a base para o cálculo do <strong>Beta</strong> e análise de risco sistemático de uma carteira composta por cinco ativos: <strong>LWSA3, ELET6, ITSA4, RENT3 e BRFS3</strong>.</p>
</div>
<div style="text-align: justify">
<p>O código implementa, de forma prática:</p>
<ol type="1">
<li><p>Obtenção de dados de ativos e índices.</p></li>
<li><p>Cálculo de <strong>retornos logarítmicos</strong>.</p></li>
<li><p>Cálculo de <strong>excess returns</strong> em relação à taxa livre de risco.</p></li>
<li><p>Estimativa de <strong>Beta</strong> via regressão linear simples.</p></li>
<li><p>Aplicação prática do <strong>CAPM</strong> para análise de risco e retorno.</p></li>
</ol>
</div>
</section>
<section id="analisando-o-ativo-lwsa3" class="level3" data-number="6.4.2">
<h3 data-number="6.4.2" class="anchored" data-anchor-id="analisando-o-ativo-lwsa3"><span class="header-section-number">6.4.2</span> Analisando o ativo LWSA3:</h3>
<div style="text-align: justify">
<ul>
<li>Extração de resíduos: A forma do histograma mostra resíduos próximos da normal, mas com pequenas diferenças nas caudas. Isso significa que os choques extremos são raros, mas ainda possíveis.</li>
</ul>
<!-- -->
<ul>
<li><p>Teste de normalidade: Com p-valor de 0.7749, não rejeitamos a hipótese nula. Na prática, isso sugere que o modelo capta razoavelmente bem o comportamento dos retornos.</p></li>
<li><p>Heterocedasticidade: O p-valor elevado indica homocedasticidade, ou seja, a variância dos resíduos é relativamente constante. Isso é importante porque significa que o risco estimado não varia demais ao longo do tempo.</p></li>
<li><p>Autocorrelação: Ausência de dependência temporal nos resíduos. Ou seja, um erro de hoje não ajuda a prever o erro de amanhã.</p></li>
<li><p>ARCH: Também não há evidência de clusters de volatilidade. Na prática, este ativo se comporta de forma mais “bem-comportada”, sem exigir modelos muito sofisticados de risco.</p></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-33-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-33-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-33-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="analisando-o-ativo-elet6" class="level3" data-number="6.4.3">
<h3 data-number="6.4.3" class="anchored" data-anchor-id="analisando-o-ativo-elet6"><span class="header-section-number">6.4.3</span> Analisando o ativo ELET6:</h3>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>Extração de resíduos: O histograma comparado à curva normal mostra que a distribuição dos resíduos não segue uma normal perfeita, apresentando caudas mais pesadas (excesso de curtose), principalmente do lado positivo. Isso indica maior probabilidade de valores extremos.</p></li>
<li><p>Teste de normalidade: O p-valor obtido foi 0.5417, ou seja, não rejeitamos a hipótese nula de normalidade. Em termos práticos, os resíduos podem ser considerados aproximadamente normais segundo este teste.</p></li>
<li><p>Teste de heterocedasticidade: Como o p-valor também foi 0.5417, aceitamos a hipótese nula de homocedasticidade. Isso significa que a variância dos resíduos é constante ao longo do tempo, não havendo fortes indícios de heterocedasticidade.</p></li>
<li><p>Autocorrelação: O teste retornou p-valor de 0.5417, indicando que não rejeitamos a hipótese nula de ausência de autocorrelação. Portanto, os resíduos podem ser considerados aproximadamente independentes no tempo.</p></li>
<li><p>Teste ARCH: Apesar do p-valor de 0.5417, que normalmente levaria a não rejeitar a hipótese nula, o resultado sugere que há indícios da presença de efeito ARCH, ou seja, períodos de maior volatilidade tendem a ser seguidos por períodos igualmente voláteis, mesmo que os resíduos médios não apresentem autocorrelação.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-34-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-34-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-34-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="analisando-o-ativo-itsa4" class="level3" data-number="6.4.4">
<h3 data-number="6.4.4" class="anchored" data-anchor-id="analisando-o-ativo-itsa4"><span class="header-section-number">6.4.4</span> Analisando o ativo Itsa4:</h3>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>Extração de resíduos: O histograma mostra caudas mais longas, sugerindo maior probabilidade de eventos extremos do que a normal prevê.</p></li>
<li><p>Teste de normalidade: p-valor = 0.05024, próximo do limite de 5%. Isso nos leva a rejeitar a normalidade. Na prática, significa que o risco não está bem captado pela simples volatilidade — choques podem ser subestimados.</p></li>
<li><p>Heterocedasticidade: Indícios de variância não constante. Em termos financeiros, o risco do ativo muda ao longo do tempo, havendo períodos de maior ou menor incerteza.</p></li>
<li><p>Autocorrelação: A presença de autocorrelação sugere que há padrões nos resíduos. Isso significa que existem informações ainda não explicadas pelo modelo linear — oportunidade para modelos não-lineares ou machine learning.</p></li>
<li><p>ARCH: O resultado aponta para efeitos ARCH, ou seja, a volatilidade depende de choques passados. Na prática, justifica o uso de modelos GARCH, que são capazes de prever períodos de turbulência e são amplamente usados em precificação de derivativos e controle de risco.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-35-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-35-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-35-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="analisando-o-ativo-rent3" class="level3" data-number="6.4.5">
<h3 data-number="6.4.5" class="anchored" data-anchor-id="analisando-o-ativo-rent3"><span class="header-section-number">6.4.5</span> Analisando o ativo Rent3:</h3>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>Extração de resíduos: A distribuição é relativamente simétrica e próxima da normal, mas com pequenas discrepâncias nas extremidades.</p></li>
<li><p>Teste de normalidade: p-valor = 0.8255, não rejeitamos a hipótese nula. Isso indica que a distribuição de retornos não foge muito da suposição clássica.</p></li>
<li><p>Heterocedasticidade: O teste sugere homocedasticidade. Ou seja, não há sinais de risco variando em intensidade, o que simplifica a modelagem.</p></li>
<li><p>Autocorrelação: Não foi identificada. Isso significa que os erros são independentes, condizente com um mercado mais eficiente, em que não há padrões fáceis de explorar.</p></li>
<li><p>ARCH: Não encontramos evidência de efeitos ARCH. Em termos práticos, a volatilidade não apresenta clusters marcantes. Esse comportamento é interessante, pois indica que a dinâmica de RENT3 é menos sujeita a choques persistentes.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-36-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-36-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-36-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="analisando-o-ativo-brfs3" class="level3" data-number="6.4.6">
<h3 data-number="6.4.6" class="anchored" data-anchor-id="analisando-o-ativo-brfs3"><span class="header-section-number">6.4.6</span> Analisando o ativo Brfs3:</h3>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>Extração de resíduos: O histograma se ajusta bem à curva normal, com pequenas variações esperadas em séries financeiras.</p></li>
<li><p>Teste de normalidade: p-valor = 0.8654, reforçando a hipótese de normalidade. Esse resultado é raro em ativos financeiros, pois geralmente há desvios significativos.</p></li>
<li><p>Heterocedasticidade: Não foram encontrados sinais de variância variável. Isso sugere que o risco do ativo se mantém estável, ao menos dentro da amostra.</p></li>
<li><p>Autocorrelação: Não houve evidência de dependência serial. Ou seja, os resíduos são essencialmente aleatórios, reforçando a ideia de que o modelo capturou bem a dinâmica dos retornos.</p></li>
<li><p>ARCH: Sem indícios de efeito ARCH. Na prática, significa que a volatilidade deste ativo é bem distribuída e não forma “clusters” de alta ou baixa volatilidade, comportamento mais próximo ao idealizado pela teoria clássica de finanças.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-37-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-37-2.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-37-3.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="gráfico-de-comparação-dos-betas" class="level2" data-number="6.5">
<h2 data-number="6.5" class="anchored" data-anchor-id="gráfico-de-comparação-dos-betas"><span class="header-section-number">6.5</span> Gráfico de Comparação dos Betas:</h2>
<div style="text-align: justify">
<ul>
<li><p>Análise Prática dos Betas da Carteira:</p></li>
<li><p>Ativos com Beta Elevado (β &gt; 1):</p>
<ul>
<li><p>LWSA3 (β = 1,68): Apresenta sensibilidade acentuada aos movimentos do mercado, com volatilidade aproximadamente 68% superior ao Ibovespa. Característica típica de ações de crescimento e setores tecnológicos.</p></li>
<li><p>RENT3 (β = 1,16): Demonstra volatilidade moderadamente superior ao mercado, refletindo setor cíclico sensível às condições econômicas.</p></li>
</ul></li>
<li><p>Ativos com Beta Moderado (β &lt; 1):</p>
<ul>
<li><p>ELET6 (β = 0,74): Exibe menor volatilidade que o mercado, compatível com características defensivas do setor elétrico.</p></li>
<li><p>ITSA4 (β = 0,80) e BRFS3 (β = 0,81): Apresentam sensibilidade ligeiramente inferior ao mercado, indicando relativa resiliência durante oscilações.</p></li>
</ul></li>
</ul>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-38-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="análise-de-curto-prazo" class="level2" data-number="6.6">
<h2 data-number="6.6" class="anchored" data-anchor-id="análise-de-curto-prazo"><span class="header-section-number">6.6</span> Análise de Curto Prazo:</h2>
<div style="text-align: justify">

</div>
</section>
<section id="análise-de-curto-médio" class="level2" data-number="6.7">
<h2 data-number="6.7" class="anchored" data-anchor-id="análise-de-curto-médio"><span class="header-section-number">6.7</span> Análise de Curto Médio:</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fBasics)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(SelicD) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"data"</span>, <span class="st">"selicdiaria"</span>)</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  graficoselic <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> SelicD, <span class="fu">aes</span>(<span class="at">x =</span> data, <span class="at">y =</span> selicdiaria)) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span>  </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Evolução da Taxa Selic Diária"</span>,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Período de"</span>, <span class="fu">format</span>(<span class="fu">as.Date</span>(<span class="st">"2025-01-01"</span>), <span class="st">"%d/%m/%Y"</span>), <span class="st">"a"</span>, <span class="fu">format</span>(<span class="fu">as.Date</span>(<span class="st">"2025-08-29"</span>), <span class="st">"%d/%m/%Y"</span>)),</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Data"</span>,</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Taxa de Juros (% a.d.)"</span>,</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Fonte: Banco Central do Brasil (via pacote rbcb)"</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>), </span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>) </span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="co"># Exibe o gráfico gerado</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(graficoselic)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yfR)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) IBOVESPA em formato zoo</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>ibov_df <span class="ot">&lt;-</span> <span class="fu">yf_get</span>(<span class="st">"^BVSP"</span>, <span class="at">first_date =</span> <span class="st">"2025-04-01"</span>, <span class="at">last_date =</span> <span class="st">"2025-08-29"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Running yfR for 1 stocks | 2025-04-01 --&gt; 2025-08-29 (150 days) ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Downloading data for benchmark ticker ^GSPC</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ (1/1) Fetching data for ^BVSP</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - found cache file (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 105 valid rows (2025-04-01 --&gt; 2025-08-29)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 98% of valid prices -- Good stuff!</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Binding price data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Diagnostics ─────────────────────────────────────────────────────────────────</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ Returned dataframe with 105 rows -- Good stuff!</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Using 101.2 kB at C:\Users\Carolina\AppData\Local\Temp\RtmpglNq6c/yf_cache for 7 cache files</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Out of 1 requested tickers, you got 1 (100%)</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ibov <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ibov_df<span class="sc">$</span>price_adjusted, <span class="at">order.by =</span> ibov_df<span class="sc">$</span>ref_date)  <span class="co"># objeto zoo</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Junta Ibov + Selic</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(<span class="fu">merge</span>(ibov, Selic))</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Data =</span> <span class="fu">index</span>(dados2), <span class="fu">coredata</span>(dados2))</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dados2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Data"</span>, <span class="st">"Ibovespa"</span>, <span class="st">"SELIC"</span>)</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(dados2); dados2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por CarteiraBETA (pos = 7):

    Ibovespa</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por dados2 (pos = 8):

    Data, Ibovespa, SELIC</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por package:fPortfolio:

    Data</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>         Data Ibovespa    SELIC
1  2025-04-01   131147 0.052531
2  2025-04-02   131190 0.052531
3  2025-04-03   131141 0.052531
4  2025-04-04   127256 0.052531
5  2025-04-07   125588 0.052531
6  2025-04-08   123932 0.052531
7  2025-04-09   127796 0.052531
8  2025-04-10   126355 0.052531
9  2025-04-11   127682 0.052531
10 2025-04-14   129454 0.052531
11 2025-04-15   129245 0.052531
12 2025-04-16   128317 0.052531
13 2025-04-17   129650 0.052531
14 2025-04-22   130464 0.052531
15 2025-04-23   132216 0.052531
16 2025-04-24   134580 0.052531
17 2025-04-25   134739 0.052531
18 2025-04-28   135016 0.052531
19 2025-04-29   135093 0.052531
20 2025-04-30   135067 0.052531
21 2025-05-02   135134 0.052531
22 2025-05-05   133491 0.052531
23 2025-05-06   133516 0.052531
24 2025-05-07   133398 0.052531
25 2025-05-08   136232 0.054266
26 2025-05-09   136512 0.054266
27 2025-05-12   136563 0.054266
28 2025-05-13   138963 0.054266
29 2025-05-14   138423 0.054266
30 2025-05-15   139334 0.054266
31 2025-05-16   139187 0.054266
32 2025-05-19   139636 0.054266
33 2025-05-20   140110 0.054266
34 2025-05-21   137881 0.054266
35 2025-05-22   137273 0.054266
36 2025-05-23   137824 0.054266
37 2025-05-26   138136 0.054266
38 2025-05-27   139541 0.054266
39 2025-05-28   138888 0.054266
40 2025-05-29   138534 0.054266
41 2025-05-30   137027 0.054266
42 2025-06-02   136787 0.054266
43 2025-06-03   137546 0.054266
44 2025-06-04   137002 0.054266
45 2025-06-05   136236 0.054266
46 2025-06-06   136102 0.054266
47 2025-06-09   135699 0.054266
48 2025-06-10   136436 0.054266
49 2025-06-11   137128 0.054266
50 2025-06-12   137800 0.054266
51 2025-06-13   137213 0.054266
52 2025-06-16   139256 0.054266
53 2025-06-17   138840 0.054266
54 2025-06-18   138717 0.054266
55 2025-06-20   137116 0.055131
56 2025-06-23   136551 0.055131
57 2025-06-24   137165 0.055131
58 2025-06-25   135767 0.055131
59 2025-06-26   137114 0.055131
60 2025-06-27   136866 0.055131</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Ativos em formato zoo</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>ativos_df <span class="ot">&lt;-</span> <span class="fu">yf_get</span>(</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">tickers =</span> <span class="fu">c</span>(<span class="st">"LWSA3.SA"</span>, <span class="st">"ELET6.SA"</span>, <span class="st">"ITSA4.SA"</span>, <span class="st">"RENT3.SA"</span>, <span class="st">"BRFS3.SA"</span>),</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">first_date =</span> <span class="st">"2025-04-01"</span>,</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">last_date =</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Running yfR for 5 stocks | 2025-04-01 --&gt; 2025-10-03 (185 days) ──</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Downloading data for benchmark ticker ^GSPC</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ (1/5) Fetching data for BRFS3.SA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - found cache file (2025-04-01 --&gt; 2025-09-22)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 121 valid rows (2025-04-01 --&gt; 2025-09-22)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 92% of valid prices -- You got it !</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ (2/5) Fetching data for ELET6.SA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - found cache file (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 129 valid rows (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 98% of valid prices -- Looking good!</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ (3/5) Fetching data for ITSA4.SA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - found cache file (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 129 valid rows (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 98% of valid prices -- Nice!</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ (4/5) Fetching data for LWSA3.SA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - found cache file (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 129 valid rows (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 98% of valid prices -- Youre doing good!</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ (5/5) Fetching data for RENT3.SA</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - found cache file (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 129 valid rows (2025-04-01 --&gt; 2025-10-02)</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔   - got 98% of valid prices -- Well done !</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Binding price data</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code></code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Diagnostics ─────────────────────────────────────────────────────────────────</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>✔ Returned dataframe with 637 rows -- You got it !</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Using 100.5 kB at C:\Users\Carolina\AppData\Local\Temp\RtmpglNq6c/yf_cache for 7 cache files</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>ℹ Out of 5 requested tickers, you got 5 (100%)</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Converte cada ativo para zoo separado (igual professor fez)</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>lwsa3 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"LWSA3.SA"</span>],</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"LWSA3.SA"</span>])</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>elet6 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ELET6.SA"</span>],</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ELET6.SA"</span>])</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>itsa4 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ITSA4.SA"</span>],</span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ITSA4.SA"</span>])</span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>rent3 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"RENT3.SA"</span>],</span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"RENT3.SA"</span>])</span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>brfs3 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"BRFS3.SA"</span>],</span>
<span id="cb55-15"><a href="#cb55-15" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"BRFS3.SA"</span>])</span>
<span id="cb55-16"><a href="#cb55-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-17"><a href="#cb55-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 5) Merge geral (igual professor)</span></span>
<span id="cb55-18"><a href="#cb55-18" aria-hidden="true" tabindex="-1"></a>Ativos <span class="ot">&lt;-</span> <span class="fu">merge</span>(lwsa3, elet6, itsa4, rent3, brfs3, ibov, Selic)</span>
<span id="cb55-19"><a href="#cb55-19" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">na.omit</span>(Ativos[,<span class="dv">1</span>]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 129</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>Data1 <span class="ot">&lt;-</span> <span class="fu">index</span>(<span class="fu">na.omit</span>(Ativos)); <span class="fu">length</span>(Data1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 6) Carteira BETA final</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>CarteiraBETA <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">na.omit</span>(Ativos), Data1)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(CarteiraBETA) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lwsa3"</span>, <span class="st">"elet6"</span>, <span class="st">"itsa4"</span>, <span class="st">"rent3"</span>, <span class="st">"brfs3"</span>, <span class="st">"Ibovespa"</span>, <span class="st">"Selic"</span>, <span class="st">"Data1"</span>)</span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(CarteiraBETA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados _por_ .GlobalEnv:

    brfs3, Data1, elet6, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por dados2 (pos = 3):

    Ibovespa</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por CarteiraBETA (pos = 7):

    brfs3, Data1, elet6, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por CarteiraBETA (pos = 8):

    brfs3, Data1, elet6, Ibovespa, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>O seguinte objeto é mascarado por dados2 (pos = 9):

    Ibovespa</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por Correl:

    brfs3, elet6, itsa4, lwsa3, rent3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">max.print =</span> <span class="dv">99999</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>CarteiraBETA</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>              lwsa3    elet6     itsa4    rent3 brfs3 Ibovespa    Selic
2025-04-01 2.675521 42.48936  9.192216 34.21803 20.14   131147 0.052531
2025-04-02 2.675521 42.43191  9.201954 35.53411 19.80   131190 0.052531
2025-04-03 2.695267 42.89146  9.367491 36.30426 19.64   131141 0.052531
2025-04-04 2.547175 42.12555  9.094840 35.19290 19.25   127256 0.052531
2025-04-07 2.586666 41.95321  9.153266 34.91019 19.20   125588 0.052531
2025-04-08 2.655776 41.99151  9.133791 34.80295 19.06   123932 0.052531
2025-04-09 2.803867 42.72871  9.348017 36.04104 20.56   127796 0.052531
2025-04-10 2.932213 43.20741  9.299328 36.46024 20.35   126355 0.052531
2025-04-11 2.902595 42.92976  9.396704 37.60083 20.54   127682 0.052531
2025-04-14 2.951959 43.61909  9.523291 38.27349 20.41   129454 0.052531
2025-04-15 2.981577 43.33187  9.649879 38.40998 20.67   129245 0.052531
2025-04-16 2.991450 42.47021  9.630405 37.77631 20.68   128317 0.052531
2025-04-17 3.455470 43.65738  9.688828 39.23862 21.15   129650 0.052531
2025-04-22 3.475216 43.44676  9.903054 38.16626 21.78   130464 0.052531
2025-04-23 3.662798 44.08821 10.068593 39.34586 21.49   132216 0.052531
2025-04-24 3.741781 45.37112 10.282818 40.55470 22.01   134580 0.052531
2025-04-25 3.840508 45.17965 10.292556 41.73430 22.90   134739 0.052531
2025-04-28 3.712162 45.39028 10.350980 41.97801 22.70   135016 0.052531
2025-04-29 3.623307 45.62005 10.350980 42.09500 22.75   135093 0.052531
2025-04-30 3.564071 46.28320 10.419143 41.88052 22.70   135067 0.052531
2025-05-02 3.554198 46.03370 10.253605 42.01701 22.46   135134 0.052531
2025-05-05 3.465343 45.28518 10.204916 41.97801 21.44   133491 0.052531
2025-05-06 3.455470 45.34276 10.175705 40.94464 20.35   133516 0.052531
2025-05-07 3.406106 45.07406 10.263343 41.03239 20.26   133398 0.052531
2025-05-08 3.524580 45.65944 10.321769 42.79691 20.39   136232 0.054266
2025-05-09 3.485089 45.97612 10.759956 39.96978 19.20   136512 0.054266
2025-05-12 3.297506 45.60186 10.516520 40.45721 19.71   136563 0.054266
2025-05-13 3.554198 45.88015 10.682056 40.69118 20.20   138963 0.054266
2025-05-14 3.564071 45.70742 10.711268 38.71219 19.68   138423 0.054266
2025-05-15 3.613435 44.27756 10.847594 39.72606 20.62   139334 0.054266
2025-05-16 3.643053 44.47908 10.925494 40.78867 20.78   139187 0.054266
2025-05-19 3.643053 44.94931 11.042345 41.04213 20.50   139636 0.054266
2025-05-20 3.791144 44.74778 11.061819 40.65219 21.00   140110 0.054266
2025-05-21 3.722035 44.30635 10.896281 39.34586 21.04   137881 0.054266
2025-05-22 3.801017 44.27756 10.759956 39.54083 21.42   137273 0.054266
2025-05-23 3.771399 44.65182 10.847594 39.57008 21.42   137824 0.054266
2025-05-26 3.801017 44.77657 10.896281 39.82354 21.31   138136 0.054266
2025-05-27 3.801017 45.27559 10.993657 41.57832 20.56   139541 0.054266
2025-05-28 3.731908 44.79576 10.876806 42.23148 20.39   138888 0.054266
2025-05-29 3.662798 45.42912 10.798906 42.34846 20.56   138534 0.054266
2025-05-30 3.712162 45.07406 10.779431 41.88052 20.30   137027 0.054266
2025-06-02 3.692417 44.71899 10.734085 42.22173 20.50   136787 0.054266
2025-06-03 3.889872 44.90133 10.714567 42.03650 20.50   137546 0.054266
2025-06-04 4.087327 44.62303 10.685293 42.60193 20.50   137002 0.054266
2025-06-05 3.870127 44.28716 10.568194 43.08937 20.50   136236 0.054266
2025-06-06 3.879999 44.28716 10.548678 42.69942 20.52   136102 0.054266
2025-06-09 3.820763 43.85532 10.519403 42.56294 21.00   135699 0.054266
2025-06-10 4.067582 44.45990 10.441337 42.88465 21.51   136436 0.054266
2025-06-11 4.077455 44.22958 10.538920 42.89439 21.36   137128 0.054266
2025-06-12 4.077455 44.22958 10.558435 43.34283 20.69   137800 0.054266
2025-06-13 4.028091 43.84573 10.451095 42.91389 21.00   137213 0.054266
2025-06-16 4.146564 44.56545 10.587711 43.85952 20.50   139256 0.054266
2025-06-17 4.087327 44.29676 10.636501 43.47931 20.49   138840 0.054266
2025-06-18 4.097200 43.28914 10.616986 43.75229 20.92   138717 0.054266
2025-06-20 4.077455 42.31990 10.548678 42.17299 20.79   137116 0.055131
2025-06-23 4.028091 42.62699 10.459487 41.34435 21.76   136551 0.055131
2025-06-24 4.077455 42.66537 10.685162 42.41670 20.75   137165 0.055131
2025-06-25 3.998473 42.08960 10.537983 42.06575 20.01   135767 0.055131
2025-06-26 4.097200 42.21435 10.537983 39.00465 20.10   137114 0.055131
2025-06-27 4.008346 42.11838 10.508547 39.53108 19.90   136866 0.055131
                Data1
2025-04-01 2025-04-01
2025-04-02 2025-04-02
2025-04-03 2025-04-03
2025-04-04 2025-04-04
2025-04-07 2025-04-07
2025-04-08 2025-04-08
2025-04-09 2025-04-09
2025-04-10 2025-04-10
2025-04-11 2025-04-11
2025-04-14 2025-04-14
2025-04-15 2025-04-15
2025-04-16 2025-04-16
2025-04-17 2025-04-17
2025-04-22 2025-04-22
2025-04-23 2025-04-23
2025-04-24 2025-04-24
2025-04-25 2025-04-25
2025-04-28 2025-04-28
2025-04-29 2025-04-29
2025-04-30 2025-04-30
2025-05-02 2025-05-02
2025-05-05 2025-05-05
2025-05-06 2025-05-06
2025-05-07 2025-05-07
2025-05-08 2025-05-08
2025-05-09 2025-05-09
2025-05-12 2025-05-12
2025-05-13 2025-05-13
2025-05-14 2025-05-14
2025-05-15 2025-05-15
2025-05-16 2025-05-16
2025-05-19 2025-05-19
2025-05-20 2025-05-20
2025-05-21 2025-05-21
2025-05-22 2025-05-22
2025-05-23 2025-05-23
2025-05-26 2025-05-26
2025-05-27 2025-05-27
2025-05-28 2025-05-28
2025-05-29 2025-05-29
2025-05-30 2025-05-30
2025-06-02 2025-06-02
2025-06-03 2025-06-03
2025-06-04 2025-06-04
2025-06-05 2025-06-05
2025-06-06 2025-06-06
2025-06-09 2025-06-09
2025-06-10 2025-06-10
2025-06-11 2025-06-11
2025-06-12 2025-06-12
2025-06-13 2025-06-13
2025-06-16 2025-06-16
2025-06-17 2025-06-17
2025-06-18 2025-06-18
2025-06-20 2025-06-20
2025-06-23 2025-06-23
2025-06-24 2025-06-24
2025-06-25 2025-06-25
2025-06-26 2025-06-26
2025-06-27 2025-06-27</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(CarteiraBETA[,<span class="dv">1</span>]); n</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a>CarteiraBETA[n,]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>              lwsa3    elet6    itsa4    rent3 brfs3 Ibovespa    Selic
2025-06-27 4.008346 42.11838 10.50855 39.53108  19.9   136866 0.055131
                Data1
2025-06-27 2025-06-27</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 7) Exportar</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(CarteiraBETA, <span class="at">file =</span> <span class="st">"BetaCarteira.txt"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yfR)</span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="st">"BetaCarteira.txt"</span>, <span class="at">head=</span>T)</span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(CarteiraBETA)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"lwsa3"</span>, <span class="st">"elet6"</span>, <span class="st">"itsa4"</span>, <span class="st">"rent3"</span>, <span class="st">"brfs3"</span>,<span class="st">"ibovespa"</span>,<span class="st">"Selic"</span>, <span class="st">"Data1"</span>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(CarteiraBETA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados _por_ .GlobalEnv:

    brfs3, Data1, elet6, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por CarteiraBETA (pos = 3):

    brfs3, Data1, elet6, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por CarteiraBETA (pos = 8):

    brfs3, Data1, elet6, ibovespa, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por CarteiraBETA (pos = 9):

    brfs3, Data1, elet6, itsa4, lwsa3, rent3, Selic</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Os seguintes objetos são mascarados por Correl:

    brfs3, elet6, itsa4, lwsa3, rent3</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>CarteiraBETA; <span class="fu">length</span>((CarteiraBETA<span class="sc">$</span>Selic))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      lwsa3    elet6     itsa4    rent3 brfs3 ibovespa    Selic      Data1
1  2.675521 42.48936  9.192216 34.21803 20.14   131147 0.052531 2025-04-01
2  2.675521 42.43191  9.201954 35.53411 19.80   131190 0.052531 2025-04-02
3  2.695267 42.89146  9.367491 36.30426 19.64   131141 0.052531 2025-04-03
4  2.547175 42.12555  9.094840 35.19290 19.25   127256 0.052531 2025-04-04
5  2.586666 41.95321  9.153266 34.91019 19.20   125588 0.052531 2025-04-07
6  2.655776 41.99151  9.133791 34.80295 19.06   123932 0.052531 2025-04-08
7  2.803867 42.72871  9.348017 36.04104 20.56   127796 0.052531 2025-04-09
8  2.932213 43.20741  9.299328 36.46024 20.35   126355 0.052531 2025-04-10
9  2.902595 42.92976  9.396704 37.60083 20.54   127682 0.052531 2025-04-11
10 2.951959 43.61909  9.523291 38.27349 20.41   129454 0.052531 2025-04-14
11 2.981577 43.33187  9.649879 38.40998 20.67   129245 0.052531 2025-04-15
12 2.991450 42.47021  9.630405 37.77631 20.68   128317 0.052531 2025-04-16
13 3.455470 43.65738  9.688828 39.23862 21.15   129650 0.052531 2025-04-17
14 3.475216 43.44676  9.903054 38.16626 21.78   130464 0.052531 2025-04-22
15 3.662798 44.08821 10.068593 39.34586 21.49   132216 0.052531 2025-04-23
16 3.741781 45.37112 10.282818 40.55470 22.01   134580 0.052531 2025-04-24
17 3.840508 45.17965 10.292556 41.73430 22.90   134739 0.052531 2025-04-25
18 3.712162 45.39028 10.350980 41.97801 22.70   135016 0.052531 2025-04-28
19 3.623307 45.62005 10.350980 42.09500 22.75   135093 0.052531 2025-04-29
20 3.564071 46.28320 10.419143 41.88052 22.70   135067 0.052531 2025-04-30
21 3.554198 46.03370 10.253605 42.01701 22.46   135134 0.052531 2025-05-02
22 3.465343 45.28518 10.204916 41.97801 21.44   133491 0.052531 2025-05-05
23 3.455470 45.34276 10.175705 40.94464 20.35   133516 0.052531 2025-05-06
24 3.406106 45.07406 10.263343 41.03239 20.26   133398 0.052531 2025-05-07
25 3.524580 45.65944 10.321769 42.79691 20.39   136232 0.054266 2025-05-08
26 3.485089 45.97612 10.759956 39.96978 19.20   136512 0.054266 2025-05-09
27 3.297506 45.60186 10.516520 40.45721 19.71   136563 0.054266 2025-05-12
28 3.554198 45.88015 10.682056 40.69118 20.20   138963 0.054266 2025-05-13
29 3.564071 45.70742 10.711268 38.71219 19.68   138423 0.054266 2025-05-14
30 3.613435 44.27756 10.847594 39.72606 20.62   139334 0.054266 2025-05-15
31 3.643053 44.47908 10.925494 40.78867 20.78   139187 0.054266 2025-05-16
32 3.643053 44.94931 11.042345 41.04213 20.50   139636 0.054266 2025-05-19
33 3.791144 44.74778 11.061819 40.65219 21.00   140110 0.054266 2025-05-20
34 3.722035 44.30635 10.896281 39.34586 21.04   137881 0.054266 2025-05-21
35 3.801017 44.27756 10.759956 39.54083 21.42   137273 0.054266 2025-05-22
36 3.771399 44.65182 10.847594 39.57008 21.42   137824 0.054266 2025-05-23
37 3.801017 44.77657 10.896281 39.82354 21.31   138136 0.054266 2025-05-26
38 3.801017 45.27559 10.993657 41.57832 20.56   139541 0.054266 2025-05-27
39 3.731908 44.79576 10.876806 42.23148 20.39   138888 0.054266 2025-05-28
40 3.662798 45.42912 10.798906 42.34846 20.56   138534 0.054266 2025-05-29
41 3.712162 45.07406 10.779431 41.88052 20.30   137027 0.054266 2025-05-30
42 3.692417 44.71899 10.734085 42.22173 20.50   136787 0.054266 2025-06-02
43 3.889872 44.90133 10.714567 42.03650 20.50   137546 0.054266 2025-06-03
44 4.087327 44.62303 10.685293 42.60193 20.50   137002 0.054266 2025-06-04
45 3.870127 44.28716 10.568194 43.08937 20.50   136236 0.054266 2025-06-05
46 3.879999 44.28716 10.548678 42.69942 20.52   136102 0.054266 2025-06-06
47 3.820763 43.85532 10.519403 42.56294 21.00   135699 0.054266 2025-06-09
48 4.067582 44.45990 10.441337 42.88465 21.51   136436 0.054266 2025-06-10
49 4.077455 44.22958 10.538920 42.89439 21.36   137128 0.054266 2025-06-11
50 4.077455 44.22958 10.558435 43.34283 20.69   137800 0.054266 2025-06-12
51 4.028091 43.84573 10.451095 42.91389 21.00   137213 0.054266 2025-06-13
52 4.146564 44.56545 10.587711 43.85952 20.50   139256 0.054266 2025-06-16
53 4.087327 44.29676 10.636501 43.47931 20.49   138840 0.054266 2025-06-17
54 4.097200 43.28914 10.616986 43.75229 20.92   138717 0.054266 2025-06-18
55 4.077455 42.31990 10.548678 42.17299 20.79   137116 0.055131 2025-06-20
56 4.028091 42.62699 10.459487 41.34435 21.76   136551 0.055131 2025-06-23
57 4.077455 42.66537 10.685162 42.41670 20.75   137165 0.055131 2025-06-24
58 3.998473 42.08960 10.537983 42.06575 20.01   135767 0.055131 2025-06-25
59 4.097200 42.21435 10.537983 39.00465 20.10   137114 0.055131 2025-06-26
60 4.008346 42.11838 10.508547 39.53108 19.90   136866 0.055131 2025-06-27</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="sc">$</span>ibovespa;<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>ibovespa)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 131147 131190 131141 127256 125588 123932 127796 126355 127682 129454
[11] 129245 128317 129650 130464 132216 134580 134739 135016 135093 135067
[21] 135134 133491 133516 133398 136232 136512 136563 138963 138423 139334
[31] 139187 139636 140110 137881 137273 137824 138136 139541 138888 138534
[41] 137027 136787 137546 137002 136236 136102 135699 136436 137128 137800
[51] 137213 139256 138840 138717 137116 136551 137165 135767 137114 136866</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="sc">$</span>lwsa3;<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>lwsa3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 2.675521 2.675521 2.695267 2.547175 2.586666 2.655776 2.803867 2.932213
 [9] 2.902595 2.951959 2.981577 2.991450 3.455470 3.475216 3.662798 3.741781
[17] 3.840508 3.712162 3.623307 3.564071 3.554198 3.465343 3.455470 3.406106
[25] 3.524580 3.485089 3.297506 3.554198 3.564071 3.613435 3.643053 3.643053
[33] 3.791144 3.722035 3.801017 3.771399 3.801017 3.801017 3.731908 3.662798
[41] 3.712162 3.692417 3.889872 4.087327 3.870127 3.879999 3.820763 4.067582
[49] 4.077455 4.077455 4.028091 4.146564 4.087327 4.097200 4.077455 4.028091
[57] 4.077455 3.998473 4.097200 4.008346</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="sc">$</span>Selic;<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>Selic)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531
 [9] 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531
[17] 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531
[25] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266
[33] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266
[41] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266
[49] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.055131 0.055131
[57] 0.055131 0.055131 0.055131 0.055131</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 60</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>ribov<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(ibovespa));ribov;<span class="fu">length</span>(ribov)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  0.0003278226 -0.0003735738 -0.0300722746 -0.0131940975 -0.0132736800
 [6]  0.0307022145 -0.0113398369  0.0104473921  0.0137828079 -0.0016157778
[11] -0.0072060631  0.0103347472  0.0062588147  0.0133396222  0.0177218689
[16]  0.0011807560  0.0020537161  0.0005701402 -0.0001924785  0.0004959271
[21] -0.0122328189  0.0001872610 -0.0008841800  0.0210221739  0.0020532081
[26]  0.0003735238  0.0174216640 -0.0038934963  0.0065597142 -0.0010555758
[31]  0.0032206840  0.0033887916 -0.0160368341 -0.0044193505  0.0040058651
[36]  0.0022611982  0.0101197578 -0.0046906119 -0.0025520701 -0.0109377962
[41] -0.0017530153  0.0055334352 -0.0039628824 -0.0056068483 -0.0009840713
[46] -0.0029654070  0.0054164426  0.0050591560  0.0048885624 -0.0042688956
[51]  0.0147795029 -0.0029917749 -0.0008863045 -0.0116086036 -0.0041291117
[56]  0.0044864095 -0.0102443995  0.0098725154 -0.0018103516</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>Ribov<span class="ot">=</span>ribov<span class="sc">*</span><span class="dv">100</span>;Ribov;<span class="fu">mean</span>(Ribov)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  0.03278226 -0.03735738 -3.00722746 -1.31940975 -1.32736800  3.07022145
 [7] -1.13398369  1.04473921  1.37828079 -0.16157778 -0.72060631  1.03347472
[13]  0.62588147  1.33396222  1.77218689  0.11807560  0.20537161  0.05701402
[19] -0.01924785  0.04959271 -1.22328189  0.01872610 -0.08841800  2.10221739
[25]  0.20532081  0.03735238  1.74216640 -0.38934963  0.65597142 -0.10555758
[31]  0.32206840  0.33887916 -1.60368341 -0.44193505  0.40058651  0.22611982
[37]  1.01197578 -0.46906119 -0.25520701 -1.09377962 -0.17530153  0.55334352
[43] -0.39628824 -0.56068483 -0.09840713 -0.29654070  0.54164426  0.50591560
[49]  0.48885624 -0.42688956  1.47795029 -0.29917749 -0.08863045 -1.16086036
[55] -0.41291117  0.44864095 -1.02443995  0.98725154 -0.18103516</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.07234494</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>RSelic<span class="ot">=</span>CarteiraBETA<span class="sc">$</span>Selic[<span class="sc">-</span><span class="dv">1</span>];<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>Selic[<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>RSelic</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531
 [9] 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531
[17] 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.052531 0.054266
[25] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266
[33] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266
[41] 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266 0.054266
[49] 0.054266 0.054266 0.054266 0.054266 0.054266 0.055131 0.055131 0.055131
[57] 0.055131 0.055131 0.055131</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>rlwsa3<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>lwsa3[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>lwsa3[<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>relet6<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>elet6[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>elet6[<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>ritsa4<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>itsa4[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>itsa4[<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>rrent3<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>rent3[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>rent3[<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a>rbrfs3<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>brfs3[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>brfs3[<span class="sc">-</span><span class="dv">1</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co">#RIbov=(rIbov-Selic[-1])</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a>Ribov<span class="ot">=</span>(ribov<span class="sc">-</span>RSelic);<span class="fu">length</span>(Ribov);Ribov</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 59</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -0.05220318 -0.05290457 -0.08260327 -0.06572510 -0.06580468 -0.02182879
 [7] -0.06387084 -0.04208361 -0.03874819 -0.05414678 -0.05973706 -0.04219625
[13] -0.04627219 -0.03919138 -0.03480913 -0.05135024 -0.05047728 -0.05196086
[19] -0.05272348 -0.05203507 -0.06476382 -0.05234374 -0.05341518 -0.03324383
[25] -0.05221279 -0.05389248 -0.03684434 -0.05815950 -0.04770629 -0.05532158
[31] -0.05104532 -0.05087721 -0.07030283 -0.05868535 -0.05026013 -0.05200480
[37] -0.04414624 -0.05895661 -0.05681807 -0.06520380 -0.05601902 -0.04873256
[43] -0.05822888 -0.05987285 -0.05525007 -0.05723141 -0.04884956 -0.04920684
[49] -0.04937744 -0.05853490 -0.03948650 -0.05725777 -0.05515230 -0.06673960
[55] -0.05926011 -0.05064459 -0.06537540 -0.04525848 -0.05694135</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>Rlwsa3<span class="ot">=</span>rlwsa3<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>Rlwsa3;<span class="fu">length</span>(Rlwsa3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code> [1] -0.04517809816 -0.10904320101 -0.03714613904 -0.02616401931  0.00173176215
 [6] -0.00777303952 -0.06268335321 -0.03566719724 -0.04254757393 -0.04922524433
[11]  0.09166941251 -0.04683303495  0.00003990532 -0.03119687384 -0.02648780332
[16] -0.08652124431 -0.07675825176 -0.06901492636 -0.05530496665 -0.07784876326
[21] -0.05538404087 -0.06691973445 -0.02007469643 -0.06553368211 -0.10959308198
[26]  0.02069699911 -0.05149203335 -0.04051056133 -0.04610270438 -0.05426600000
[31] -0.01442016303 -0.07266331109 -0.03326793269 -0.06208871205 -0.04644328795
[36] -0.05426600000 -0.07261508524 -0.07295814266 -0.04087892147 -0.05959935800
[41] -0.00217083469 -0.00475100387 -0.10887007689 -0.05171825300 -0.06965095361
[46]  0.00833270660 -0.05184172176 -0.05426600000 -0.06644647502 -0.02527851386
[51] -0.06865471245 -0.05185341902 -0.05996187965 -0.06731147502 -0.04295052498
[56] -0.07469150954 -0.03073961081 -0.07705632107</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 58</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a>Relet6<span class="ot">=</span>relet6<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>Ritsa4<span class="ot">=</span>ritsa4<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>Rrent3<span class="ot">=</span>rrent3<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>Rbrfs3<span class="ot">=</span>rbrfs3<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo do Beta vivt3 (+...)------------------------------------------------------------------------------------------------------</span></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a>Betalwsa3<span class="ot">=</span><span class="fu">lm</span>(Rlwsa3<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a>Betalwsa3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Rlwsa3 ~ Ribov[-1])

Coefficients:
(Intercept)    Ribov[-1]  
    0.04222      1.67929  </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>Betaelet6<span class="ot">=</span><span class="fu">lm</span>(Relet6<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betaelet6</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Relet6 ~ Ribov[-1])

Coefficients:
(Intercept)    Ribov[-1]  
   -0.01483      0.73620  </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>Betaitsa4<span class="ot">=</span><span class="fu">lm</span>(Ritsa4<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betaitsa4</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Ritsa4 ~ Ribov[-1])

Coefficients:
(Intercept)    Ribov[-1]  
  -0.008782     0.804768  </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a>Betarent3<span class="ot">=</span><span class="fu">lm</span>(Rrent3<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betarent3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Rrent3 ~ Ribov[-1])

Coefficients:
(Intercept)    Ribov[-1]  
   0.009738     1.162939  </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a>Betabrfs3<span class="ot">=</span><span class="fu">lm</span>(Rbrfs3<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betabrfs3</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = Rbrfs3 ~ Ribov[-1])

Coefficients:
(Intercept)    Ribov[-1]  
   -0.01051      0.81373  </code></pre>
</div>
</div>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yfR)</span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-6"><a href="#cb127-6" aria-hidden="true" tabindex="-1"></a>names<span class="ot">=</span><span class="fu">c</span>(<span class="st">"lwsa3"</span>, <span class="st">"elet6"</span>, <span class="st">"itsa4"</span>, <span class="st">"rent3"</span>, <span class="st">"brfs3"</span>)</span>
<span id="cb127-7"><a href="#cb127-7" aria-hidden="true" tabindex="-1"></a>BETA.Mercado<span class="ot">=</span><span class="fu">c</span>(Betalwsa3<span class="sc">$</span>coef[<span class="dv">2</span>],Betaelet6<span class="sc">$</span>coef[<span class="dv">2</span>],Betaitsa4<span class="sc">$</span>coef[<span class="dv">2</span>],Betarent3<span class="sc">$</span>coef[<span class="dv">2</span>],Betabrfs3<span class="sc">$</span>coef[<span class="dv">2</span>]);names;BETA.Mercado</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "lwsa3" "elet6" "itsa4" "rent3" "brfs3"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Ribov[-1] Ribov[-1] Ribov[-1] Ribov[-1] Ribov[-1] 
1.6792906 0.7362033 0.8047683 1.1629385 0.8137316 </code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>bpb<span class="ot">&lt;-</span><span class="fu">barplot</span>(BETA.Mercado, <span class="at">main=</span><span class="st">"Gráf.4:Cálculo do Beta-Mercado da Carteira Sugerida (90 dias)"</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">3.0</span>),<span class="at">names.arg=</span>names, <span class="at">ylab=</span><span class="st">"Percentual %"</span>, <span class="at">cex.names=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"pink"</span>)</span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> <span class="fu">as.vector</span>(bpb), <span class="at">y =</span> BETA.Mercado, </span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">label =</span>  <span class="fu">round</span>(BETA.Mercado, <span class="dv">2</span>), <span class="at">pos =</span> <span class="dv">3</span>, </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"black"</span>,<span class="at">cex=</span><span class="fl">0.8</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">

</div>
</section>
<section id="análise-de-médio-prazo" class="level2" data-number="6.8">
<h2 data-number="6.8" class="anchored" data-anchor-id="análise-de-médio-prazo"><span class="header-section-number">6.8</span> Análise de Médio Prazo:</h2>
<div style="text-align: justify">

</div>
</section>
<section id="análise-de-longo-prazo" class="level2" data-number="6.9">
<h2 data-number="6.9" class="anchored" data-anchor-id="análise-de-longo-prazo"><span class="header-section-number">6.9</span> Análise de Longo Prazo:</h2>
</section>
<section id="indicadores-de-performance" class="level2" data-number="6.10">
<h2 data-number="6.10" class="anchored" data-anchor-id="indicadores-de-performance"><span class="header-section-number">6.10</span> Indicadores de Performance:</h2>
</section>
<section id="jesen" class="level2" data-number="6.11">
<h2 data-number="6.11" class="anchored" data-anchor-id="jesen"><span class="header-section-number">6.11</span> Jesen:</h2>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>O <strong>Alpha de Jensen</strong> mede se um ativo <strong>entregou um retorno acima ou abaixo do esperado</strong>, considerando o risco assumido (β em relação ao mercado).</p></li>
<li><p>lwsa3 = 0.0422 (4,22%) → ótimo desempenho, entregou retorno acima do que o CAPM esperava.</p></li>
<li><p>rent3 = 0.0097 (0,97%) → levemente positivo, também agregou valor, mas em menor intensidade.</p></li>
<li><p>elet6 (-0,0148), itsa4 (-0,0088), brfs3 (-0,0105) → retornos negativos ajustados ao risco, ou seja, esses ativos não compensaram o risco que assumiram.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-45-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="treynor" class="level2" data-number="6.12">
<h2 data-number="6.12" class="anchored" data-anchor-id="treynor"><span class="header-section-number">6.12</span> Treynor:</h2>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>Mede o retorno excedente por unidade de risco sistemático (β).</p></li>
<li><p>Diferente do Sharpe, que usa o risco total (desvio padrão), o Treynor considera apenas o risco de mercado (sistemático), que não pode ser diversificado.</p></li>
<li><p>Todos os ativos apresentaram valores negativos → ou seja, nenhum ativo entregou retorno que compensasse o risco de mercado assumido.</p></li>
<li><p>lwsa3 (-2.78) foi o menos negativo, o que significa que, dentro do conjunto, foi o ativo com melhor desempenho relativo ajustado ao risco.</p></li>
<li><p>elet6 (-7.31) foi o pior, indicando que esse ativo destruiu mais valor em relação ao risco sistemático.</p></li>
<li><p>itsa4 (-6.38) e brfs3 (-6.58) também tiveram desempenho bastante ruim.</p></li>
<li><p>rent3 (-4.45) ficou em situação intermediária.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-46-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="sharpe" class="level2" data-number="6.13">
<h2 data-number="6.13" class="anchored" data-anchor-id="sharpe"><span class="header-section-number">6.13</span> Sharpe:</h2>
<ul>
<li><div style="text-align: justify">
<ul>
<li><p>Avalia se os retornos de um ativo compensam a volatilidade que ele apresenta.</p></li>
<li><p>lwsa3 (-1.39) foi o “menos ruim”, entregando a melhor relação risco-retorno entre os ativos.</p></li>
<li><p>elet6 (-4.35) e itsa4 (-4.11) foram os piores, indicando alto risco sem retorno proporcional.</p></li>
<li><p>rent3 (-2.12) e brfs3 (-2.14) ficaram em posição intermediária, mas ainda negativos.</p></li>
</ul>
</div></li>
</ul>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-47-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="conclusão-sobre-o-resultado-dos-índices" class="level2" data-number="6.14">
<h2 data-number="6.14" class="anchored" data-anchor-id="conclusão-sobre-o-resultado-dos-índices"><span class="header-section-number">6.14</span> Conclusão sobre o resultado dos índices:</h2>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="Relatório_Maria_Carolina_files/figure-html/unnamed-chunk-48-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div style="text-align: justify">
<p>Entre os ativos analisados, <strong>LWSA3 se destacou</strong> como o ativo de melhor desempenho relativo. Apesar de apresentar Beta elevado (alta sensibilidade ao mercado e, portanto, maior risco), conseguiu gerar Alpha positivo expressivo (+4,22%), entregando retorno acima do esperado e superando os demais. Além disso, mesmo com Treynor e Sharpe negativos (como todos os ativos do conjunto), foi o menos ruim, mostrando-se a opção mais eficiente em termos de risco-retorno dentro dessa carteira.</p>
<p>Por outro lado, <strong>ELET6 apresentou o pior desempenho</strong>. Embora tenha Beta defensivo (baixo risco sistemático esperado), destruiu valor em todos os indicadores: Alpha negativo, pior resultado no Treynor (-7,31) e um dos piores Sharpe (-4,35). Isso mostra que o ativo não compensou o risco assumido e falhou em entregar retornos adequados, mesmo sendo menos exposto à volatilidade do mercado.</p>
<p><strong>RENT3 teve performance intermediária</strong>, com Alpha positivo, mas baixo (+0,97%), além de resultados ainda negativos em Sharpe e Treynor, porém menos graves que ITSA4, BRFS3 e ELET6. ITSA4 e BRFS3 mostraram-se ativos sem retorno ajustado ao risco, ambos destruindo valor, ainda que com volatilidade mais controlada.</p>
<section id="ranking-de-desempenho-melhor-pior" class="level3" data-number="6.14.1">
<h3 data-number="6.14.1" class="anchored" data-anchor-id="ranking-de-desempenho-melhor-pior"><span class="header-section-number">6.14.1</span> Ranking de Desempenho (melhor → pior):</h3>
<ol type="1">
<li><p><strong>LWSA3</strong> → Melhor desempenho geral (alto Alpha, melhor relação risco-retorno relativa).</p></li>
<li><p><strong>RENT3</strong> → Desempenho moderado, Alpha positivo mas baixo, intermediária nos índices de risco.</p></li>
<li><p><strong>BRFS3</strong> → Desempenho fraco, Alpha negativo e Sharpe ruim, mas ainda acima de ITSA4 e ELET6.</p></li>
<li><p><strong>ITSA4</strong> → Desempenho fraco, Alpha negativo e Treynor ruim, mas não tão destrutivo quanto ELET6.</p></li>
<li><p><strong>ELET6</strong> → Pior desempenho, destruiu valor em todos os indicadores, mesmo sendo defensivo.</p></li>
</ol>
</section>
</div>
</section>
<section id="análise-de-curto-prazo-1" class="level2" data-number="6.15">
<h2 data-number="6.15" class="anchored" data-anchor-id="análise-de-curto-prazo-1"><span class="header-section-number">6.15</span> Análise de Curto Prazo:</h2>
<div style="text-align: justify">

</div>
</section>
<section id="análise-de-médio-prazo-1" class="level2" data-number="6.16">
<h2 data-number="6.16" class="anchored" data-anchor-id="análise-de-médio-prazo-1"><span class="header-section-number">6.16</span> Análise de Médio Prazo:</h2>
<div style="text-align: justify">
<p>Analisar todas as medidas anteriores , com diferença apenas das datas</p>
</div>
</section>
<section id="análise-de-longo-prazo-1" class="level2" data-number="6.17">
<h2 data-number="6.17" class="anchored" data-anchor-id="análise-de-longo-prazo-1"><span class="header-section-number">6.17</span> Análise de Longo Prazo:</h2>
<div style="text-align: justify">

</div>
</section>
</section>
<section id="referências-bibliográficas" class="level1" data-number="7">
<h1 data-number="7"><span class="header-section-number">7</span> Referências Bibliográficas</h1>
<ul>
<li>Alexandre Assaf Neto. <em>Mercado Financeiro</em>. Atlas, 2022.</li>
<li>Gitman, L. J. <em>Princípios de Administração Financeira</em>. Pearson, 2015.</li>
<li>Hull, J. C. <em>Introdução aos Derivativos</em>. Bookman, 2013.</li>
<li>Damodaran, A. <em>Investment Valuation</em>. Wiley, 2012.</li>
<li>Yahoo Finance (https://finance.yahoo.com/) – Base de dados utilizada.</li>
</ul>
<hr>
<section id="section-1" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="section-1"><span class="header-section-number">7.1</span> </h2>
<!-- -->

</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb131" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb131-1"><a href="#cb131-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb131-2"><a href="#cb131-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Relatório De Análise"</span></span>
<span id="cb131-3"><a href="#cb131-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Maria Carolina"</span></span>
<span id="cb131-4"><a href="#cb131-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb131-5"><a href="#cb131-5" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb131-6"><a href="#cb131-6" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb131-7"><a href="#cb131-7" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb131-8"><a href="#cb131-8" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb131-9"><a href="#cb131-9" aria-hidden="true" tabindex="-1"></a><span class="co">    toc-depth: 3</span></span>
<span id="cb131-10"><a href="#cb131-10" aria-hidden="true" tabindex="-1"></a><span class="co">    number-sections: true</span></span>
<span id="cb131-11"><a href="#cb131-11" aria-hidden="true" tabindex="-1"></a><span class="an">logo:</span><span class="co"> logo_ufpb.png</span></span>
<span id="cb131-12"><a href="#cb131-12" aria-hidden="true" tabindex="-1"></a><span class="an">editor:</span><span class="co"> visual</span></span>
<span id="cb131-13"><a href="#cb131-13" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb131-14"><a href="#cb131-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-15"><a href="#cb131-15" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-16"><a href="#cb131-16" aria-hidden="true" tabindex="-1"></a>Universidade Federal Da Paraíba</span>
<span id="cb131-17"><a href="#cb131-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-18"><a href="#cb131-18" aria-hidden="true" tabindex="-1"></a>Professor: Sinezio Fernandes Maia</span>
<span id="cb131-19"><a href="#cb131-19" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-20"><a href="#cb131-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-21"><a href="#cb131-21" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb131-22"><a href="#cb131-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-23"><a href="#cb131-23" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-24"><a href="#cb131-24" aria-hidden="true" tabindex="-1"></a><span class="fu">## Olá Investidor ,</span></span>
<span id="cb131-25"><a href="#cb131-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-26"><a href="#cb131-26" aria-hidden="true" tabindex="-1"></a>O relatório a seguir tem como objetivo apresentar um estudo sobre cinco ativos financeiros, buscando analisar o seu potencial de lucro, o comportamento no cenário econômico atual e, em especial, o nível de risco associado a cada um deles.</span>
<span id="cb131-27"><a href="#cb131-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-28"><a href="#cb131-28" aria-hidden="true" tabindex="-1"></a>Este estudo é direcionado a investidores avessos ao risco (perfil conservador), cujo foco principal é a preservação de capital e a estabilidade nos retornos. Como explica Hal Varian (no livro Microeconomia: Uma Abordagem Moderna, Cap. 12) destaca que o investidor avesso ao risco prefere a certeza do valor esperado de sua riqueza em vez de apostar em alternativas incertas, mesmo que com possibilidade de maior retorno. Em outras palavras, a estabilidade tem mais utilidade para esse perfil do que a chance de ganhos elevados acompanhada de riscos significativos de perda.</span>
<span id="cb131-29"><a href="#cb131-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-30"><a href="#cb131-30" aria-hidden="true" tabindex="-1"></a>Nesse sentido, a análise dos ativos busca identificar aqueles que, dentro da teoria moderna de finanças, apresentam a melhor relação risco-retorno, ou seja, a combinação de menor variância dos retornos (Markowitz) com perspectivas de retorno positivo. Assim, este relatório pretende oferecer ao investidor conservador uma visão fundamentada que auxilie na escolha racional e segura de investimentos diante da incerteza do mercado.</span>
<span id="cb131-31"><a href="#cb131-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-32"><a href="#cb131-32" aria-hidden="true" tabindex="-1"></a><span class="fu">## </span></span>
<span id="cb131-33"><a href="#cb131-33" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-34"><a href="#cb131-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-35"><a href="#cb131-35" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Organizando o ambiente:</span>
<span id="cb131-36"><a href="#cb131-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-37"><a href="#cb131-37" aria-hidden="true" tabindex="-1"></a>    <span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-38"><a href="#cb131-38" aria-hidden="true" tabindex="-1"></a><span class="in">    # Remoção de objetos anteriores</span></span>
<span id="cb131-39"><a href="#cb131-39" aria-hidden="true" tabindex="-1"></a><span class="in">    remove(list = ls())</span></span>
<span id="cb131-40"><a href="#cb131-40" aria-hidden="true" tabindex="-1"></a><span class="in">    gc()</span></span>
<span id="cb131-41"><a href="#cb131-41" aria-hidden="true" tabindex="-1"></a><span class="in">    par(mfrow = c(1, 1))</span></span>
<span id="cb131-42"><a href="#cb131-42" aria-hidden="true" tabindex="-1"></a><span class="in">    options(scipen = 999, max.print = 100000)</span></span>
<span id="cb131-43"><a href="#cb131-43" aria-hidden="true" tabindex="-1"></a><span class="in">    date()</span></span>
<span id="cb131-44"><a href="#cb131-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-45"><a href="#cb131-45" aria-hidden="true" tabindex="-1"></a><span class="in">    # Diretório de trabalho</span></span>
<span id="cb131-46"><a href="#cb131-46" aria-hidden="true" tabindex="-1"></a><span class="in">    # setwd("")</span></span>
<span id="cb131-47"><a href="#cb131-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-48"><a href="#cb131-48" aria-hidden="true" tabindex="-1"></a><span class="in">    # Carregamento do pacote</span></span>
<span id="cb131-49"><a href="#cb131-49" aria-hidden="true" tabindex="-1"></a><span class="in">    library(tseries)</span></span>
<span id="cb131-50"><a href="#cb131-50" aria-hidden="true" tabindex="-1"></a><span class="in">    library(fBasics)</span></span>
<span id="cb131-51"><a href="#cb131-51" aria-hidden="true" tabindex="-1"></a><span class="in">    library(tibble)</span></span>
<span id="cb131-52"><a href="#cb131-52" aria-hidden="true" tabindex="-1"></a><span class="in">    library(knitr)</span></span>
<span id="cb131-53"><a href="#cb131-53" aria-hidden="true" tabindex="-1"></a><span class="in">    library(dplyr)</span></span>
<span id="cb131-54"><a href="#cb131-54" aria-hidden="true" tabindex="-1"></a><span class="in">    library(kableExtra)</span></span>
<span id="cb131-55"><a href="#cb131-55" aria-hidden="true" tabindex="-1"></a><span class="in">    library(ggplot2)</span></span>
<span id="cb131-56"><a href="#cb131-56" aria-hidden="true" tabindex="-1"></a><span class="in">    ```</span></span>
<span id="cb131-57"><a href="#cb131-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-58"><a href="#cb131-58" aria-hidden="true" tabindex="-1"></a><span class="fu">### Intervalo de datas:</span></span>
<span id="cb131-59"><a href="#cb131-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-62"><a href="#cb131-62" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-63"><a href="#cb131-63" aria-hidden="true" tabindex="-1"></a><span class="co"># Datas de início e fim</span></span>
<span id="cb131-64"><a href="#cb131-64" aria-hidden="true" tabindex="-1"></a>dataini <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-04-01"</span>)</span>
<span id="cb131-65"><a href="#cb131-65" aria-hidden="true" tabindex="-1"></a>datafim <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-06-29"</span>)</span>
<span id="cb131-66"><a href="#cb131-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-67"><a href="#cb131-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-68"><a href="#cb131-68" aria-hidden="true" tabindex="-1"></a><span class="fu">## Baixando os dados dos ativios:</span></span>
<span id="cb131-69"><a href="#cb131-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-70"><a href="#cb131-70" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-71"><a href="#cb131-71" aria-hidden="true" tabindex="-1"></a>A **LocaWeb ((lwsa3))**é uma das principais empresas brasileiras de serviços de hospedagem, cloud computing e SaaS, posicionando-se como uma player relevante no setor de tecnologia. Empresas de tecnologia são altamente sensíveis ao ciclo econômico, mas se beneficiam de tendências estruturais de longo prazo, como a digitalização de negócios. A companhia tem enfrentado um ambiente competitivo intenso, com margens pressionadas pela guerra de preços e pela necessidade constante de inovação, o que eleva seu risco operacional. Seu alto endividamento para financiar aquisições e investimentos também é um ponto de atenção.</span>
<span id="cb131-72"><a href="#cb131-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-73"><a href="#cb131-73" aria-hidden="true" tabindex="-1"></a>A **Eletrobras (elet6)** é uma das maiores empresas do setor elétrico da América Latina, atuando principalmente na geração e transmissão de energia. Trata-se de um setor essencial e perene, com receitas altamente previsíveis reguladas por contratos de longo prazo, o que confere maior estabilidade e menor risco ao ativo. Após sua privatização, a empresa busca ganhos de eficiência e redução de custos, potencialmente melhorando seus indicadores financeiros e a distribuição de dividendos.</span>
<span id="cb131-74"><a href="#cb131-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-75"><a href="#cb131-75" aria-hidden="true" tabindex="-1"></a>A **Itaúsa (itsa4)** é uma das maiores holdings de investimento do Brasil, com uma carteira diversificada e focada em setores perenes, como financeiro (Itaú Unibanco), industrial (Alpargatas, Dexco) e de saúde (Hospital Albert Einstein). Esta diversificação confere resiliência aos resultados, alinhando-se à filosofia de investidores conservadores que buscam exposição a ativos de qualidade com menor volatilidade. A companhia é conhecida por sua disciplina capital e por ser uma histórica pagadora de dividendos sólidos.</span>
<span id="cb131-76"><a href="#cb131-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-77"><a href="#cb131-77" aria-hidden="true" tabindex="-1"></a>A **Localiza (rent3)** é líder no setor de aluguel de veículos no Brasil, um segmento cíclico e sensível ao desempenho da economia, do crédito e do turismo. A empresa possui um modelo de negócio robusto, com vantagens de escala e uma gestão eficiente de sua frota, mas sofre pressão em cenários de juros altos, que elevam seu custo de capital. Seu endividamento é elevado, porém é considerado estrutural para financiar o crescimento da frota.</span>
<span id="cb131-78"><a href="#cb131-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-79"><a href="#cb131-79" aria-hidden="true" tabindex="-1"></a>A **BRF(brfs3)** é uma gigante global do setor de proteínas, detentora de marcas icônicas como Sadia e Perdigão. O setor de alimentos é altamente competitivo e vulnerável a volatilidade nos custos de commodities (milho, soja) e a cenários macroeconômicos desfavoráveis, que impactam o poder de compra do consumidor. A empresa tem trabalhado para reduzir seu elevado endividamento</span>
<span id="cb131-80"><a href="#cb131-80" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-81"><a href="#cb131-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-82"><a href="#cb131-82" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-83"><a href="#cb131-83" aria-hidden="true" tabindex="-1"></a><span class="in"># Baixando os dados dos 5 ativos</span></span>
<span id="cb131-84"><a href="#cb131-84" aria-hidden="true" tabindex="-1"></a><span class="in">#install.packages("tseries")</span></span>
<span id="cb131-85"><a href="#cb131-85" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3  &lt;- get.hist.quote("lwsa3.sa",  quote = "Close", start = dataini, end = datafim);length(lwsa3)</span></span>
<span id="cb131-86"><a href="#cb131-86" aria-hidden="true" tabindex="-1"></a><span class="in">elet6 &lt;- get.hist.quote("elet6.sa",  quote = "Close", start = dataini, end = datafim);length(elet6)</span></span>
<span id="cb131-87"><a href="#cb131-87" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4  &lt;- get.hist.quote("itsa4.sa",  quote = "Close", start = dataini, end = datafim);length(itsa4)</span></span>
<span id="cb131-88"><a href="#cb131-88" aria-hidden="true" tabindex="-1"></a><span class="in">rent3  &lt;- get.hist.quote("rent3.sa",  quote = "Close", start = dataini, end = datafim);length(rent3)</span></span>
<span id="cb131-89"><a href="#cb131-89" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3  &lt;- get.hist.quote("brfs3.sa",  quote = "Close", start = dataini, end = datafim);length(brfs3)</span></span>
<span id="cb131-90"><a href="#cb131-90" aria-hidden="true" tabindex="-1"></a><span class="in">ibov  &lt;- get.hist.quote("^BVSP",     quote = "Close", start = dataini, end = datafim); length(ibov)</span></span>
<span id="cb131-91"><a href="#cb131-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-92"><a href="#cb131-92" aria-hidden="true" tabindex="-1"></a><span class="in"># Removendo valores ausentes</span></span>
<span id="cb131-93"><a href="#cb131-93" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3 &lt;- na.omit(lwsa3)</span></span>
<span id="cb131-94"><a href="#cb131-94" aria-hidden="true" tabindex="-1"></a><span class="in">elet6 &lt;- na.omit(elet6)</span></span>
<span id="cb131-95"><a href="#cb131-95" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4 &lt;- na.omit(itsa4)</span></span>
<span id="cb131-96"><a href="#cb131-96" aria-hidden="true" tabindex="-1"></a><span class="in">rent3 &lt;- na.omit(rent3)</span></span>
<span id="cb131-97"><a href="#cb131-97" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3 &lt;- na.omit(brfs3)</span></span>
<span id="cb131-98"><a href="#cb131-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-99"><a href="#cb131-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-100"><a href="#cb131-100" aria-hidden="true" tabindex="-1"></a><span class="in"># Verificando quantidade de observações e visualizando os dados</span></span>
<span id="cb131-101"><a href="#cb131-101" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(2, 3))</span></span>
<span id="cb131-102"><a href="#cb131-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-103"><a href="#cb131-103" aria-hidden="true" tabindex="-1"></a><span class="in">plot(lwsa3, main = "Ativo - LWSA3",  col = "red")</span></span>
<span id="cb131-104"><a href="#cb131-104" aria-hidden="true" tabindex="-1"></a><span class="in">plot(elet6, main = "Ativo - ELET6",  col = "red")</span></span>
<span id="cb131-105"><a href="#cb131-105" aria-hidden="true" tabindex="-1"></a><span class="in">plot(itsa4, main = "Ativo - ITSA4",  col = "red")</span></span>
<span id="cb131-106"><a href="#cb131-106" aria-hidden="true" tabindex="-1"></a><span class="in">plot(rent3, main = "Ativo - RET3",  col = "red")</span></span>
<span id="cb131-107"><a href="#cb131-107" aria-hidden="true" tabindex="-1"></a><span class="in">plot(brfs3, main = "Ativo - BRFS3",  col = "red")</span></span>
<span id="cb131-108"><a href="#cb131-108" aria-hidden="true" tabindex="-1"></a><span class="in">plot(ibov,  main = "IBOV",  col = "red")</span></span>
<span id="cb131-109"><a href="#cb131-109" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-110"><a href="#cb131-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-111"><a href="#cb131-111" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise Gráfica</span></span>
<span id="cb131-112"><a href="#cb131-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-113"><a href="#cb131-113" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-114"><a href="#cb131-114" aria-hidden="true" tabindex="-1"></a>A análise técnica do ativo, construída com base em séries temporais de preços ajustados, utilizou um método clássico de identificação de pontos extremos de mercado — mínimos e máximos históricos — que servem como referência para a interpretação de tendências e a definição de suportes e resistências.</span>
<span id="cb131-115"><a href="#cb131-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-116"><a href="#cb131-116" aria-hidden="true" tabindex="-1"></a>Mínimo representa o ponto em que o preço atingiu o seu valor mais baixo em determinado período. A marcação desse ponto permite identificar regiões onde a pressão compradora prevaleceu, funcionando como um suporte natural.</span>
<span id="cb131-117"><a href="#cb131-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-118"><a href="#cb131-118" aria-hidden="true" tabindex="-1"></a>Máximo corresponde ao ponto em que o preço alcançou o valor mais alto, sugerindo áreas de resistência, onde a pressão vendedora foi dominante.</span>
<span id="cb131-119"><a href="#cb131-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-120"><a href="#cb131-120" aria-hidden="true" tabindex="-1"></a>O código não apenas destaca esses pontos no gráfico, mas também traça uma linha entre eles, o que auxilia na visualização de uma tendência primária do ativo: quando a linha se inclina positivamente, sugere um viés de alta; quando inclinada negativamente, indica viés de baixa.</span>
<span id="cb131-121"><a href="#cb131-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-122"><a href="#cb131-122" aria-hidden="true" tabindex="-1"></a>Essa metodologia dialoga com a Teoria de Dow, ao considerar que os preços se movimentam em tendências identificáveis e que os extremos de preço funcionam como marcos psicológicos do mercado. Todavia, por ser uma abordagem restrita a máximos e mínimos, deve ser complementada com indicadores técnicos adicionais (como médias móveis, RSI ou Bandas de Bollinger) e com a análise de volume, para confirmar a força da tendência.</span>
<span id="cb131-123"><a href="#cb131-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-124"><a href="#cb131-124" aria-hidden="true" tabindex="-1"></a>Na prática, o objetivo é fornecer uma visualização intuitiva dos pontos críticos do ativo, permitindo que o investidor trace hipóteses sobre zonas de compra (próximas ao suporte) e de venda (próximas à resistência), sempre levando em consideração a relação risco-retorno associada.</span>
<span id="cb131-125"><a href="#cb131-125" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-126"><a href="#cb131-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-127"><a href="#cb131-127" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-128"><a href="#cb131-128" aria-hidden="true" tabindex="-1"></a><span class="in">library(tseries)</span></span>
<span id="cb131-129"><a href="#cb131-129" aria-hidden="true" tabindex="-1"></a><span class="in">library(xts)</span></span>
<span id="cb131-130"><a href="#cb131-130" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-131"><a href="#cb131-131" aria-hidden="true" tabindex="-1"></a><span class="in">plot_min_max &lt;- function(serie, nome) {</span></span>
<span id="cb131-132"><a href="#cb131-132" aria-hidden="true" tabindex="-1"></a><span class="in">  datas &lt;- index(serie)</span></span>
<span id="cb131-133"><a href="#cb131-133" aria-hidden="true" tabindex="-1"></a><span class="in">  preco &lt;- coredata(serie)</span></span>
<span id="cb131-134"><a href="#cb131-134" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-135"><a href="#cb131-135" aria-hidden="true" tabindex="-1"></a><span class="in">  min_idx &lt;- which.min(preco)</span></span>
<span id="cb131-136"><a href="#cb131-136" aria-hidden="true" tabindex="-1"></a><span class="in">  max_idx &lt;- which.max(preco)</span></span>
<span id="cb131-137"><a href="#cb131-137" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-138"><a href="#cb131-138" aria-hidden="true" tabindex="-1"></a><span class="in">  data_min &lt;- datas[min_idx]</span></span>
<span id="cb131-139"><a href="#cb131-139" aria-hidden="true" tabindex="-1"></a><span class="in">  preco_min &lt;- preco[min_idx]</span></span>
<span id="cb131-140"><a href="#cb131-140" aria-hidden="true" tabindex="-1"></a><span class="in">  data_max &lt;- datas[max_idx]</span></span>
<span id="cb131-141"><a href="#cb131-141" aria-hidden="true" tabindex="-1"></a><span class="in">  preco_max &lt;- preco[max_idx]</span></span>
<span id="cb131-142"><a href="#cb131-142" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-143"><a href="#cb131-143" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(serie, main = paste("Preço de fechamento -", nome), col = "gray")</span></span>
<span id="cb131-144"><a href="#cb131-144" aria-hidden="true" tabindex="-1"></a><span class="in">  points(data_min, preco_min, col = "blue", pch = 17, cex = 1.5)</span></span>
<span id="cb131-145"><a href="#cb131-145" aria-hidden="true" tabindex="-1"></a><span class="in">  points(data_max, preco_max, col = "orange", pch = 17, cex = 1.5)</span></span>
<span id="cb131-146"><a href="#cb131-146" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-147"><a href="#cb131-147" aria-hidden="true" tabindex="-1"></a><span class="in">  # Linha ligando mínimo e máximo</span></span>
<span id="cb131-148"><a href="#cb131-148" aria-hidden="true" tabindex="-1"></a><span class="in">  lines(c(data_min, data_max), c(preco_min, preco_max), col = "purple", lwd = 2, lty = 3)</span></span>
<span id="cb131-149"><a href="#cb131-149" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-150"><a href="#cb131-150" aria-hidden="true" tabindex="-1"></a><span class="in">  legend("topleft", legend = c("Mínimo", "Máximo"),</span></span>
<span id="cb131-151"><a href="#cb131-151" aria-hidden="true" tabindex="-1"></a><span class="in">         col = c("blue", "orange", "purple"), pch = c(17, 17, NA), lty = c(NA, NA, 3), bty = "n")</span></span>
<span id="cb131-152"><a href="#cb131-152" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-153"><a href="#cb131-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-154"><a href="#cb131-154" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-155"><a href="#cb131-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-156"><a href="#cb131-156" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-157"><a href="#cb131-157" aria-hidden="true" tabindex="-1"></a>O ativo apresenta uma **tendência indefinida**, oscilando em um canal lateral, sem força compradora ou vendedora dominante. O suporte relevante está em **R\$ 5,80** e a resistência próxima em **R\$ 6,50** (dados de 27/06/2025).\</span>
<span id="cb131-158"><a href="#cb131-158" aria-hidden="true" tabindex="-1"></a>Conclusão: o movimento lateral reflete **incerteza dos investidores**, indicando que o papel pode permanecer congestionado até a confirmação de rompimento. Para investidores avessos ao risco, a atratividade é baixa, já que o retorno potencial é limitado e o risco de rompimento desfavorável existe.</span>
<span id="cb131-159"><a href="#cb131-159" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-160"><a href="#cb131-160" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-161"><a href="#cb131-161" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-162"><a href="#cb131-162" aria-hidden="true" tabindex="-1"></a><span class="in">plot_min_max(lwsa3, "LWSA3")</span></span>
<span id="cb131-163"><a href="#cb131-163" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-164"><a href="#cb131-164" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-165"><a href="#cb131-165" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-166"><a href="#cb131-166" aria-hidden="true" tabindex="-1"></a>Pelo ponto de vista gráfico, a ação apresenta uma **tendência de alta consistente**, apoiada por sucessivos topos e fundos ascendentes. O suporte firme se encontra na região de **R\$ 44,00**, enquanto a resistência imediata está em **R\$ 48,50** (dados de 27/06/2025). Conclusão: a configuração atrai investidores focados em **retorno total (valorização + dividendos)**, pois o ativo mantém força compradora. Contudo, a proximidade da resistência exige atenção a sinais de reversão ou realização de lucros.</span>
<span id="cb131-167"><a href="#cb131-167" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-168"><a href="#cb131-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-169"><a href="#cb131-169" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-170"><a href="#cb131-170" aria-hidden="true" tabindex="-1"></a><span class="in">plot_min_max(elet6, "ELET6")</span></span>
<span id="cb131-171"><a href="#cb131-171" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-172"><a href="#cb131-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-173"><a href="#cb131-173" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-174"><a href="#cb131-174" aria-hidden="true" tabindex="-1"></a>Graficamente, a ação opera em uma **tendência de alta moderada**, mas de menor inclinação em relação a outros papéis do setor financeiro. O suporte se mostra consistente em **R\$ 9,90**, com resistência no patamar de **R\$ 10,80** (dados de 27/06/2025).\</span>
<span id="cb131-175"><a href="#cb131-175" aria-hidden="true" tabindex="-1"></a>Conclusão: o movimento sugere um ativo **estável e com baixo risco relativo**, adequado a investidores com perfil conservador. O potencial de valorização é limitado, mas a probabilidade de manter suporte torna a relação risco-retorno equilibrada.</span>
<span id="cb131-176"><a href="#cb131-176" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-177"><a href="#cb131-177" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-178"><a href="#cb131-178" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-179"><a href="#cb131-179" aria-hidden="true" tabindex="-1"></a><span class="in">plot_min_max(itsa4, "ITSA4")</span></span>
<span id="cb131-180"><a href="#cb131-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-181"><a href="#cb131-181" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-182"><a href="#cb131-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-183"><a href="#cb131-183" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-184"><a href="#cb131-184" aria-hidden="true" tabindex="-1"></a>Pela análise técnica, o papel apresenta um movimento de **consolidação após forte valorização anterior**, caracterizando um período de descanso na tendência. O suporte principal está localizado em **R\$ 62,00**, enquanto a resistência relevante aparece em **R\$ 68,00** (dados de 27/06/2025).\</span>
<span id="cb131-185"><a href="#cb131-185" aria-hidden="true" tabindex="-1"></a>Conclusão: a ação indica **força acumulada** em suporte, sugerindo possível continuidade da alta em caso de rompimento da resistência. Para investidores moderados e agressivos, o ativo apresenta atratividade, desde que observada a relação risco-retorno em caso de correção.</span>
<span id="cb131-186"><a href="#cb131-186" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-187"><a href="#cb131-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-188"><a href="#cb131-188" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-189"><a href="#cb131-189" aria-hidden="true" tabindex="-1"></a><span class="in">plot_min_max(rent3, "RENT3")</span></span>
<span id="cb131-190"><a href="#cb131-190" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-191"><a href="#cb131-191" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-192"><a href="#cb131-192" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-193"><a href="#cb131-193" aria-hidden="true" tabindex="-1"></a>Graficamente, o ativo se encontra em **momento de transição**, refletindo indecisão entre compradores e vendedores. O suporte imediato está em **R\$ 20,00**, enquanto a resistência se posiciona em **R\$ 21,80** (dados de 27/06/2025). Conclusão: a ação aguarda um **catalisador de mercado** (como divulgação de resultados ou fatores macroeconômicos) para definir a direção. O cenário atual não favorece movimentos expressivos de curto prazo, sendo mais indicado a investidores pacientes ou com perfil de observação.</span>
<span id="cb131-194"><a href="#cb131-194" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-195"><a href="#cb131-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-196"><a href="#cb131-196" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-197"><a href="#cb131-197" aria-hidden="true" tabindex="-1"></a><span class="in">plot_min_max(brfs3, "BRFS3")</span></span>
<span id="cb131-198"><a href="#cb131-198" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-199"><a href="#cb131-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-200"><a href="#cb131-200" aria-hidden="true" tabindex="-1"></a><span class="fu">## Gráficos Seguindo a Estratégia Buy and Hold:</span></span>
<span id="cb131-201"><a href="#cb131-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-202"><a href="#cb131-202" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-203"><a href="#cb131-203" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A ITSA4 valorizou&nbsp;**35,68% (R\$2,99)**, com um volume impressionante de&nbsp;**R\$2,56 bilhões**, o maior da lista. Esse movimento reflete uma&nbsp;**alta sustentada** , ideal para estratégias de buy and hold. A consistência no volume e na valorização indica confiança do mercado.</span>
<span id="cb131-204"><a href="#cb131-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-205"><a href="#cb131-205" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O ativo BRFS3 apresentou uma valorização de&nbsp;**41,23% (R\$6,82)**&nbsp;no período analisado, com volume negociado de&nbsp;**R\$726,36 milhões**. Esse desempenho, aliado ao volume significativo, indica uma&nbsp;**tendência de alta** , sugerindo forte interesse do mercado.</span>
<span id="cb131-206"><a href="#cb131-206" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-207"><a href="#cb131-207" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Com uma valorização de&nbsp;**21,31% (R\$8,52)**&nbsp;e volume de&nbsp;**R\$114,55 milhões**, o ELET6 teve o desempenho mais modesto entre os ativos analisados. O baixo volume relativo sugere menor participação do mercado, mas ainda assim manteve uma trajetória positiva. Pode ser um ativo mais estável.</span>
<span id="cb131-208"><a href="#cb131-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-209"><a href="#cb131-209" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Com valorização de&nbsp;**56,87% (R\$14,55)**&nbsp;e volume de&nbsp;**R\$806,45 milhões**, a RENT3 mostrou um equilíbrio entre crescimento e liquidez. O bom desempenho , indica uma&nbsp;**tendência de alta bem sustentada**, com participação ativa do mercado.</span>
<span id="cb131-210"><a href="#cb131-210" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-211"><a href="#cb131-211" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Destaque absoluto, a LWSA3 subiu&nbsp;**85,54% (R\$1,99)**&nbsp;em&nbsp;**119 dias**, com volume de&nbsp;**R\$797,36 milhões**. Esse crescimento explosivo, quase o dobro dos demais ativos, sugere um&nbsp;**momento excepcional**, possivelmente impulsionado por fatores setoriais ou notícias específicas. Quem comprou e segurou obteve retornos extraordinários, mas a alta volatilidade exige atenção.</span>
<span id="cb131-212"><a href="#cb131-212" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-213"><a href="#cb131-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-214"><a href="#cb131-214" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-215"><a href="#cb131-215" aria-hidden="true" tabindex="-1"></a><span class="in">library(tseries)</span></span>
<span id="cb131-216"><a href="#cb131-216" aria-hidden="true" tabindex="-1"></a><span class="in">library(xts)</span></span>
<span id="cb131-217"><a href="#cb131-217" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-218"><a href="#cb131-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-219"><a href="#cb131-219" aria-hidden="true" tabindex="-1"></a><span class="in">plot_inicial_final &lt;- function(serie, nome) {</span></span>
<span id="cb131-220"><a href="#cb131-220" aria-hidden="true" tabindex="-1"></a><span class="in">  datas &lt;- index(serie)</span></span>
<span id="cb131-221"><a href="#cb131-221" aria-hidden="true" tabindex="-1"></a><span class="in">  preco &lt;- coredata(serie)</span></span>
<span id="cb131-222"><a href="#cb131-222" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-223"><a href="#cb131-223" aria-hidden="true" tabindex="-1"></a><span class="in">  # Ponto inicial e final</span></span>
<span id="cb131-224"><a href="#cb131-224" aria-hidden="true" tabindex="-1"></a><span class="in">  data_ini &lt;- datas[1]</span></span>
<span id="cb131-225"><a href="#cb131-225" aria-hidden="true" tabindex="-1"></a><span class="in">  preco_ini &lt;- preco[1]</span></span>
<span id="cb131-226"><a href="#cb131-226" aria-hidden="true" tabindex="-1"></a><span class="in">  data_fim &lt;- datas[length(datas)]</span></span>
<span id="cb131-227"><a href="#cb131-227" aria-hidden="true" tabindex="-1"></a><span class="in">  preco_fim &lt;- preco[length(preco)]</span></span>
<span id="cb131-228"><a href="#cb131-228" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-229"><a href="#cb131-229" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(serie, main = paste("Preço de fechamento -", nome), col = "blue")</span></span>
<span id="cb131-230"><a href="#cb131-230" aria-hidden="true" tabindex="-1"></a><span class="in">  points(data_ini, preco_ini, col = "green", pch = 19, cex = 1.5)</span></span>
<span id="cb131-231"><a href="#cb131-231" aria-hidden="true" tabindex="-1"></a><span class="in">  points(data_fim, preco_fim, col = "red", pch = 19, cex = 1.5)</span></span>
<span id="cb131-232"><a href="#cb131-232" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-233"><a href="#cb131-233" aria-hidden="true" tabindex="-1"></a><span class="in">  # Linha ligando primeiro e último</span></span>
<span id="cb131-234"><a href="#cb131-234" aria-hidden="true" tabindex="-1"></a><span class="in">  lines(c(data_ini, data_fim), c(preco_ini, preco_fim), col = "black", lwd = 2, lty = 2)</span></span>
<span id="cb131-235"><a href="#cb131-235" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-236"><a href="#cb131-236" aria-hidden="true" tabindex="-1"></a><span class="in">  legend("topright", legend = c("Primeiro dia", "Último dia"),</span></span>
<span id="cb131-237"><a href="#cb131-237" aria-hidden="true" tabindex="-1"></a><span class="in">         col = c("green", "red", "black"), pch = c(19, 19, NA), lty = c(NA, NA, 2), bty = "n")</span></span>
<span id="cb131-238"><a href="#cb131-238" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-239"><a href="#cb131-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-240"><a href="#cb131-240" aria-hidden="true" tabindex="-1"></a><span class="in"># Aplicando para os ativos</span></span>
<span id="cb131-241"><a href="#cb131-241" aria-hidden="true" tabindex="-1"></a><span class="in">plot_inicial_final(lwsa3, "LWSA3")</span></span>
<span id="cb131-242"><a href="#cb131-242" aria-hidden="true" tabindex="-1"></a><span class="in">plot_inicial_final(elet6, "ELET6")</span></span>
<span id="cb131-243"><a href="#cb131-243" aria-hidden="true" tabindex="-1"></a><span class="in">plot_inicial_final(itsa4, "ITSA4")</span></span>
<span id="cb131-244"><a href="#cb131-244" aria-hidden="true" tabindex="-1"></a><span class="in">plot_inicial_final(rent3, "RENT3")</span></span>
<span id="cb131-245"><a href="#cb131-245" aria-hidden="true" tabindex="-1"></a><span class="in">plot_inicial_final(brfs3, "BRFS3")</span></span>
<span id="cb131-246"><a href="#cb131-246" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-247"><a href="#cb131-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-248"><a href="#cb131-248" aria-hidden="true" tabindex="-1"></a><span class="fu"># Análise de Dow</span></span>
<span id="cb131-249"><a href="#cb131-249" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-250"><a href="#cb131-250" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-251"><a href="#cb131-251" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Após a análise das estratégias de *buy and hold* e da abordagem teórica baseada em máximos e mínimos, passamos agora a investigar a existência de tendências de alta ou baixa. Para isso, observaremos a evolução dos preços dos ativos da carteira e a compararemos com os respectivos volumes negociados, conforme os princípios da Teoria de Dow.</span>
<span id="cb131-252"><a href="#cb131-252" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-253"><a href="#cb131-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-254"><a href="#cb131-254" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-255"><a href="#cb131-255" aria-hidden="true" tabindex="-1"></a><span class="in">library(tseries)</span></span>
<span id="cb131-256"><a href="#cb131-256" aria-hidden="true" tabindex="-1"></a><span class="in">library(quantmod)</span></span>
<span id="cb131-257"><a href="#cb131-257" aria-hidden="true" tabindex="-1"></a><span class="in">library(TTR)</span></span>
<span id="cb131-258"><a href="#cb131-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-259"><a href="#cb131-259" aria-hidden="true" tabindex="-1"></a><span class="in"># Lista de ações</span></span>
<span id="cb131-260"><a href="#cb131-260" aria-hidden="true" tabindex="-1"></a><span class="in">acoes &lt;- c("lwsa3.sa", "elet6.sa", "itsa4.sa", "rent3.sa", "brfs3.sa")</span></span>
<span id="cb131-261"><a href="#cb131-261" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-262"><a href="#cb131-262" aria-hidden="true" tabindex="-1"></a><span class="in"># Intervalo de datas</span></span>
<span id="cb131-263"><a href="#cb131-263" aria-hidden="true" tabindex="-1"></a><span class="in">dataini &lt;- as.Date("2025-04-01")</span></span>
<span id="cb131-264"><a href="#cb131-264" aria-hidden="true" tabindex="-1"></a><span class="in">datafim &lt;- as.Date("2025-06-29")</span></span>
<span id="cb131-265"><a href="#cb131-265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-266"><a href="#cb131-266" aria-hidden="true" tabindex="-1"></a><span class="in"># Loop para cada ação</span></span>
<span id="cb131-267"><a href="#cb131-267" aria-hidden="true" tabindex="-1"></a><span class="in">for (ticker in acoes) {</span></span>
<span id="cb131-268"><a href="#cb131-268" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-269"><a href="#cb131-269" aria-hidden="true" tabindex="-1"></a><span class="in">  # Coletar dados históricos</span></span>
<span id="cb131-270"><a href="#cb131-270" aria-hidden="true" tabindex="-1"></a><span class="in">  ativo &lt;- tryCatch({</span></span>
<span id="cb131-271"><a href="#cb131-271" aria-hidden="true" tabindex="-1"></a><span class="in">    get.hist.quote(ticker, quote = "Close", start = dataini, end = datafim)</span></span>
<span id="cb131-272"><a href="#cb131-272" aria-hidden="true" tabindex="-1"></a><span class="in">  }, error = function(e) {</span></span>
<span id="cb131-273"><a href="#cb131-273" aria-hidden="true" tabindex="-1"></a><span class="in">    message(paste("Erro ao baixar dados de", ticker))</span></span>
<span id="cb131-274"><a href="#cb131-274" aria-hidden="true" tabindex="-1"></a><span class="in">    return(NULL)</span></span>
<span id="cb131-275"><a href="#cb131-275" aria-hidden="true" tabindex="-1"></a><span class="in">  })</span></span>
<span id="cb131-276"><a href="#cb131-276" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-277"><a href="#cb131-277" aria-hidden="true" tabindex="-1"></a><span class="in">  if (is.null(ativo)) next</span></span>
<span id="cb131-278"><a href="#cb131-278" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-279"><a href="#cb131-279" aria-hidden="true" tabindex="-1"></a><span class="in">  ativo &lt;- na.omit(ativo)</span></span>
<span id="cb131-280"><a href="#cb131-280" aria-hidden="true" tabindex="-1"></a><span class="in">  precos &lt;- coredata(ativo)</span></span>
<span id="cb131-281"><a href="#cb131-281" aria-hidden="true" tabindex="-1"></a><span class="in">  datas &lt;- index(ativo)</span></span>
<span id="cb131-282"><a href="#cb131-282" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-283"><a href="#cb131-283" aria-hidden="true" tabindex="-1"></a><span class="in">  # Suavização</span></span>
<span id="cb131-284"><a href="#cb131-284" aria-hidden="true" tabindex="-1"></a><span class="in">  precos_suavizados &lt;- SMA(precos, n = 3)</span></span>
<span id="cb131-285"><a href="#cb131-285" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-286"><a href="#cb131-286" aria-hidden="true" tabindex="-1"></a><span class="in">  # Detectar topos e fundos</span></span>
<span id="cb131-287"><a href="#cb131-287" aria-hidden="true" tabindex="-1"></a><span class="in">  fundos &lt;- c()</span></span>
<span id="cb131-288"><a href="#cb131-288" aria-hidden="true" tabindex="-1"></a><span class="in">  topos &lt;- c()</span></span>
<span id="cb131-289"><a href="#cb131-289" aria-hidden="true" tabindex="-1"></a><span class="in">  for (i in 2:(length(precos_suavizados) - 1)) {</span></span>
<span id="cb131-290"><a href="#cb131-290" aria-hidden="true" tabindex="-1"></a><span class="in">    if (!is.na(precos_suavizados[i - 1]) &amp;&amp;</span></span>
<span id="cb131-291"><a href="#cb131-291" aria-hidden="true" tabindex="-1"></a><span class="in">        !is.na(precos_suavizados[i]) &amp;&amp;</span></span>
<span id="cb131-292"><a href="#cb131-292" aria-hidden="true" tabindex="-1"></a><span class="in">        !is.na(precos_suavizados[i + 1])) {</span></span>
<span id="cb131-293"><a href="#cb131-293" aria-hidden="true" tabindex="-1"></a><span class="in">      </span></span>
<span id="cb131-294"><a href="#cb131-294" aria-hidden="true" tabindex="-1"></a><span class="in">      if (precos_suavizados[i] &lt; precos_suavizados[i - 1] &amp;&amp;</span></span>
<span id="cb131-295"><a href="#cb131-295" aria-hidden="true" tabindex="-1"></a><span class="in">          precos_suavizados[i] &lt; precos_suavizados[i + 1]) {</span></span>
<span id="cb131-296"><a href="#cb131-296" aria-hidden="true" tabindex="-1"></a><span class="in">        fundos &lt;- c(fundos, i)</span></span>
<span id="cb131-297"><a href="#cb131-297" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb131-298"><a href="#cb131-298" aria-hidden="true" tabindex="-1"></a><span class="in">      } else if (precos_suavizados[i] &gt; precos_suavizados[i - 1] &amp;&amp;</span></span>
<span id="cb131-299"><a href="#cb131-299" aria-hidden="true" tabindex="-1"></a><span class="in">                 precos_suavizados[i] &gt; precos_suavizados[i + 1]) {</span></span>
<span id="cb131-300"><a href="#cb131-300" aria-hidden="true" tabindex="-1"></a><span class="in">        topos &lt;- c(topos, i)</span></span>
<span id="cb131-301"><a href="#cb131-301" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb131-302"><a href="#cb131-302" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb131-303"><a href="#cb131-303" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb131-304"><a href="#cb131-304" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-305"><a href="#cb131-305" aria-hidden="true" tabindex="-1"></a><span class="in">  # Abrir nova janela para o gráfico (opcional: use dev.new() no R GUI)</span></span>
<span id="cb131-306"><a href="#cb131-306" aria-hidden="true" tabindex="-1"></a><span class="in">  dev.new()  # Remove se estiver usando RStudio</span></span>
<span id="cb131-307"><a href="#cb131-307" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(ativo, main = paste("Análise de Dow -", ticker), col = "black")</span></span>
<span id="cb131-308"><a href="#cb131-308" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-309"><a href="#cb131-309" aria-hidden="true" tabindex="-1"></a><span class="in">  # Marcar topos e fundos</span></span>
<span id="cb131-310"><a href="#cb131-310" aria-hidden="true" tabindex="-1"></a><span class="in">  points(datas[fundos], precos[fundos], col = "blue", pch = 17, cex = 1.2)</span></span>
<span id="cb131-311"><a href="#cb131-311" aria-hidden="true" tabindex="-1"></a><span class="in">  points(datas[topos], precos[topos], col = "red", pch = 19, cex = 1.2)</span></span>
<span id="cb131-312"><a href="#cb131-312" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-313"><a href="#cb131-313" aria-hidden="true" tabindex="-1"></a><span class="in">  # Linhas entre topos e fundos</span></span>
<span id="cb131-314"><a href="#cb131-314" aria-hidden="true" tabindex="-1"></a><span class="in">  for (i in 2:length(fundos)) {</span></span>
<span id="cb131-315"><a href="#cb131-315" aria-hidden="true" tabindex="-1"></a><span class="in">    lines(c(datas[fundos[i - 1]], datas[fundos[i]]),</span></span>
<span id="cb131-316"><a href="#cb131-316" aria-hidden="true" tabindex="-1"></a><span class="in">          c(precos[fundos[i - 1]], precos[fundos[i]]),</span></span>
<span id="cb131-317"><a href="#cb131-317" aria-hidden="true" tabindex="-1"></a><span class="in">          col = "blue", lwd = 2, lty = 2)</span></span>
<span id="cb131-318"><a href="#cb131-318" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb131-319"><a href="#cb131-319" aria-hidden="true" tabindex="-1"></a><span class="in">  for (i in 2:length(topos)) {</span></span>
<span id="cb131-320"><a href="#cb131-320" aria-hidden="true" tabindex="-1"></a><span class="in">    lines(c(datas[topos[i - 1]], datas[topos[i]]),</span></span>
<span id="cb131-321"><a href="#cb131-321" aria-hidden="true" tabindex="-1"></a><span class="in">          c(precos[topos[i - 1]], precos[topos[i]]),</span></span>
<span id="cb131-322"><a href="#cb131-322" aria-hidden="true" tabindex="-1"></a><span class="in">          col = "red", lwd = 2, lty = 2)</span></span>
<span id="cb131-323"><a href="#cb131-323" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb131-324"><a href="#cb131-324" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-325"><a href="#cb131-325" aria-hidden="true" tabindex="-1"></a><span class="in">  # Legenda</span></span>
<span id="cb131-326"><a href="#cb131-326" aria-hidden="true" tabindex="-1"></a><span class="in">  legend("topleft", legend = c("Fundos", "Topos", "Tendência de Alta", "Tendência de Baixa"),</span></span>
<span id="cb131-327"><a href="#cb131-327" aria-hidden="true" tabindex="-1"></a><span class="in">         col = c("blue", "red", "blue", "red"), pch = c(17, 19, NA, NA), lty = c(NA, NA, 2, 2), bty = "n")</span></span>
<span id="cb131-328"><a href="#cb131-328" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-329"><a href="#cb131-329" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-330"><a href="#cb131-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-331"><a href="#cb131-331" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-332"><a href="#cb131-332" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Análise do ativo BRFS3: Ao compararmos os preços e volumes nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos um movimento de alta nos preços acompanhado por um aumento no volume, o que reforça a força da tendência. Já na análise com base na Teoria de Dow, nota-se que o movimento de alta foi seguido por uma correção (destacada pelas linhas azuis), porém o padrão de topos e fundos ascendentes permanece visível em partes do gráfico. há indícios de que a tendência de alta poderá ser retomada.</span>
<span id="cb131-333"><a href="#cb131-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-334"><a href="#cb131-334" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Análise do ativo ELET6 : ao compararmos os preços e volumes sob as estratégias de buy and hold e da abordagem teórica de máximos e mínimos, observamos que o preço apresentou uma leve valorização. Apesar desse ganho moderado, o volume negociado aumentou significativamente. Esse crescimento de volume, aliado à estabilidade ou leve alta dos preços, pode sinalizar um interesse contínuo dos investidores.</span>
<span id="cb131-335"><a href="#cb131-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-336"><a href="#cb131-336" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Análise do ativo ITSA6: Na análise do ativo ITSA6, ao compararmos os preços e volumes com base nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos uma tendência de alta, com sucessivos topos e fundos . O aumento do volume em momentos de valorização reforça a Teoria de Dow, esse comportamento — altas acompanhadas por volume crescente — confirma a continuidade da tendência de alta.</span>
<span id="cb131-337"><a href="#cb131-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-338"><a href="#cb131-338" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Análise do ativo RENT3: Análise do ativo RENT3: na comparação entre os preços e volumes nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos que o preço apresentou uma valorização constante, com formação de topos e fundos ascendentes, o que é um forte indicativo de tendência de alta segundo a Teoria de Dow.</span>
<span id="cb131-339"><a href="#cb131-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-340"><a href="#cb131-340" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Análise do ativo LWSA3: Na comparação entre os preços e volumes nas estratégias de buy and hold e na abordagem teórica de máximos e mínimos, observamos que não houve uma grande oscilação de preços no curto prazo, mas o volume apresentou um aumento relevante. De acordo com a Teoria de Dow, esse comportamento — preço lateralizado com aumento de volume — pode ser interpretado como uma fase de acumulação, sinalizando uma possível tendência de alta futura.</span>
<span id="cb131-341"><a href="#cb131-341" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-342"><a href="#cb131-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-343"><a href="#cb131-343" aria-hidden="true" tabindex="-1"></a><span class="fu"># Estatísticas descritivas</span></span>
<span id="cb131-344"><a href="#cb131-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-345"><a href="#cb131-345" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cálculo da média e do desvio padrão dos preços:</span></span>
<span id="cb131-346"><a href="#cb131-346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-347"><a href="#cb131-347" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-348"><a href="#cb131-348" aria-hidden="true" tabindex="-1"></a>Ao calcularmos a média e o desvio padrão dos preços, buscamos compreender a dispersão dos valores em torno do seu ponto central. O coeficiente de variação, por sua vez, expressa essa dispersão de forma relativa à média, indicando em termos percentuais o quanto o preço de um ativo oscila no período analisado. Dessa forma, ele se torna um indicador eficiente para avaliar o risco relativo: quanto maior for o coeficiente, maior tende a ser a volatilidade do ativo, refletindo um nível mais elevado de incerteza.</span>
<span id="cb131-349"><a href="#cb131-349" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-350"><a href="#cb131-350" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-351"><a href="#cb131-351" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-352"><a href="#cb131-352" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-353"><a href="#cb131-353" aria-hidden="true" tabindex="-1"></a><span class="in">Media.lwsa3 &lt;- mean(lwsa3); Desvio.lwsa3 &lt;- sd(lwsa3)</span></span>
<span id="cb131-354"><a href="#cb131-354" aria-hidden="true" tabindex="-1"></a><span class="in">Media.elet6 &lt;- mean(elet6); Desvio.elet6 &lt;- sd(elet6)</span></span>
<span id="cb131-355"><a href="#cb131-355" aria-hidden="true" tabindex="-1"></a><span class="in">Media.itsa4 &lt;- mean(itsa4); Desvio.itsa4 &lt;- sd(itsa4)</span></span>
<span id="cb131-356"><a href="#cb131-356" aria-hidden="true" tabindex="-1"></a><span class="in">Media.rent3 &lt;- mean(rent3); Desvio.rent3 &lt;- sd(rent3)</span></span>
<span id="cb131-357"><a href="#cb131-357" aria-hidden="true" tabindex="-1"></a><span class="in">Media.brfs3 &lt;- mean(brfs3); Desvio.brfs3 &lt;- sd(brfs3)</span></span>
<span id="cb131-358"><a href="#cb131-358" aria-hidden="true" tabindex="-1"></a><span class="in">Media.ibov  &lt;- mean(ibov);  Desvio.ibov  &lt;- sd(ibov)</span></span>
<span id="cb131-359"><a href="#cb131-359" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-360"><a href="#cb131-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-361"><a href="#cb131-361" aria-hidden="true" tabindex="-1"></a><span class="in"># Cria a tabela com os ativos, média e desvio padrão</span></span>
<span id="cb131-362"><a href="#cb131-362" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_resumo &lt;- tibble::tibble(</span></span>
<span id="cb131-363"><a href="#cb131-363" aria-hidden="true" tabindex="-1"></a><span class="in">  Ativo = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"),</span></span>
<span id="cb131-364"><a href="#cb131-364" aria-hidden="true" tabindex="-1"></a><span class="in">  Média = c(Media.lwsa3, Media.elet6, Media.itsa4, Media.rent3 ,Media.brfs3, Media.ibov),</span></span>
<span id="cb131-365"><a href="#cb131-365" aria-hidden="true" tabindex="-1"></a><span class="in">  `Desvio Padrão` = c(Desvio.lwsa3,Desvio.elet6,Desvio.itsa4,Desvio.rent3,Desvio.brfs3 ,Desvio.ibov)</span></span>
<span id="cb131-366"><a href="#cb131-366" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb131-367"><a href="#cb131-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-368"><a href="#cb131-368" aria-hidden="true" tabindex="-1"></a><span class="in"># Exibe a tabela com kable (bonita para HTML, PDF, etc.)</span></span>
<span id="cb131-369"><a href="#cb131-369" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(tabela_resumo, digits = 4, caption = "Média e Desvio Padrão dos Ativos")%&gt;%</span></span>
<span id="cb131-370"><a href="#cb131-370" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb131-371"><a href="#cb131-371" aria-hidden="true" tabindex="-1"></a><span class="in">                full_width = FALSE)</span></span>
<span id="cb131-372"><a href="#cb131-372" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-373"><a href="#cb131-373" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-374"><a href="#cb131-374" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cálculo do coeficiente de variação dos preços</span></span>
<span id="cb131-375"><a href="#cb131-375" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-376"><a href="#cb131-376" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-377"><a href="#cb131-377" aria-hidden="true" tabindex="-1"></a>Com os resultados obtidos, observa-se que o ativo **LWSA3** apresentou o maior coeficiente de variação, atingindo **12,72%**, enquanto o menor valor foi registrado pela **ELET6**, com **2,74%**. Em seguida, destacam-se **BRFS3 (4,21%)**, **ITSA4 (5,42%)** e **RENT3 (6,23%)**. Para efeito de comparação, o **Ibovespa** apresentou um coeficiente de **3,01%**.</span>
<span id="cb131-378"><a href="#cb131-378" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-379"><a href="#cb131-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-380"><a href="#cb131-380" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-381"><a href="#cb131-381" aria-hidden="true" tabindex="-1"></a><span class="in">#==MEDIDA DE RISCO dos PREÇOS (%) ================</span></span>
<span id="cb131-382"><a href="#cb131-382" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-383"><a href="#cb131-383" aria-hidden="true" tabindex="-1"></a><span class="in">CVlwsa3 &lt;- sd(lwsa3)/mean(lwsa3)*100</span></span>
<span id="cb131-384"><a href="#cb131-384" aria-hidden="true" tabindex="-1"></a><span class="in">CVelet6 &lt;- sd(elet6)/mean(elet6)*100</span></span>
<span id="cb131-385"><a href="#cb131-385" aria-hidden="true" tabindex="-1"></a><span class="in">CVitsa4 &lt;- sd(itsa4)/mean(itsa4)*100</span></span>
<span id="cb131-386"><a href="#cb131-386" aria-hidden="true" tabindex="-1"></a><span class="in">CVrent3 &lt;- sd(rent3)/mean(rent3)*100</span></span>
<span id="cb131-387"><a href="#cb131-387" aria-hidden="true" tabindex="-1"></a><span class="in">CVbrfs3 &lt;- sd(brfs3)/mean(brfs3)*100</span></span>
<span id="cb131-388"><a href="#cb131-388" aria-hidden="true" tabindex="-1"></a><span class="in">CVibov  &lt;- sd(ibov)/mean(ibov)*100</span></span>
<span id="cb131-389"><a href="#cb131-389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-390"><a href="#cb131-390" aria-hidden="true" tabindex="-1"></a><span class="in"># Cria a tabela com os ativos, média e desvio padrão</span></span>
<span id="cb131-391"><a href="#cb131-391" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_cvpreco &lt;- tibble::tibble(</span></span>
<span id="cb131-392"><a href="#cb131-392" aria-hidden="true" tabindex="-1"></a><span class="in">  Ativo = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"),</span></span>
<span id="cb131-393"><a href="#cb131-393" aria-hidden="true" tabindex="-1"></a><span class="in">  `Coeficiente de Variação` = c(CVlwsa3,CVelet6, CVitsa4,CVrent3, CVbrfs3, CVibov),)</span></span>
<span id="cb131-394"><a href="#cb131-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-395"><a href="#cb131-395" aria-hidden="true" tabindex="-1"></a><span class="in"># Reordena os ativos deixando IBOV por último</span></span>
<span id="cb131-396"><a href="#cb131-396" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_cvpreco$Ativo &lt;- factor(tabela_cvpreco$Ativo,</span></span>
<span id="cb131-397"><a href="#cb131-397" aria-hidden="true" tabindex="-1"></a><span class="in">                               levels = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"))</span></span>
<span id="cb131-398"><a href="#cb131-398" aria-hidden="true" tabindex="-1"></a><span class="in"># Exibe a tabela </span></span>
<span id="cb131-399"><a href="#cb131-399" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(tabela_cvpreco, digits = 2, caption = "Coeficiente de Variação (Preço) dos Ativos")%&gt;%</span></span>
<span id="cb131-400"><a href="#cb131-400" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb131-401"><a href="#cb131-401" aria-hidden="true" tabindex="-1"></a><span class="in">                full_width = FALSE)</span></span>
<span id="cb131-402"><a href="#cb131-402" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-403"><a href="#cb131-403" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-404"><a href="#cb131-404" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-405"><a href="#cb131-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-406"><a href="#cb131-406" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise dos retornos</span></span>
<span id="cb131-407"><a href="#cb131-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-408"><a href="#cb131-408" aria-hidden="true" tabindex="-1"></a><span class="fu">### Cálculo dos retornos logarítmicos:</span></span>
<span id="cb131-409"><a href="#cb131-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-410"><a href="#cb131-410" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-411"><a href="#cb131-411" aria-hidden="true" tabindex="-1"></a>Ao analisarmos a média e o desvio padrão dos retornos, buscamos compreender de forma mais consistente a volatilidade e o risco dos ativos. O coeficiente obtido a partir dos retornos é mais representativo da incerteza: quanto maior o coeficiente, maior tende a ser a volatilidade, indicando maior incerteza. Quando o coeficiente é negativo, isso evidencia não apenas alta volatilidade, mas também uma tendência de perda.</span>
<span id="cb131-412"><a href="#cb131-412" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-413"><a href="#cb131-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-414"><a href="#cb131-414" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-415"><a href="#cb131-415" aria-hidden="true" tabindex="-1"></a><span class="in">### RETORNO ##############################</span></span>
<span id="cb131-416"><a href="#cb131-416" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-417"><a href="#cb131-417" aria-hidden="true" tabindex="-1"></a><span class="in">rlwsa3 &lt;- diff(log(lwsa3))</span></span>
<span id="cb131-418"><a href="#cb131-418" aria-hidden="true" tabindex="-1"></a><span class="in">relet6 &lt;- diff(log(elet6))</span></span>
<span id="cb131-419"><a href="#cb131-419" aria-hidden="true" tabindex="-1"></a><span class="in">ritsa4 &lt;- diff(log(itsa4))</span></span>
<span id="cb131-420"><a href="#cb131-420" aria-hidden="true" tabindex="-1"></a><span class="in">rrent3 &lt;- diff(log(rent3))</span></span>
<span id="cb131-421"><a href="#cb131-421" aria-hidden="true" tabindex="-1"></a><span class="in">rbrfs3 &lt;- diff(log(brfs3))</span></span>
<span id="cb131-422"><a href="#cb131-422" aria-hidden="true" tabindex="-1"></a><span class="in">ribov  &lt;- diff(log(ibov))</span></span>
<span id="cb131-423"><a href="#cb131-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-424"><a href="#cb131-424" aria-hidden="true" tabindex="-1"></a><span class="in"># Gráficos de Retorno</span></span>
<span id="cb131-425"><a href="#cb131-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-426"><a href="#cb131-426" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(2, 3))</span></span>
<span id="cb131-427"><a href="#cb131-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-428"><a href="#cb131-428" aria-hidden="true" tabindex="-1"></a><span class="in">plot(rlwsa3, main = "Retorno LWSA3", col = "pink")</span></span>
<span id="cb131-429"><a href="#cb131-429" aria-hidden="true" tabindex="-1"></a><span class="in">plot(relet6, main = "Retorno ELET6", col = "pink")</span></span>
<span id="cb131-430"><a href="#cb131-430" aria-hidden="true" tabindex="-1"></a><span class="in">plot(ritsa4, main = "Retorno ITSA4", col = "pink")</span></span>
<span id="cb131-431"><a href="#cb131-431" aria-hidden="true" tabindex="-1"></a><span class="in">plot(rrent3, main = "Retorno RENT3", col = "pink")</span></span>
<span id="cb131-432"><a href="#cb131-432" aria-hidden="true" tabindex="-1"></a><span class="in">plot(rbrfs3, main = "Retorno BRFS3", col = "pink")</span></span>
<span id="cb131-433"><a href="#cb131-433" aria-hidden="true" tabindex="-1"></a><span class="in">plot(ribov,  main = "Retorno IBOV",  col = "red")</span></span>
<span id="cb131-434"><a href="#cb131-434" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-435"><a href="#cb131-435" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-436"><a href="#cb131-436" aria-hidden="true" tabindex="-1"></a><span class="fu">### Média e desvio padrão dos retornos</span></span>
<span id="cb131-437"><a href="#cb131-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-438"><a href="#cb131-438" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-439"><a href="#cb131-439" aria-hidden="true" tabindex="-1"></a>Ao analisarmos a **média** e o **desvio-padrão** dos retornos, buscamos compreender de forma mais consistente a volatilidade e o risco de cada ativo. O coeficiente de variação, obtido a partir dos retornos, é um indicador mais fiel da incerteza: quanto maior o coeficiente, maior tende a ser a volatilidade relativa, sinalizando maior risco. Quando o coeficiente é **negativo**, isso evidencia não apenas alta instabilidade, mas também uma tendência de perda.</span>
<span id="cb131-440"><a href="#cb131-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-441"><a href="#cb131-441" aria-hidden="true" tabindex="-1"></a>Os resultados observados foram:</span>
<span id="cb131-442"><a href="#cb131-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-443"><a href="#cb131-443" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**LWSA3**: retorno médio **0,685%**, desvio-padrão **0,0330**, coeficiente **4,82**</span>
<span id="cb131-444"><a href="#cb131-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-445"><a href="#cb131-445" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**ELET6**: retorno médio **-0,0188%**, desvio-padrão **0,0120**, coeficiente **-63,64**</span>
<span id="cb131-446"><a href="#cb131-446" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-447"><a href="#cb131-447" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**ITSA4**: retorno médio **0,2139%**, desvio-padrão **0,0123**, coeficiente **5,75**</span>
<span id="cb131-448"><a href="#cb131-448" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-449"><a href="#cb131-449" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**RENT3**: retorno médio **0,2446%**, desvio-padrão **0,0245**, coeficiente **10,00**</span>
<span id="cb131-450"><a href="#cb131-450" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-451"><a href="#cb131-451" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**BRFS3**: retorno médio **-0,0203%**, desvio-padrão **0,0248**, coeficiente **-121,97**</span>
<span id="cb131-452"><a href="#cb131-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-453"><a href="#cb131-453" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**IBOV**: retorno médio **0,0723%**, desvio-padrão **0,0098**, coeficiente **13,60**</span>
<span id="cb131-454"><a href="#cb131-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-455"><a href="#cb131-455" aria-hidden="true" tabindex="-1"></a>A **BRFS3** se destaca por apresentar coeficiente extremamente elevado e negativo, refletindo forte volatilidade associada a uma tendência de perda. Em seguida aparece a **ELET6**, também com coeficiente negativo expressivo. Entre os ativos com coeficientes positivos, a **LWSA3** apresentou o menor valor (4,82), sugerindo maior estabilidade relativa, seguida por **ITSA4** (5,75) e **RENT3** (10,00), que apesar de mais volátil, ainda demonstrou retorno positivo.</span>
<span id="cb131-456"><a href="#cb131-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-457"><a href="#cb131-457" aria-hidden="true" tabindex="-1"></a>Em comparação, o **IBOV** apresentou retorno médio de **0,0723%** e coeficiente de variação **13,60**, ou seja, mais volátil em termos relativos do que ativos como **LWSA3** e **ITSA4**. Isso indica que determinados ativos individuais podem oferecer uma relação risco-retorno mais favorável do que o próprio índice de mercado, reforçando a importância da seleção criteriosa de ativos dentro de uma estratégia de diversificação.</span>
<span id="cb131-458"><a href="#cb131-458" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-459"><a href="#cb131-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-460"><a href="#cb131-460" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-461"><a href="#cb131-461" aria-hidden="true" tabindex="-1"></a><span class="in"># Média do retorno (%) e desvio</span></span>
<span id="cb131-462"><a href="#cb131-462" aria-hidden="true" tabindex="-1"></a><span class="in">rlwsa3 &lt;- diff(log(lwsa3)); mrlwsa3 &lt;- mean(rlwsa3)*100; Drlwsa3 &lt;- sd(rlwsa3);CVlwsa3 &lt;- Drlwsa3 / mrlwsa3 * 100</span></span>
<span id="cb131-463"><a href="#cb131-463" aria-hidden="true" tabindex="-1"></a><span class="in">relet6 &lt;- diff(log(elet6)); mrelet6 &lt;- mean(relet6)*100; Drelet6 &lt;- sd(relet6);cvelet6 &lt;- Drelet6 / mrelet6 * 100</span></span>
<span id="cb131-464"><a href="#cb131-464" aria-hidden="true" tabindex="-1"></a><span class="in">ritsa4 &lt;- diff(log(itsa4)); mritsa4 &lt;- mean(ritsa4)*100; Dritsa4 &lt;- sd(ritsa4);cvitsa4 &lt;- Dritsa4 / mritsa4 * 100</span></span>
<span id="cb131-465"><a href="#cb131-465" aria-hidden="true" tabindex="-1"></a><span class="in">rrent3 &lt;- diff(log(rent3)); mrrent3 &lt;- mean(rrent3)*100; Drrent3 &lt;- sd(rrent3);cvrent3 &lt;- Drrent3 / mrrent3 * 100</span></span>
<span id="cb131-466"><a href="#cb131-466" aria-hidden="true" tabindex="-1"></a><span class="in">rbrfs3 &lt;- diff(log(brfs3)); mrbrfs3 &lt;- mean(rbrfs3)*100; Drbrfs3 &lt;- sd(rbrfs3);cvbrfs3 &lt;- Drbrfs3 / mrbrfs3 * 100</span></span>
<span id="cb131-467"><a href="#cb131-467" aria-hidden="true" tabindex="-1"></a><span class="in">ribov  &lt;- diff(log(ibov));  mribov  &lt;- mean(ribov)*100;  Dribov  &lt;- sd(ribov);cvibov &lt;- Dribov / mribov * 100</span></span>
<span id="cb131-468"><a href="#cb131-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-469"><a href="#cb131-469" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-470"><a href="#cb131-470" aria-hidden="true" tabindex="-1"></a><span class="in"># tabela com os dados de retorno</span></span>
<span id="cb131-471"><a href="#cb131-471" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_retornos &lt;- tibble::tibble(</span></span>
<span id="cb131-472"><a href="#cb131-472" aria-hidden="true" tabindex="-1"></a><span class="in">  Ativo = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"),</span></span>
<span id="cb131-473"><a href="#cb131-473" aria-hidden="true" tabindex="-1"></a><span class="in">  `Média dos Retornos (%)` = c(mrlwsa3, mrelet6, mritsa4, mrrent3, mrbrfs3, mribov),</span></span>
<span id="cb131-474"><a href="#cb131-474" aria-hidden="true" tabindex="-1"></a><span class="in">  `Desvio Padrão dos Retornos` = c(Drlwsa3, Drelet6, Dritsa4, Drrent3 , Drbrfs3, Dribov ),</span></span>
<span id="cb131-475"><a href="#cb131-475" aria-hidden="true" tabindex="-1"></a><span class="in"> `Coeficiente de Variação` = c(CVlwsa3, cvelet6, cvitsa4, cvrent3, cvbrfs3, cvibov ))</span></span>
<span id="cb131-476"><a href="#cb131-476" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-477"><a href="#cb131-477" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-478"><a href="#cb131-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-479"><a href="#cb131-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-480"><a href="#cb131-480" aria-hidden="true" tabindex="-1"></a><span class="in"># Exibe a tabela formatada</span></span>
<span id="cb131-481"><a href="#cb131-481" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(tabela_retornos, digits = 6, caption = "Média e Desvio Padrão dos Retornos Diários")%&gt;%</span></span>
<span id="cb131-482"><a href="#cb131-482" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb131-483"><a href="#cb131-483" aria-hidden="true" tabindex="-1"></a><span class="in">                full_width = FALSE)</span></span>
<span id="cb131-484"><a href="#cb131-484" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-485"><a href="#cb131-485" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-486"><a href="#cb131-486" aria-hidden="true" tabindex="-1"></a><span class="fu"># Distribuição dos preços e retornos</span></span>
<span id="cb131-487"><a href="#cb131-487" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-488"><a href="#cb131-488" aria-hidden="true" tabindex="-1"></a><span class="fu">### Histogramas:</span></span>
<span id="cb131-489"><a href="#cb131-489" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-490"><a href="#cb131-490" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-491"><a href="#cb131-491" aria-hidden="true" tabindex="-1"></a>A análise dos histogramas possibilita avaliar o formato da distribuição dos preços e retornos dos ativos. Em alguns casos, como **ITSA4** e **BRFS3**, observa-se um comportamento que se aproxima do formato de sino característico da distribuição normal, embora ainda apresentem sinais de assimetria e caudas alongadas, o que indica desvios da normalidade perfeita.</span>
<span id="cb131-492"><a href="#cb131-492" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-493"><a href="#cb131-493" aria-hidden="true" tabindex="-1"></a>Para confirmar essas evidências visuais, aplicou-se o **teste de Jarque-Bera**, que avalia se uma série segue ou não a distribuição normal, com base na hipótese nula de normalidade (H₀). Os resultados mostraram que:</span>
<span id="cb131-494"><a href="#cb131-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-495"><a href="#cb131-495" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Ativos como **LWSA3 (p=0,0195)**, **ITSA4 (p=0,0154)**, **RENT3 (p=0,0272)** e o **IBOV (p=0,0066)** rejeitaram a hipótese nula ao nível de 5% de significância, evidenciando que seus retornos **não seguem a distribuição normal**.</span>
<span id="cb131-496"><a href="#cb131-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-497"><a href="#cb131-497" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Já **ELET6 (p=0,1748)** e **BRFS3 (p=0,1631)** não rejeitaram a hipótese nula, indicando que não há evidências estatísticas suficientes para descartar a normalidade de suas distribuições.</span>
<span id="cb131-498"><a href="#cb131-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-499"><a href="#cb131-499" aria-hidden="true" tabindex="-1"></a>Portanto, ainda que alguns histogramas sugiram proximidade com a forma normal, o **teste estatístico confirma que a maioria dos ativos analisados não segue rigorosamente uma distribuição normal**. Esse resultado é relevante para a gestão de risco, pois a não normalidade dos retornos implica maior cautela na aplicação de modelos que assumem distribuição normal, especialmente na mensuração de volatilidade e no cálculo de Value at Risk (VaR).</span>
<span id="cb131-500"><a href="#cb131-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-501"><a href="#cb131-501" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O **IBOV** apresentou retorno médio de **0,0723%**, desvio-padrão de **0,0098** e coeficiente de variação de **13,60**, revelando maior volatilidade relativa em comparação a alguns ativos individuais, como LWSA3 e ITSA4. Além disso, o teste de **Jarque-Bera (p=0,0066)** rejeitou a hipótese de normalidade, indicando que os retornos do índice não seguem uma distribuição normal. Isso sugere que, embora o IBOV seja usado como benchmark de mercado, nem sempre apresenta o melhor equilíbrio risco-retorno frente a ativos específicos ou carteiras diversificadas.</span>
<span id="cb131-502"><a href="#cb131-502" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-503"><a href="#cb131-503" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-504"><a href="#cb131-504" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-505"><a href="#cb131-505" aria-hidden="true" tabindex="-1"></a><span class="in"># Todos os Histogramas</span></span>
<span id="cb131-506"><a href="#cb131-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-507"><a href="#cb131-507" aria-hidden="true" tabindex="-1"></a><span class="in">  #Preço</span></span>
<span id="cb131-508"><a href="#cb131-508" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(2, 3))</span></span>
<span id="cb131-509"><a href="#cb131-509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-510"><a href="#cb131-510" aria-hidden="true" tabindex="-1"></a><span class="in">hist(lwsa3, nclass = 30, col = "cadetblue", main = "Histograma LWSA3", xlab = "Preço")</span></span>
<span id="cb131-511"><a href="#cb131-511" aria-hidden="true" tabindex="-1"></a><span class="in">hist(elet6, nclass = 30, col = "cadetblue", main = "Histograma ELET5", xlab = "Preço")</span></span>
<span id="cb131-512"><a href="#cb131-512" aria-hidden="true" tabindex="-1"></a><span class="in">hist(itsa4, nclass = 30, col = "cadetblue", main = "Histograma ITSA4", xlab = "Preço")</span></span>
<span id="cb131-513"><a href="#cb131-513" aria-hidden="true" tabindex="-1"></a><span class="in">hist(rent3, nclass = 30, col = "cadetblue", main = "Histograma RENT3", xlab = "Preço")</span></span>
<span id="cb131-514"><a href="#cb131-514" aria-hidden="true" tabindex="-1"></a><span class="in">hist(brfs3, nclass = 30, col = "cadetblue", main = "Histograma BRFS3", xlab = "Preço")</span></span>
<span id="cb131-515"><a href="#cb131-515" aria-hidden="true" tabindex="-1"></a><span class="in">hist(ibov,  nclass = 30, col = "red", main = "Histograma IBOV",  xlab = "Preço")</span></span>
<span id="cb131-516"><a href="#cb131-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-517"><a href="#cb131-517" aria-hidden="true" tabindex="-1"></a><span class="in">  #Retorno</span></span>
<span id="cb131-518"><a href="#cb131-518" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(2, 3))</span></span>
<span id="cb131-519"><a href="#cb131-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-520"><a href="#cb131-520" aria-hidden="true" tabindex="-1"></a><span class="in">hist(rlwsa3, nclass = 30, col = "lightcoral", main = "Hist Ret LWSA3", xlab = "Retorno")</span></span>
<span id="cb131-521"><a href="#cb131-521" aria-hidden="true" tabindex="-1"></a><span class="in">hist(relet6, nclass = 30, col = "lightcoral", main = "Hist Ret ELET5", xlab = "Retorno")</span></span>
<span id="cb131-522"><a href="#cb131-522" aria-hidden="true" tabindex="-1"></a><span class="in">hist(ritsa4, nclass = 30, col = "lightcoral", main = "Hist Ret ITSA4", xlab = "Retorno")</span></span>
<span id="cb131-523"><a href="#cb131-523" aria-hidden="true" tabindex="-1"></a><span class="in">hist(rrent3, nclass = 30, col = "lightcoral", main = "Hist Ret RENT34", xlab = "Retorno")</span></span>
<span id="cb131-524"><a href="#cb131-524" aria-hidden="true" tabindex="-1"></a><span class="in">hist(rbrfs3, nclass = 30, col = "lightcoral", main = "Hist Ret BRFS3", xlab = "Retorno")</span></span>
<span id="cb131-525"><a href="#cb131-525" aria-hidden="true" tabindex="-1"></a><span class="in">hist(ribov,  nclass = 30, col = "purple", main = "Hist Ret IBOV",  xlab = "Retorno")</span></span>
<span id="cb131-526"><a href="#cb131-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-527"><a href="#cb131-527" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-528"><a href="#cb131-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-529"><a href="#cb131-529" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-530"><a href="#cb131-530" aria-hidden="true" tabindex="-1"></a><span class="in">#Tabela Jarque Bera e P-Valor</span></span>
<span id="cb131-531"><a href="#cb131-531" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3jb &lt;- jarqueberaTest(lwsa3)@test$statistic</span></span>
<span id="cb131-532"><a href="#cb131-532" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3jbp &lt;- jarqueberaTest(lwsa3)@test$p.value</span></span>
<span id="cb131-533"><a href="#cb131-533" aria-hidden="true" tabindex="-1"></a><span class="in">elet6jb &lt;- jarqueberaTest(elet6)@test$statistic</span></span>
<span id="cb131-534"><a href="#cb131-534" aria-hidden="true" tabindex="-1"></a><span class="in">elet6jbp &lt;- jarqueberaTest(elet6)@test$p.value</span></span>
<span id="cb131-535"><a href="#cb131-535" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4jb &lt;- jarqueberaTest(itsa4)@test$statistic</span></span>
<span id="cb131-536"><a href="#cb131-536" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4jbp &lt;- jarqueberaTest(itsa4)@test$p.value</span></span>
<span id="cb131-537"><a href="#cb131-537" aria-hidden="true" tabindex="-1"></a><span class="in">rent3jb &lt;- jarqueberaTest(rent3)@test$statistic</span></span>
<span id="cb131-538"><a href="#cb131-538" aria-hidden="true" tabindex="-1"></a><span class="in">rent3jbp &lt;- jarqueberaTest(rent3)@test$p.value</span></span>
<span id="cb131-539"><a href="#cb131-539" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3jb &lt;- jarqueberaTest(brfs3)@test$statistic</span></span>
<span id="cb131-540"><a href="#cb131-540" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3jbp &lt;- jarqueberaTest(brfs3)@test$p.value</span></span>
<span id="cb131-541"><a href="#cb131-541" aria-hidden="true" tabindex="-1"></a><span class="in">ibovjb &lt;- jarqueberaTest(ibov)@test$statistic</span></span>
<span id="cb131-542"><a href="#cb131-542" aria-hidden="true" tabindex="-1"></a><span class="in">ibovjbp &lt;- jarqueberaTest(ibov)@test$p.value</span></span>
<span id="cb131-543"><a href="#cb131-543" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-544"><a href="#cb131-544" aria-hidden="true" tabindex="-1"></a><span class="in"># Cria a tabela com os ativos</span></span>
<span id="cb131-545"><a href="#cb131-545" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_jb &lt;- tibble::tibble(</span></span>
<span id="cb131-546"><a href="#cb131-546" aria-hidden="true" tabindex="-1"></a><span class="in">  Ativo = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"),</span></span>
<span id="cb131-547"><a href="#cb131-547" aria-hidden="true" tabindex="-1"></a><span class="in">  `Jarque-Bera` = c(lwsa3jb, elet6jb, itsa4jb, rent3jb, brfs3jb, ibovjb),</span></span>
<span id="cb131-548"><a href="#cb131-548" aria-hidden="true" tabindex="-1"></a><span class="in">  `P-Valor` = c(lwsa3jbp, elet6jbp, itsa4jbp, rent3jbp, brfs3jbp, ibovjbp))</span></span>
<span id="cb131-549"><a href="#cb131-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-550"><a href="#cb131-550" aria-hidden="true" tabindex="-1"></a><span class="in"># Reordena os ativos deixando IBOV por último</span></span>
<span id="cb131-551"><a href="#cb131-551" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_jb$Ativo &lt;- factor(tabela_jb$Ativo,</span></span>
<span id="cb131-552"><a href="#cb131-552" aria-hidden="true" tabindex="-1"></a><span class="in">                                 levels = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"))</span></span>
<span id="cb131-553"><a href="#cb131-553" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-554"><a href="#cb131-554" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-555"><a href="#cb131-555" aria-hidden="true" tabindex="-1"></a><span class="in"># Exibe a tabela </span></span>
<span id="cb131-556"><a href="#cb131-556" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(tabela_jb, digits = 4, caption = "Teste de Normalidade (Jarque-Bera)")%&gt;%</span></span>
<span id="cb131-557"><a href="#cb131-557" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb131-558"><a href="#cb131-558" aria-hidden="true" tabindex="-1"></a><span class="in">                full_width = FALSE)</span></span>
<span id="cb131-559"><a href="#cb131-559" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-560"><a href="#cb131-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-561"><a href="#cb131-561" aria-hidden="true" tabindex="-1"></a><span class="fu"># Medida de volatilidade anualizada :</span></span>
<span id="cb131-562"><a href="#cb131-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-563"><a href="#cb131-563" aria-hidden="true" tabindex="-1"></a><span class="fu">### Volatilidade:</span></span>
<span id="cb131-564"><a href="#cb131-564" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-565"><a href="#cb131-565" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-566"><a href="#cb131-566" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Por definição, a volatilidade representa a incerteza inerente aos retornos de um investimento. Quanto maior for a volatilidade de um ativo, maiores serão suas oscilações de preço, refletindo um maior grau de imprevisibilidade.</span>
<span id="cb131-567"><a href="#cb131-567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-568"><a href="#cb131-568" aria-hidden="true" tabindex="-1"></a>    A obra "O Desafio dos Deuses" explora como, apesar de a relação entre seres humanos e risco ser ancestral e profundamente enraizada, nossas reações comportamentais diante da incerteza continuam complexas e multifacetadas. Neste contexto, a volatilidade surge como uma ferramenta fundamental para quantificar esse risco, permitindo aos investidores transformar a abstração da incerteza em métricas tangíveis.</span>
<span id="cb131-569"><a href="#cb131-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-570"><a href="#cb131-570" aria-hidden="true" tabindex="-1"></a>    Compreender a volatilidade capacita o investidor a tomar decisões mais alinhadas com sua tolerância ao risco individual. Por exemplo, um indivíduo naturalmente avesso ao risco, ao dominar este conceito, conscientemente evitará investimentos com alta volatilidade, reconhecendo que seu perfil psicológico e financeiro não suportaria as flutuações abruptas características destes ativos. Esta consciência previne escolhas inadequadas que potencialmente levariam a decisões emocionais precipitadas durante períodos de instabilidade do mercado.</span>
<span id="cb131-571"><a href="#cb131-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-572"><a href="#cb131-572" aria-hidden="true" tabindex="-1"></a>    Desta forma, a volatilidade transcende seu significado estatístico para tornar-se um ponte entre a psicologia do investidor e a alocação racional de capital, funcionando como um filtro crucial na seleção de investimentos compatíveis com a verdadeira tolerância ao risco de cada indivíduo.</span>
<span id="cb131-573"><a href="#cb131-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-574"><a href="#cb131-574" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O estudo do comportamento individual é estudada na teoria da escolha do consumidor, que analisa como indivíduos alocam recursos para maximizar sua utilidade diante de restrições orçamentárias. o autor Hal Varian, em seus estudos sobre escolha intertemporal, descreve como as decisões de consumo e poupança são influenciadas pela taxa de juros, que determina o custo de adiar ou antecipar o consumo. Nesse contexto, o indivíduo compara o consumo presente e futuro utilizando conceitos como valor presente, avaliando como diferentes taxas de juros alteram sua restrição orçamentária intertemporal. Além disso, quando há incerteza sobre retornos futuros, a função de utilidade sob risco e a análise probabilística, como a função de densidade acumulada, ajudam a explicar como diferentes perfis de investidores tomam decisões entre opções seguras (renda fixa) e arriscadas (ações), considerando retorno esperado e tolerância ao risco , logo podemos observar que a depender do apetiti para o risco do investidor havera uma utilidade que é maximizada de acordo com o o cenerio que melhor se encaixa com o apetite para o risco do investidor a densidade da probabilidade é útil nesse momento</span>
<span id="cb131-575"><a href="#cb131-575" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-576"><a href="#cb131-576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-577"><a href="#cb131-577" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-578"><a href="#cb131-578" aria-hidden="true" tabindex="-1"></a><span class="in">Drlwsa3 &lt;- sd(rlwsa3); Vollwsa3 &lt;- (Drlwsa3*100)*sqrt(252)</span></span>
<span id="cb131-579"><a href="#cb131-579" aria-hidden="true" tabindex="-1"></a><span class="in">Drelet6 &lt;- sd(relet6); Volelet6 &lt;- (Drelet6*100)*sqrt(252)</span></span>
<span id="cb131-580"><a href="#cb131-580" aria-hidden="true" tabindex="-1"></a><span class="in">Dritsa4 &lt;- sd(ritsa4); Volitsa4 &lt;- (Dritsa4*100)*sqrt(252)</span></span>
<span id="cb131-581"><a href="#cb131-581" aria-hidden="true" tabindex="-1"></a><span class="in">Drbbdc4 &lt;- sd(rrent3); Volrent3 &lt;- (Drrent3*100)*sqrt(252)</span></span>
<span id="cb131-582"><a href="#cb131-582" aria-hidden="true" tabindex="-1"></a><span class="in">Drmrfg3 &lt;- sd(rbrfs3); Volbrfs3 &lt;- (Drbrfs3*100)*sqrt(252)</span></span>
<span id="cb131-583"><a href="#cb131-583" aria-hidden="true" tabindex="-1"></a><span class="in">Dribov &lt;- sd(ribov); Volibov &lt;- (Dribov*100)*sqrt(252)</span></span>
<span id="cb131-584"><a href="#cb131-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-585"><a href="#cb131-585" aria-hidden="true" tabindex="-1"></a><span class="in"># Cria a tabela com os ativos, média e desvio padrão</span></span>
<span id="cb131-586"><a href="#cb131-586" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_vol &lt;- tibble::tibble(</span></span>
<span id="cb131-587"><a href="#cb131-587" aria-hidden="true" tabindex="-1"></a><span class="in">  Ativo = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"),</span></span>
<span id="cb131-588"><a href="#cb131-588" aria-hidden="true" tabindex="-1"></a><span class="in">  Volatilidade = c(Vollwsa3, Volelet6, Volitsa4, Volrent3, Volbrfs3, Volibov),)</span></span>
<span id="cb131-589"><a href="#cb131-589" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-590"><a href="#cb131-590" aria-hidden="true" tabindex="-1"></a><span class="in"># Reordena os ativos deixando IBOV por último</span></span>
<span id="cb131-591"><a href="#cb131-591" aria-hidden="true" tabindex="-1"></a><span class="in">tabela_vol$Ativo &lt;- factor(tabela_vol$Ativo,</span></span>
<span id="cb131-592"><a href="#cb131-592" aria-hidden="true" tabindex="-1"></a><span class="in">                                 levels = c("LWSA3", "ELET6", "ITSA4", "RENT3", "BRFS3", "IBOV"))</span></span>
<span id="cb131-593"><a href="#cb131-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-594"><a href="#cb131-594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-595"><a href="#cb131-595" aria-hidden="true" tabindex="-1"></a><span class="in"># Exibe a tabela </span></span>
<span id="cb131-596"><a href="#cb131-596" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(tabela_vol, digits = 2, caption = "Coeficiente de Variação (Preço) dos Ativos")%&gt;%</span></span>
<span id="cb131-597"><a href="#cb131-597" aria-hidden="true" tabindex="-1"></a><span class="in">  kable_styling(bootstrap_options = c("striped", "hover", "condensed", "responsive"),</span></span>
<span id="cb131-598"><a href="#cb131-598" aria-hidden="true" tabindex="-1"></a><span class="in">                full_width = FALSE)</span></span>
<span id="cb131-599"><a href="#cb131-599" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-600"><a href="#cb131-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-601"><a href="#cb131-601" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-602"><a href="#cb131-602" aria-hidden="true" tabindex="-1"></a>    Ao analisarmos a volatilidade dos ativos em comparação com o **Ibovespa** — principal índice de referência do mercado brasileiro, que apresentou volatilidade de **15,62%** — observamos que **todos os ativos da carteira registram níveis superiores ao benchmark**.</span>
<span id="cb131-603"><a href="#cb131-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-604"><a href="#cb131-604" aria-hidden="true" tabindex="-1"></a>    A **LocaWeb (LWSA3)** se destaca como a mais volátil, com **52,47%**, evidenciando risco mais de três vezes superior ao do mercado. Em seguida aparecem **BRF (BRFS3)** com **39,34%** e **Localiza (RENT3)** com **38,84%**, também muito acima do índice. Já **Eletrobras (ELET6)** e **Itaúsa (ITSA4)**, embora tenham registrado as menores volatilidades entre os ativos (**19,01%** e **19,52%**, respectivamente), ainda assim se situam acima da volatilidade do IBOV.</span>
<span id="cb131-605"><a href="#cb131-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-606"><a href="#cb131-606" aria-hidden="true" tabindex="-1"></a>    Esses resultados mostram que os investidores expostos a essa carteira assumem **níveis de risco significativamente maiores do que aqueles de uma carteira diversificada que replica o índice de mercado**. Isso exige **maior tolerância à volatilidade** e reforça a importância de alinhar as expectativas de retorno com o perfil de risco assumido.</span>
<span id="cb131-607"><a href="#cb131-607" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-608"><a href="#cb131-608" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-609"><a href="#cb131-609" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span></span>
<span id="cb131-610"><a href="#cb131-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-611"><a href="#cb131-611" aria-hidden="true" tabindex="-1"></a>    # Análise da distribuição normal</span>
<span id="cb131-612"><a href="#cb131-612" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-613"><a href="#cb131-613" aria-hidden="true" tabindex="-1"></a>    ## Gráficos de densidade para 1, 2 e 3 desvios padrões</span>
<span id="cb131-614"><a href="#cb131-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-615"><a href="#cb131-615" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-616"><a href="#cb131-616" aria-hidden="true" tabindex="-1"></a>O comportamento individual é analisado pela teoria da escolha do consumidor, que estuda como as pessoas alocam seus recursos para maximizar a utilidade, respeitando limitações orçamentárias. Hal Varian, em seus estudos sobre escolha intertemporal, mostra que as decisões de consumo e poupança são influenciadas pela taxa de juros, que representa o custo de antecipar ou postergar o consumo. Nesse contexto, o indivíduo compara o consumo presente e futuro usando conceitos como valor presente, avaliando como diferentes taxas de juros afetam sua restrição orçamentária ao longo do tempo.</span>
<span id="cb131-617"><a href="#cb131-617" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-618"><a href="#cb131-618" aria-hidden="true" tabindex="-1"></a>Quando os retornos futuros são incertos, a função de utilidade sob risco e ferramentas probabilísticas, como a função de densidade acumulada, ajudam a compreender como investidores com perfis distintos escolhem entre opções seguras, como renda fixa, e opções mais arriscadas, como ações, considerando o retorno esperado e sua tolerância ao risco.</span>
<span id="cb131-619"><a href="#cb131-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-620"><a href="#cb131-620" aria-hidden="true" tabindex="-1"></a>A análise estatística dos retornos financeiros pode ser ilustrada usando desvios-padrão (DP) para entender a dispersão dos retornos:</span>
<span id="cb131-621"><a href="#cb131-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-622"><a href="#cb131-622" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O intervalo de 1 DP cobre cerca de 68% dos retornos esperados.</span>
<span id="cb131-623"><a href="#cb131-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-624"><a href="#cb131-624" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O intervalo de 2 DPs abrange aproximadamente 95% dos retornos.</span>
<span id="cb131-625"><a href="#cb131-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-626"><a href="#cb131-626" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O intervalo de 3 DPs inclui quase 99,7% dos retornos possíveis (regra empírica da normal).</span>
<span id="cb131-627"><a href="#cb131-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-628"><a href="#cb131-628" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O intervalo de 2,5 DPs serve como comparação adicional.</span>
<span id="cb131-629"><a href="#cb131-629" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-630"><a href="#cb131-630" aria-hidden="true" tabindex="-1"></a>    Ao aplicar essa análise aos ativos LWSA3, ELET6, ITSA4, RENT3 e BRFS3, bem como ao Ibovespa, é possível visualizar graficamente:</span>
<span id="cb131-631"><a href="#cb131-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-632"><a href="#cb131-632" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Qual ativo apresenta maior dispersão (volatilidade) em torno da média.</span>
<span id="cb131-633"><a href="#cb131-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-634"><a href="#cb131-634" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Se os retornos estão concentrados próximos da média ou mais espalhados.</span>
<span id="cb131-635"><a href="#cb131-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-636"><a href="#cb131-636" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Como o Ibovespa, por ser um índice diversificado, tende a ter menor dispersão em comparação com ativos individuais.</span>
<span id="cb131-637"><a href="#cb131-637" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-638"><a href="#cb131-638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-639"><a href="#cb131-639" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusão:</span></span>
<span id="cb131-640"><a href="#cb131-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-641"><a href="#cb131-641" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-642"><a href="#cb131-642" aria-hidden="true" tabindex="-1"></a>A análise dos ativos no período considerado evidencia um comportamento relativamente consistente, com retornos estáveis e perfil de risco que pode ser interessante para investidores com perfil averso ao risco. A avaliação da volatilidade anualizada permitiu organizar os ativos do menos arriscado ao mais arriscado, resultando no seguinte ranking:</span>
<span id="cb131-643"><a href="#cb131-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-644"><a href="#cb131-644" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**ELET6**</span>
<span id="cb131-645"><a href="#cb131-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-646"><a href="#cb131-646" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>ITSA4</span>
<span id="cb131-647"><a href="#cb131-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-648"><a href="#cb131-648" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>RENT3</span>
<span id="cb131-649"><a href="#cb131-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-650"><a href="#cb131-650" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>BRFS3</span>
<span id="cb131-651"><a href="#cb131-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-652"><a href="#cb131-652" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>LWSA3</span>
<span id="cb131-653"><a href="#cb131-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-654"><a href="#cb131-654" aria-hidden="true" tabindex="-1"></a>O destaque vai para a **ELET6**, que apresentou a menor volatilidade entre os ativos analisados, demonstrando maior previsibilidade e menor exposição a oscilações bruscas de mercado. É importante observar, no entanto, que a média dos retornos logarítmicos da ELET6 foi negativa (-0,0188%), indicando que, embora seja o ativo mais seguro, ele não proporcionou retorno positivo no período considerado.</span>
<span id="cb131-655"><a href="#cb131-655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-656"><a href="#cb131-656" aria-hidden="true" tabindex="-1"></a>A análise das estatísticas básicas, considerando média dos preços, desvio padrão e coeficiente de variação, reforça a consistência dos resultados ao longo do período. A média dos retornos logarítmicos indica que, apesar da variabilidade, os ativos com maior potencial de retorno ajustado ao risco, como ITSA4 e RENT3, podem ser mais interessantes para investidores que buscam equilíbrio entre segurança e rentabilidade.</span>
<span id="cb131-657"><a href="#cb131-657" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-658"><a href="#cb131-658" aria-hidden="true" tabindex="-1"></a>Para referência, o **Ibovespa (IBOV)** é utilizado como benchmark, por ser um índice diversificado que reflete o desempenho do mercado de ações brasileiro. Segundo Bovespa (2025), o IBOV fornece uma medida de risco relativa menor devido à diversificação, servindo como parâmetro para comparação com ativos individuais.</span>
<span id="cb131-659"><a href="#cb131-659" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-660"><a href="#cb131-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-661"><a href="#cb131-661" aria-hidden="true" tabindex="-1"></a><span class="fu"># Modelo Markowitz</span></span>
<span id="cb131-662"><a href="#cb131-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-663"><a href="#cb131-663" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-664"><a href="#cb131-664" aria-hidden="true" tabindex="-1"></a><span class="fu">### Introdução:</span></span>
<span id="cb131-665"><a href="#cb131-665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-666"><a href="#cb131-666" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Até a década de 1950, os investidores avaliavam risco principalmente a partir de preços passados e informações contábeis, sem um método claro de quantificação. Foi apenas com o artigo de Harry Markowitz, em 1952, que se consolidou a ideia de medir o risco pela variância dos retornos e, sobretudo, de reduzi-lo por meio da diversificação. Como destaca Bernstein em *Desafio aos Deuses*, “os investidores diversificam seus investimentos porque isso constitui sua melhor arma contra a variância do retorno”Capit15</span>
<span id="cb131-667"><a href="#cb131-667" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-668"><a href="#cb131-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-669"><a href="#cb131-669" aria-hidden="true" tabindex="-1"></a><span class="fu">### Intervalo de Datas</span></span>
<span id="cb131-670"><a href="#cb131-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-673"><a href="#cb131-673" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-674"><a href="#cb131-674" aria-hidden="true" tabindex="-1"></a><span class="co"># Datas de início e fim</span></span>
<span id="cb131-675"><a href="#cb131-675" aria-hidden="true" tabindex="-1"></a>dataini <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-04-01"</span>)</span>
<span id="cb131-676"><a href="#cb131-676" aria-hidden="true" tabindex="-1"></a>datafim <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="st">"2025-06-29"</span>)</span>
<span id="cb131-677"><a href="#cb131-677" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-678"><a href="#cb131-678" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-679"><a href="#cb131-679" aria-hidden="true" tabindex="-1"></a><span class="fu">### Baixando os dados</span></span>
<span id="cb131-680"><a href="#cb131-680" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-681"><a href="#cb131-681" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-682"><a href="#cb131-682" aria-hidden="true" tabindex="-1"></a><span class="in"># Baixando os dados dos 5 ativos</span></span>
<span id="cb131-683"><a href="#cb131-683" aria-hidden="true" tabindex="-1"></a><span class="in">#install.packages("tseries")</span></span>
<span id="cb131-684"><a href="#cb131-684" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3  &lt;- get.hist.quote("lwsa3.sa",  quote = "Close", start = dataini, end = datafim);length(lwsa3)</span></span>
<span id="cb131-685"><a href="#cb131-685" aria-hidden="true" tabindex="-1"></a><span class="in">elet6 &lt;- get.hist.quote("elet6.sa",  quote = "Close", start = dataini, end = datafim);length(elet6)</span></span>
<span id="cb131-686"><a href="#cb131-686" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4  &lt;- get.hist.quote("itsa4.sa",  quote = "Close", start = dataini, end = datafim);length(itsa4)</span></span>
<span id="cb131-687"><a href="#cb131-687" aria-hidden="true" tabindex="-1"></a><span class="in">rent3  &lt;- get.hist.quote("rent3.sa",  quote = "Close", start = dataini, end = datafim);length(rent3)</span></span>
<span id="cb131-688"><a href="#cb131-688" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3  &lt;- get.hist.quote("brfs3.sa",  quote = "Close", start = dataini, end = datafim);length(brfs3)</span></span>
<span id="cb131-689"><a href="#cb131-689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-690"><a href="#cb131-690" aria-hidden="true" tabindex="-1"></a><span class="in"># Removendo valores ausentes</span></span>
<span id="cb131-691"><a href="#cb131-691" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3 &lt;- na.omit(lwsa3)</span></span>
<span id="cb131-692"><a href="#cb131-692" aria-hidden="true" tabindex="-1"></a><span class="in">elet6 &lt;- na.omit(elet6)</span></span>
<span id="cb131-693"><a href="#cb131-693" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4 &lt;- na.omit(itsa4)</span></span>
<span id="cb131-694"><a href="#cb131-694" aria-hidden="true" tabindex="-1"></a><span class="in">rent3 &lt;- na.omit(rent3)</span></span>
<span id="cb131-695"><a href="#cb131-695" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3 &lt;- na.omit(brfs3)</span></span>
<span id="cb131-696"><a href="#cb131-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-697"><a href="#cb131-697" aria-hidden="true" tabindex="-1"></a><span class="in"># Verificando quantidade de observações e visualizando os dados</span></span>
<span id="cb131-698"><a href="#cb131-698" aria-hidden="true" tabindex="-1"></a><span class="in">par(mfrow = c(2, 3))</span></span>
<span id="cb131-699"><a href="#cb131-699" aria-hidden="true" tabindex="-1"></a><span class="in">plot(lwsa3, main = "Ativo - LWSA3")</span></span>
<span id="cb131-700"><a href="#cb131-700" aria-hidden="true" tabindex="-1"></a><span class="in">plot(elet6, main = "Ativo - ELET6")</span></span>
<span id="cb131-701"><a href="#cb131-701" aria-hidden="true" tabindex="-1"></a><span class="in">plot(itsa4, main = "Ativo - ITSA4")</span></span>
<span id="cb131-702"><a href="#cb131-702" aria-hidden="true" tabindex="-1"></a><span class="in">plot(rent3, main = "Ativo - RET3")</span></span>
<span id="cb131-703"><a href="#cb131-703" aria-hidden="true" tabindex="-1"></a><span class="in">plot(brfs3, main = "Ativo - BRFS3")</span></span>
<span id="cb131-704"><a href="#cb131-704" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-705"><a href="#cb131-705" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-706"><a href="#cb131-706" aria-hidden="true" tabindex="-1"></a><span class="fu">### Explicação dos ativos</span></span>
<span id="cb131-707"><a href="#cb131-707" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-708"><a href="#cb131-708" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-709"><a href="#cb131-709" aria-hidden="true" tabindex="-1"></a>Ativo 1: Locaweb(lwsa3): A LocaWeb é uma das principais empresas brasileiras de serviços de hospedagem, cloud computing e SaaS, posicionando-se como uma player relevante no setor de tecnologia. Empresas de tecnologia são altamente sensíveis ao ciclo econômico, mas se beneficiam de tendências estruturais de longo prazo, como a digitalização de negócios. A companhia tem enfrentado um ambiente competitivo intenso, com margens pressionadas pela guerra de preços e pela necessidade constante de inovação, o que eleva seu risco operacional. Seu alto endividamento para financiar aquisições e investimentos também é um ponto de atenção.</span>
<span id="cb131-710"><a href="#cb131-710" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-711"><a href="#cb131-711" aria-hidden="true" tabindex="-1"></a>Ativo2: A Eletrobras(elet6) é uma das maiores empresas do setor elétrico da América Latina, atuando principalmente na geração e transmissão de energia. Trata-se de um setor essencial e perene, com receitas altamente previsíveis reguladas por contratos de longo prazo, o que confere maior estabilidade e menor risco ao ativo. Após sua privatização, a empresa busca ganhos de eficiência e redução de custos, potencialmente melhorando seus indicadores financeiros e a distribuição de dividendos.</span>
<span id="cb131-712"><a href="#cb131-712" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-713"><a href="#cb131-713" aria-hidden="true" tabindex="-1"></a>Ativo 3: Itaúsa(itsa4) : A Itaúsa é uma das maiores holdings de investimento do Brasil, com uma carteira diversificada e focada em setores perenes, como financeiro (Itaú Unibanco), industrial (Alpargatas, Dexco) e de saúde (Hospital Albert Einstein). Esta diversificação confere resiliência aos resultados, alinhando-se à filosofia de investidores conservadores que buscam exposição a ativos de qualidade com menor volatilidade.</span>
<span id="cb131-714"><a href="#cb131-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-715"><a href="#cb131-715" aria-hidden="true" tabindex="-1"></a>Ativo 4: Localiza(rent3): Localiza (RENT3) A Localiza é líder no setor de aluguel de veículos no Brasil, um segmento cíclico e sensível ao desempenho da economia, do crédito e do turismo. A empresa possui um modelo de negócio robusto, com vantagens de escala e uma gestão eficiente de sua frota, mas sofre pressão em cenários de juros altos, que elevam seu custo de capital. Seu endividamento é elevado, porém é considerado estrutural para financiar o crescimento da frota.</span>
<span id="cb131-716"><a href="#cb131-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-717"><a href="#cb131-717" aria-hidden="true" tabindex="-1"></a>Ativo 5:BRF(brfs3): A análise fornecida pelo usuário já é um modelo excelente. Segue uma versão reformulada para variar a redação, mantendo o conteúdo essencial: A BRF é uma gigante global do setor de proteínas, detentora de marcas icônicas como Sadia e Perdigão. O setor de alimentos é altamente competitivo e vulnerável a volatilidade nos custos de commodities (milho, soja) e a cenários macroeconômicos desfavoráveis, que impactam o poder de compra do consumidor.</span>
<span id="cb131-718"><a href="#cb131-718" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-719"><a href="#cb131-719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-720"><a href="#cb131-720" aria-hidden="true" tabindex="-1"></a><span class="fu">### Princípio Da Diversificação</span></span>
<span id="cb131-721"><a href="#cb131-721" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-722"><a href="#cb131-722" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-723"><a href="#cb131-723" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O princípio da diversificação parte da constatação de que os ativos não se movem de forma idêntica. Quando há correlações baixas ou negativas, as perdas de um ativo podem ser compensadas pelos ganhos de outro, diminuindo assim a volatilidade total da carteira. Essa lógica não elimina o risco sistemático, mas reduz de forma significativa o risco não sistemático, ajudando o investidor a encontrar a combinação de ativos mais eficiente em termos de risco e retorno. Assim, a diversificação representa um marco na evolução das finanças modernas: deixou de ser apenas uma intuição de “não colocar todos os ovos na mesma cesta” e passou a ser fundamentada em cálculo estatístico e otimização. Desde então, tornou-se, como lembra o próprio autor, uma “regra de comportamento sensata” que guia a gestão de investimentos até hoje.</span>
<span id="cb131-724"><a href="#cb131-724" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-725"><a href="#cb131-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-726"><a href="#cb131-726" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Correlação</span></span>
<span id="cb131-727"><a href="#cb131-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-728"><a href="#cb131-728" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-729"><a href="#cb131-729" aria-hidden="true" tabindex="-1"></a>A análise da correlação estatística entre os ativos é um dos pilares da diversificação e se conecta diretamente ao conceito de **fronteira eficiente** desenvolvido por Harry Markowitz (1952). Além das medidas tradicionais como a média, o desvio-padrão e o coeficiente de variação dos retornos, a correlação mostra como os ativos se relacionam entre si e com a carteira. Quando a correlação é **negativa**, existe uma relação inversa: enquanto um ativo tende a cair, outro tende a se valorizar ou permanecer estável, o que reduz a volatilidade total da carteira. Já correlações **positivas** indicam que os ativos se movem na mesma direção — ambos sobem ou caem juntos — e, quanto mais próximas de +1, mais forte é essa relação.</span>
<span id="cb131-730"><a href="#cb131-730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-731"><a href="#cb131-731" aria-hidden="true" tabindex="-1"></a>Markowitz demonstrou que, ao combinar ativos com correlação **baixa ou negativa**, é possível deslocar a fronteira eficiente para a esquerda, isto é, obter o **mesmo retorno esperado com menor risco** ou **maior retorno para o mesmo risco**. Dessa forma, a diversificação não é apenas uma intuição prática, mas um princípio formalizado pela teoria moderna de portfólios: ao reduzir o risco não sistemático por meio de correlações imperfeitas, o investidor consegue construir carteiras mais estáveis e eficientes em termos de risco-retorno.</span>
<span id="cb131-732"><a href="#cb131-732" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-733"><a href="#cb131-733" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Alta correlação positiva** entre LWSA3-ITSA4 (0.83) e LWSA3-RENT3 (0.86), indicando que esses pares tendem a se mover juntos, oferecendo menos benefícios de diversificação.</span>
<span id="cb131-734"><a href="#cb131-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-735"><a href="#cb131-735" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Correlações moderadas** entre a maioria dos outros pares, sugerindo oportunidades de diversificação.</span>
<span id="cb131-736"><a href="#cb131-736" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-737"><a href="#cb131-737" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>De acordo com a teoria de Markowitz, a diversificação eficiente requer:</span>
<span id="cb131-738"><a href="#cb131-738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-739"><a href="#cb131-739" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Baixas ou negativas correlações entre ativos</span>
<span id="cb131-740"><a href="#cb131-740" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-741"><a href="#cb131-741" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Consideração de retornos esperados e variâncias individuais</span>
<span id="cb131-742"><a href="#cb131-742" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-743"><a href="#cb131-743" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Cálculo de covariâncias para estimar o risco da carteira</span>
<span id="cb131-744"><a href="#cb131-744" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-745"><a href="#cb131-745" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-746"><a href="#cb131-746" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-747"><a href="#cb131-747" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-748"><a href="#cb131-748" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-749"><a href="#cb131-749" aria-hidden="true" tabindex="-1"></a><span class="in">Correl=cbind(lwsa3, elet6, itsa4, rent3, brfs3);Correl</span></span>
<span id="cb131-750"><a href="#cb131-750" aria-hidden="true" tabindex="-1"></a><span class="in">names(Correl)&lt;-c("lwsa3", "elet6", "itsa4", "rent3", "brfs3"); class(Correl)</span></span>
<span id="cb131-751"><a href="#cb131-751" aria-hidden="true" tabindex="-1"></a><span class="in">#Transformar a tabela em Data.frame para Aplicar a CORREL</span></span>
<span id="cb131-752"><a href="#cb131-752" aria-hidden="true" tabindex="-1"></a><span class="in">Correl=cbind.data.frame(lwsa3, elet6, itsa4, rent3, brfs3);     names(Correl) &lt;- c("lwsa3", "elet6", "itsa4", "rent3", "brfs3");Correl</span></span>
<span id="cb131-753"><a href="#cb131-753" aria-hidden="true" tabindex="-1"></a><span class="in">attach(Correl)</span></span>
<span id="cb131-754"><a href="#cb131-754" aria-hidden="true" tabindex="-1"></a><span class="in">class(Correl)</span></span>
<span id="cb131-755"><a href="#cb131-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-756"><a href="#cb131-756" aria-hidden="true" tabindex="-1"></a><span class="in">#Cáculo do Coeficiente de Correlação </span></span>
<span id="cb131-757"><a href="#cb131-757" aria-hidden="true" tabindex="-1"></a><span class="in"># Pearson: Variáveis Numéricas e Paramétricas)</span></span>
<span id="cb131-758"><a href="#cb131-758" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-759"><a href="#cb131-759" aria-hidden="true" tabindex="-1"></a><span class="in">Corr01=correlationTest(lwsa3, elet6, method=c("pearson"));Corr01</span></span>
<span id="cb131-760"><a href="#cb131-760" aria-hidden="true" tabindex="-1"></a><span class="in">par=mflow=c(1,1)</span></span>
<span id="cb131-761"><a href="#cb131-761" aria-hidden="true" tabindex="-1"></a><span class="in">plot(lwsa3, elet6 , main="Correlação Xi,Xj")</span></span>
<span id="cb131-762"><a href="#cb131-762" aria-hidden="true" tabindex="-1"></a><span class="in">abline(lm(lwsa3~elet6), col="red", lwd=3)</span></span>
<span id="cb131-763"><a href="#cb131-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-764"><a href="#cb131-764" aria-hidden="true" tabindex="-1"></a><span class="in">##</span></span>
<span id="cb131-765"><a href="#cb131-765" aria-hidden="true" tabindex="-1"></a><span class="in">Corr02=correlationTest(lwsa3, itsa4, method=c("pearson"));Corr02</span></span>
<span id="cb131-766"><a href="#cb131-766" aria-hidden="true" tabindex="-1"></a><span class="in">par=mflow=c(1,1)</span></span>
<span id="cb131-767"><a href="#cb131-767" aria-hidden="true" tabindex="-1"></a><span class="in">plot(lwsa3, itsa4 , main="Correlação Xi,Xj")</span></span>
<span id="cb131-768"><a href="#cb131-768" aria-hidden="true" tabindex="-1"></a><span class="in">abline(lm(lwsa3~itsa4), col="red", lwd=3)</span></span>
<span id="cb131-769"><a href="#cb131-769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-770"><a href="#cb131-770" aria-hidden="true" tabindex="-1"></a><span class="in">##</span></span>
<span id="cb131-771"><a href="#cb131-771" aria-hidden="true" tabindex="-1"></a><span class="in">Corr03=correlationTest(lwsa3, rent3, method=c("pearson"));Corr03</span></span>
<span id="cb131-772"><a href="#cb131-772" aria-hidden="true" tabindex="-1"></a><span class="in">par=mflow=c(1,1)</span></span>
<span id="cb131-773"><a href="#cb131-773" aria-hidden="true" tabindex="-1"></a><span class="in">plot(lwsa3, rent3 , main="Correlação Xi,Xj")</span></span>
<span id="cb131-774"><a href="#cb131-774" aria-hidden="true" tabindex="-1"></a><span class="in">abline(lm(lwsa3~rent3), col="red", lwd=3)</span></span>
<span id="cb131-775"><a href="#cb131-775" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-776"><a href="#cb131-776" aria-hidden="true" tabindex="-1"></a><span class="in">##</span></span>
<span id="cb131-777"><a href="#cb131-777" aria-hidden="true" tabindex="-1"></a><span class="in">Corr04=correlationTest(lwsa3, brfs3, method=c("pearson"));Corr04</span></span>
<span id="cb131-778"><a href="#cb131-778" aria-hidden="true" tabindex="-1"></a><span class="in">par=mflow=c(1,1)</span></span>
<span id="cb131-779"><a href="#cb131-779" aria-hidden="true" tabindex="-1"></a><span class="in">plot(lwsa3, brfs3 , main="Correlação Xi,Xj")</span></span>
<span id="cb131-780"><a href="#cb131-780" aria-hidden="true" tabindex="-1"></a><span class="in">abline(lm(lwsa3~brfs3), col="red", lwd=3)</span></span>
<span id="cb131-781"><a href="#cb131-781" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-782"><a href="#cb131-782" aria-hidden="true" tabindex="-1"></a><span class="in">#Matriz de correlação (5 Ativos)</span></span>
<span id="cb131-783"><a href="#cb131-783" aria-hidden="true" tabindex="-1"></a><span class="in">matriz_cor &lt;- cor(Correl, method = "pearson")</span></span>
<span id="cb131-784"><a href="#cb131-784" aria-hidden="true" tabindex="-1"></a><span class="in">print(matriz_cor)</span></span>
<span id="cb131-785"><a href="#cb131-785" aria-hidden="true" tabindex="-1"></a><span class="in">cor(Correl)</span></span>
<span id="cb131-786"><a href="#cb131-786" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-787"><a href="#cb131-787" aria-hidden="true" tabindex="-1"></a><span class="in">library(corrplot)</span></span>
<span id="cb131-788"><a href="#cb131-788" aria-hidden="true" tabindex="-1"></a><span class="in">corrplot(matriz_cor, method = "color", addCoef.col = "black")</span></span>
<span id="cb131-789"><a href="#cb131-789" aria-hidden="true" tabindex="-1"></a><span class="in">#install.packages("corrplot")</span></span>
<span id="cb131-790"><a href="#cb131-790" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-791"><a href="#cb131-791" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-792"><a href="#cb131-792" aria-hidden="true" tabindex="-1"></a><span class="fu">## Fronteira Eficiente:</span></span>
<span id="cb131-793"><a href="#cb131-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-794"><a href="#cb131-794" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-795"><a href="#cb131-795" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A análise da correlação estatística entre os ativos é um dos pilares da diversificação e se conecta diretamente ao conceito de **fronteira eficiente** desenvolvido por Harry Markowitz (1952). Além das medidas tradicionais como a média, o desvio-padrão e o coeficiente de variação dos retornos, a correlação mostra como os ativos se relacionam entre si e com a carteira. Quando a correlação é **negativa**, existe uma relação inversa: enquanto um ativo tende a cair, outro tende a se valorizar ou permanecer estável, o que reduz a volatilidade total da carteira. Já correlações **positivas** indicam que os ativos se movem na mesma direção — ambos sobem ou caem juntos — e, quanto mais próximas de +1, mais forte é essa relação. Markowitz demonstrou que, ao combinar ativos com correlação **baixa ou negativa**, é possível deslocar a fronteira eficiente para a esquerda, isto é, obter o **mesmo retorno esperado com menor risco** ou **maior retorno para o mesmo risco**. Dessa forma, a diversificação não é apenas uma intuição prática, mas um princípio formalizado pela teoria moderna de portfólios: ao reduzir o risco não sistemático por meio de correlações imperfeitas, o investidor consegue construir carteiras mais estáveis e eficientes em termos de risco-retorno.</span>
<span id="cb131-796"><a href="#cb131-796" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Correlação**: A maior parte das correlações entre ativos foi **positiva e moderada** (valores entre 0,15 e 0,48), o que indica que os ativos tendem a se mover na mesma direção, mas não de forma perfeita. O destaque fica para a correlação **negativa entre brfs3 e itsa4 (-0,044)**, que embora fraca, ainda contribui para o efeito de diversificação da carteira.</span>
<span id="cb131-797"><a href="#cb131-797" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-798"><a href="#cb131-798" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-799"><a href="#cb131-799" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-800"><a href="#cb131-800" aria-hidden="true" tabindex="-1"></a><span class="in"># Carregar pacotes necessários</span></span>
<span id="cb131-801"><a href="#cb131-801" aria-hidden="true" tabindex="-1"></a><span class="in">library(timeSeries)</span></span>
<span id="cb131-802"><a href="#cb131-802" aria-hidden="true" tabindex="-1"></a><span class="in">library(fPortfolio)</span></span>
<span id="cb131-803"><a href="#cb131-803" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-804"><a href="#cb131-804" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-805"><a href="#cb131-805" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-806"><a href="#cb131-806" aria-hidden="true" tabindex="-1"></a><span class="in"># 1. Definição dos ativos</span></span>
<span id="cb131-807"><a href="#cb131-807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-808"><a href="#cb131-808" aria-hidden="true" tabindex="-1"></a><span class="in">ativos &lt;- c("lwsa3", "elet6", "itsa4", "rent3", "brfs3")</span></span>
<span id="cb131-809"><a href="#cb131-809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-810"><a href="#cb131-810" aria-hidden="true" tabindex="-1"></a><span class="in"># 2. Construção da base</span></span>
<span id="cb131-811"><a href="#cb131-811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-812"><a href="#cb131-812" aria-hidden="true" tabindex="-1"></a><span class="in">Basico &lt;- data.frame(na.omit(merge(lwsa3,elet6,itsa4,rent3,brfs3)))</span></span>
<span id="cb131-813"><a href="#cb131-813" aria-hidden="true" tabindex="-1"></a><span class="in">names(Basico) &lt;- ativos</span></span>
<span id="cb131-814"><a href="#cb131-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-815"><a href="#cb131-815" aria-hidden="true" tabindex="-1"></a><span class="in"># Salvar base em .txt</span></span>
<span id="cb131-816"><a href="#cb131-816" aria-hidden="true" tabindex="-1"></a><span class="in">write.table(Basico, file = "Basico.txt")</span></span>
<span id="cb131-817"><a href="#cb131-817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-818"><a href="#cb131-818" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-819"><a href="#cb131-819" aria-hidden="true" tabindex="-1"></a><span class="in"># 3. Leitura e transformação</span></span>
<span id="cb131-820"><a href="#cb131-820" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-821"><a href="#cb131-821" aria-hidden="true" tabindex="-1"></a><span class="in">dados &lt;- read.table("Basico.txt", header = TRUE)</span></span>
<span id="cb131-822"><a href="#cb131-822" aria-hidden="true" tabindex="-1"></a><span class="in">dados &lt;- timeSeries(dados)</span></span>
<span id="cb131-823"><a href="#cb131-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-824"><a href="#cb131-824" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-825"><a href="#cb131-825" aria-hidden="true" tabindex="-1"></a><span class="in"># 4. Cálculo dos retornos</span></span>
<span id="cb131-826"><a href="#cb131-826" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-827"><a href="#cb131-827" aria-hidden="true" tabindex="-1"></a><span class="in">Retornos &lt;- returns(dados)</span></span>
<span id="cb131-828"><a href="#cb131-828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-829"><a href="#cb131-829" aria-hidden="true" tabindex="-1"></a><span class="in"># Visualizar correlação entre os ativos</span></span>
<span id="cb131-830"><a href="#cb131-830" aria-hidden="true" tabindex="-1"></a><span class="in">cor(Retornos, use = "complete.obs")</span></span>
<span id="cb131-831"><a href="#cb131-831" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-832"><a href="#cb131-832" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-833"><a href="#cb131-833" aria-hidden="true" tabindex="-1"></a><span class="in"># 5. Fronteira eficiente</span></span>
<span id="cb131-834"><a href="#cb131-834" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-835"><a href="#cb131-835" aria-hidden="true" tabindex="-1"></a><span class="in">fronteira &lt;- portfolioFrontier(Retornos)</span></span>
<span id="cb131-836"><a href="#cb131-836" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-837"><a href="#cb131-837" aria-hidden="true" tabindex="-1"></a><span class="in"># Plotar fronteira eficiente</span></span>
<span id="cb131-838"><a href="#cb131-838" aria-hidden="true" tabindex="-1"></a><span class="in">frontierPlot(fronteira, auto = FALSE)</span></span>
<span id="cb131-839"><a href="#cb131-839" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-840"><a href="#cb131-840" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-841"><a href="#cb131-841" aria-hidden="true" tabindex="-1"></a><span class="in"># 6. Inclusão de pontos de interesse</span></span>
<span id="cb131-842"><a href="#cb131-842" aria-hidden="true" tabindex="-1"></a><span class="in"># ----------------------------</span></span>
<span id="cb131-843"><a href="#cb131-843" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0365, -0.0027, pch = 19, cex = 1.5, col = "green")</span></span>
<span id="cb131-844"><a href="#cb131-844" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0203, -0.0002, pch = 19, cex = 1.5, col = "green")</span></span>
<span id="cb131-845"><a href="#cb131-845" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0144,  0.0049, pch = 19, cex = 1.5, col = "green")</span></span>
<span id="cb131-846"><a href="#cb131-846" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0237,  0.0074, pch = 19, cex = 1.5, col = "red")</span></span>
<span id="cb131-847"><a href="#cb131-847" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-848"><a href="#cb131-848" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-849"><a href="#cb131-849" aria-hidden="true" tabindex="-1"></a><span class="fu">### Princípio Da Otimização:</span></span>
<span id="cb131-850"><a href="#cb131-850" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-851"><a href="#cb131-851" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-852"><a href="#cb131-852" aria-hidden="true" tabindex="-1"></a>O princípio da otimização de carteiras segundo Markowitz baseia-se na ideia de que os investidores buscam maximizar o retorno esperado de seus investimentos, ao mesmo tempo em que minimizam o risco associado. A tarefa de otimizar uma carteira pode ser descrita de duas formas complementares:</span>
<span id="cb131-853"><a href="#cb131-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-854"><a href="#cb131-854" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**Maximização do retorno esperado**, sujeita a um nível específico de risco definido pelo investidor;</span>
<span id="cb131-855"><a href="#cb131-855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-856"><a href="#cb131-856" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**Minimização do risco (variância)**, sujeita a um nível de retorno desejado.</span>
<span id="cb131-857"><a href="#cb131-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-858"><a href="#cb131-858" aria-hidden="true" tabindex="-1"></a>em que:</span>
<span id="cb131-859"><a href="#cb131-859" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-860"><a href="#cb131-860" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>a variância da carteira, representando o risco total;</span>
<span id="cb131-861"><a href="#cb131-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-862"><a href="#cb131-862" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>o retorno esperado da carteira;</span>
<span id="cb131-863"><a href="#cb131-863" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-864"><a href="#cb131-864" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>os resultados são, respectivamente, os níveis de risco e retorno que o investidor deseja atingir.</span>
<span id="cb131-865"><a href="#cb131-865" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-866"><a href="#cb131-866" aria-hidden="true" tabindex="-1"></a>As carteiras resultantes desse processo são conhecidas como **carteiras de Markowitz**, sendo consideradas eficientes por maximizarem o retorno esperado para um dado nível de risco. O conjunto de todas as carteiras eficientes forma a **Fronteira Eficiente**, que representa o trade-off ideal entre risco e retorno para diferentes combinações de ativos.</span>
<span id="cb131-867"><a href="#cb131-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-868"><a href="#cb131-868" aria-hidden="true" tabindex="-1"></a>Em termos gráficos, essas carteiras são ilustradas no plano Retorno Esperado vs. Desvio-Padrão, permitindo ao investidor visualizar a relação entre risco e retorno de forma clara, como descrito por Copeland (Capítulo 5) e detalhado por Damodaran em sua abordagem prática de análise de portfólio.</span>
<span id="cb131-869"><a href="#cb131-869" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-870"><a href="#cb131-870" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-871"><a href="#cb131-871" aria-hidden="true" tabindex="-1"></a><span class="fu">## Carteira de Markowitz: Análise de Risco e Retorno com Diversificação</span></span>
<span id="cb131-872"><a href="#cb131-872" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-873"><a href="#cb131-873" aria-hidden="true" tabindex="-1"></a><span class="al">![](Captura%20de%20tela%202025-09-14%20124127.png)</span></span>
<span id="cb131-874"><a href="#cb131-874" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-875"><a href="#cb131-875" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-876"><a href="#cb131-876" aria-hidden="true" tabindex="-1"></a>A análise da carteira mostra a aplicação prática da teoria de Markowitz: com pesos iguais entre os ativos, o portfólio apresentou retorno esperado de **0,22** e desvio-padrão de **1,38**, ambos superiores em eficiência quando comparados aos ativos isolados. Embora alguns ativos apresentem retornos negativos, a diversificação permitiu reduzir a volatilidade global e alcançar retorno positivo, comprovando o efeito da correlação imperfeita. Assim, a carteira aproxima-se da **fronteira eficiente**, ponto no qual o investidor racional consegue maximizar o retorno sujeito ao risco ou minimizar o risco para um retorno desejado. Na prática, isso significa avaliar como cada novo ativo impacta a variância da carteira e buscar o ponto ótimo de tangência, onde se obtém o equilíbrio entre risco e rentabilidade.</span>
<span id="cb131-877"><a href="#cb131-877" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-878"><a href="#cb131-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-879"><a href="#cb131-879" aria-hidden="true" tabindex="-1"></a><span class="fu">## Organizando os retornos em um dataframe:</span></span>
<span id="cb131-880"><a href="#cb131-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-881"><a href="#cb131-881" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-882"><a href="#cb131-882" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-883"><a href="#cb131-883" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-884"><a href="#cb131-884" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-885"><a href="#cb131-885" aria-hidden="true" tabindex="-1"></a><span class="in">Basico&lt;-data.frame(na.omit(merge(lwsa3, elet6, itsa4, rent3, brfs3)));Basico</span></span>
<span id="cb131-886"><a href="#cb131-886" aria-hidden="true" tabindex="-1"></a><span class="in">names(Basico)&lt;-c("lwsa3", "elet6", "itsa4", "rent3", "brfs3");Basico;length(brfs3)</span></span>
<span id="cb131-887"><a href="#cb131-887" aria-hidden="true" tabindex="-1"></a><span class="in">write.table(Basico,file="Basico.txt")</span></span>
<span id="cb131-888"><a href="#cb131-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-889"><a href="#cb131-889" aria-hidden="true" tabindex="-1"></a><span class="in">dados&lt;-read.table("Basico.txt", head=T);dados</span></span>
<span id="cb131-890"><a href="#cb131-890" aria-hidden="true" tabindex="-1"></a><span class="in">dados &lt;- timeSeries(dados)</span></span>
<span id="cb131-891"><a href="#cb131-891" aria-hidden="true" tabindex="-1"></a><span class="in">dados</span></span>
<span id="cb131-892"><a href="#cb131-892" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-893"><a href="#cb131-893" aria-hidden="true" tabindex="-1"></a><span class="in">Retornos&lt;-returns(dados);Retornos</span></span>
<span id="cb131-894"><a href="#cb131-894" aria-hidden="true" tabindex="-1"></a><span class="in">View(data.frame(Retornos))</span></span>
<span id="cb131-895"><a href="#cb131-895" aria-hidden="true" tabindex="-1"></a><span class="in">require(fPortfolio)</span></span>
<span id="cb131-896"><a href="#cb131-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-897"><a href="#cb131-897" aria-hidden="true" tabindex="-1"></a><span class="in">fronteira&lt;-portfolioFrontier(Retornos);fronteira</span></span>
<span id="cb131-898"><a href="#cb131-898" aria-hidden="true" tabindex="-1"></a><span class="in">frontierPlot(fronteira, auto=F)</span></span>
<span id="cb131-899"><a href="#cb131-899" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0365,-0.0027,pch=19, cex=1.5, col="green")</span></span>
<span id="cb131-900"><a href="#cb131-900" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0203,-0.0002,pch=19, cex=1.5, col="green")</span></span>
<span id="cb131-901"><a href="#cb131-901" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0144,0.0049 ,pch=19, cex=1.5, col="green")</span></span>
<span id="cb131-902"><a href="#cb131-902" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.0237,0.0074,pch=19, cex=1.5,col="red")</span></span>
<span id="cb131-903"><a href="#cb131-903" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-904"><a href="#cb131-904" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-905"><a href="#cb131-905" aria-hidden="true" tabindex="-1"></a><span class="fu">### Carteira com Mínima Variância</span></span>
<span id="cb131-906"><a href="#cb131-906" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-907"><a href="#cb131-907" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-908"><a href="#cb131-908" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O **retorno esperado médio da carteira** é de aproximadamente **0,685% ao período analisado**, com um **risco medido pelo desvio padrão (Sigma) de 3,31%**. A carteira apresenta também indicadores de risco mais extremos, como **VaR de 5,46%** e **CVaR de 5,55%**, indicando que, em cenários adversos, as perdas podem ser relevantes.</span>
<span id="cb131-909"><a href="#cb131-909" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-910"><a href="#cb131-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-911"><a href="#cb131-911" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-912"><a href="#cb131-912" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-913"><a href="#cb131-913" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-914"><a href="#cb131-914" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-915"><a href="#cb131-915" aria-hidden="true" tabindex="-1"></a><span class="in">MinimaVariancia&lt;-minvariancePortfolio(Retornos)</span></span>
<span id="cb131-916"><a href="#cb131-916" aria-hidden="true" tabindex="-1"></a><span class="in">PesosMinimos&lt;-getWeights(MinimaVariancia)</span></span>
<span id="cb131-917"><a href="#cb131-917" aria-hidden="true" tabindex="-1"></a><span class="in">PesosMinimos</span></span>
<span id="cb131-918"><a href="#cb131-918" aria-hidden="true" tabindex="-1"></a><span class="in">RetornoCalculado&lt;-getTargetReturn(MinimaVariancia) </span></span>
<span id="cb131-919"><a href="#cb131-919" aria-hidden="true" tabindex="-1"></a><span class="in">RetornoCalculado</span></span>
<span id="cb131-920"><a href="#cb131-920" aria-hidden="true" tabindex="-1"></a><span class="in">RiscoMinimo&lt;-getTargetRisk(MinimaVariancia)</span></span>
<span id="cb131-921"><a href="#cb131-921" aria-hidden="true" tabindex="-1"></a><span class="in">RiscoMinimo</span></span>
<span id="cb131-922"><a href="#cb131-922" aria-hidden="true" tabindex="-1"></a><span class="in">plot.new()</span></span>
<span id="cb131-923"><a href="#cb131-923" aria-hidden="true" tabindex="-1"></a><span class="in">points(0.01183586 ,0.002906674,pch=19, cex=1.5, col="red")</span></span>
<span id="cb131-924"><a href="#cb131-924" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-925"><a href="#cb131-925" aria-hidden="true" tabindex="-1"></a><span class="in">GraficoPizza&lt;-weightsPie(MinimaVariancia, main = "gráfico - da carteira sem restrições de retorno")</span></span>
<span id="cb131-926"><a href="#cb131-926" aria-hidden="true" tabindex="-1"></a><span class="in">GraficoPizza</span></span>
<span id="cb131-927"><a href="#cb131-927" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-928"><a href="#cb131-928" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-929"><a href="#cb131-929" aria-hidden="true" tabindex="-1"></a><span class="fu">### Carteira ótima:</span></span>
<span id="cb131-930"><a href="#cb131-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-931"><a href="#cb131-931" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-932"><a href="#cb131-932" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A otimização de carteiras realizada exemplifica perfeitamente os dois princípios fundamentais da teoria moderna de portfólio. A carteira customizada construída com retorno-alvo de 0,5% demonstra na prática a aplicação do conceito de&nbsp;**maximização de retorno para um nível de risco específico**.</span>
<span id="cb131-933"><a href="#cb131-933" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-934"><a href="#cb131-934" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Composição Concentrada**: A carteira otimizada concentra-se em apenas três ativos (LWSA3: 60,46%, ITSA4: 35,77%, RENT3: 3,76%), excluindo completamente ELET6 e BRFS3. Esta seleção rigorosa reflete o processo matemático de identificar quais ativos contribuem positivamente para a relação risco-retorno desejada.</span>
<span id="cb131-935"><a href="#cb131-935" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-936"><a href="#cb131-936" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Risco-Retorno Balanceado**: Com volatilidade de 2,22% para um retorno esperado de 0,5%, a carteira situa-se em um ponto eficiente da fronteira, onde qualquer tentativa de aumentar o retorno implicaria em aumento desproporcional do risco, e vice-versa.</span>
<span id="cb131-937"><a href="#cb131-937" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-938"><a href="#cb131-938" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-939"><a href="#cb131-939" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-940"><a href="#cb131-940" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-941"><a href="#cb131-941" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-942"><a href="#cb131-942" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-943"><a href="#cb131-943" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustom&lt;-portfolioSpec(portfolio=list(</span></span>
<span id="cb131-944"><a href="#cb131-944" aria-hidden="true" tabindex="-1"></a><span class="in">    weights=NULL,targetReturn=0.005, </span></span>
<span id="cb131-945"><a href="#cb131-945" aria-hidden="true" tabindex="-1"></a><span class="in">    targetRisk=NULL, riskFreeRate=0.0553131,nFrontierPoints=50, main = "gráfico - da carteira ótima"))</span></span>
<span id="cb131-946"><a href="#cb131-946" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustom</span></span>
<span id="cb131-947"><a href="#cb131-947" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-948"><a href="#cb131-948" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustomizada&lt;-efficientPortfolio(Retornos, spec=CarteiraCustom)</span></span>
<span id="cb131-949"><a href="#cb131-949" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustomizada</span></span>
<span id="cb131-950"><a href="#cb131-950" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-951"><a href="#cb131-951" aria-hidden="true" tabindex="-1"></a><span class="in">  getWeights(CarteiraCustomizada)</span></span>
<span id="cb131-952"><a href="#cb131-952" aria-hidden="true" tabindex="-1"></a><span class="in">  getTargetReturn(CarteiraCustomizada)</span></span>
<span id="cb131-953"><a href="#cb131-953" aria-hidden="true" tabindex="-1"></a><span class="in">  getTargetRisk(CarteiraCustomizada)</span></span>
<span id="cb131-954"><a href="#cb131-954" aria-hidden="true" tabindex="-1"></a><span class="in">  frontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-955"><a href="#cb131-955" aria-hidden="true" tabindex="-1"></a><span class="in">  points(frontierPoints(CarteiraCustomizada)[,1], frontierPoints(CarteiraCustomizada)[,2], col="blue", pch=17, cex=1.5)</span></span>
<span id="cb131-956"><a href="#cb131-956" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-957"><a href="#cb131-957" aria-hidden="true" tabindex="-1"></a><span class="in">  singleAssetPoints(fronteira, col="pink", pch=19)</span></span>
<span id="cb131-958"><a href="#cb131-958" aria-hidden="true" tabindex="-1"></a><span class="in">  tangencyLines(fronteira, col="green", pch=19)</span></span>
<span id="cb131-959"><a href="#cb131-959" aria-hidden="true" tabindex="-1"></a><span class="in">  sharpeRatioLines(fronteira, col="red")</span></span>
<span id="cb131-960"><a href="#cb131-960" aria-hidden="true" tabindex="-1"></a><span class="in">  tailoredFrontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-961"><a href="#cb131-961" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-962"><a href="#cb131-962" aria-hidden="true" tabindex="-1"></a><span class="in">  GraficoPizzaCustom&lt;-weightsPie(CarteiraCustomizada);GraficoPizzaCustom</span></span>
<span id="cb131-963"><a href="#cb131-963" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-964"><a href="#cb131-964" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-965"><a href="#cb131-965" aria-hidden="true" tabindex="-1"></a><span class="fu">### Carteira de retorno cartelado</span></span>
<span id="cb131-966"><a href="#cb131-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-967"><a href="#cb131-967" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-968"><a href="#cb131-968" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A carteira otimizada com retorno-alvo de 0,6% exemplifica os princípios fundamentais da teoria de otimização de portfólio. Esta composição extremamente concentrada - com&nbsp;**81,93% em LWSA3**&nbsp;e&nbsp;**18,07% em ITSA4**, excluindo completamente os demais ativos - revela importantes insights sobre a eficiência fronteira neste nível específico de retorno.</span>
<span id="cb131-969"><a href="#cb131-969" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-970"><a href="#cb131-970" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Maximização de Retorno com Restrição de Risco**: Para atingir o retorno desejado de 0,6%, o algoritmo de otimização identificou que apenas dois ativos oferecem a combinação ideal de retorno esperado e contribuição marginal ao risco da carteira. A exclusão de ELET6, RENT3 e BRFS3 indica que estes ativos, individualmente ou em combinação, não conseguiam oferecer a eficiência risco-retorno necessária para este objetivo específico.</span>
<span id="cb131-971"><a href="#cb131-971" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-972"><a href="#cb131-972" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Minimização da Variância para Retorno-Alvo**: A concentração em apenas dois ativos demonstra que, matematicamente, esta é a combinação que minimiza a variância total da carteira (2,79%) para o retorno exigido de 0,6%. A contribuição desproporcional de LWSA3 para o risco total (96,65%) versus ITSA4 (3,35%) sugere que o primeiro é significativamente mais volátil, mas oferece retornos esperados suficientes para justificar seu peso dominante na carteira.</span>
<span id="cb131-973"><a href="#cb131-973" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-974"><a href="#cb131-974" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-975"><a href="#cb131-975" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-976"><a href="#cb131-976" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-977"><a href="#cb131-977" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-978"><a href="#cb131-978" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-979"><a href="#cb131-979" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustom&lt;-portfolioSpec(portfolio=list(</span></span>
<span id="cb131-980"><a href="#cb131-980" aria-hidden="true" tabindex="-1"></a><span class="in">        weights=NULL,targetReturn=0.006, </span></span>
<span id="cb131-981"><a href="#cb131-981" aria-hidden="true" tabindex="-1"></a><span class="in">        targetRisk=NULL, riskFreeRate=0.0,nFrontierPoints=50))</span></span>
<span id="cb131-982"><a href="#cb131-982" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustom</span></span>
<span id="cb131-983"><a href="#cb131-983" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-984"><a href="#cb131-984" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-985"><a href="#cb131-985" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustomizada&lt;-efficientPortfolio(Retornos, spec=CarteiraCustom)</span></span>
<span id="cb131-986"><a href="#cb131-986" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustomizada</span></span>
<span id="cb131-987"><a href="#cb131-987" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-988"><a href="#cb131-988" aria-hidden="true" tabindex="-1"></a><span class="in">getWeights(CarteiraCustomizada)</span></span>
<span id="cb131-989"><a href="#cb131-989" aria-hidden="true" tabindex="-1"></a><span class="in">getTargetReturn(CarteiraCustomizada)</span></span>
<span id="cb131-990"><a href="#cb131-990" aria-hidden="true" tabindex="-1"></a><span class="in">getTargetRisk(CarteiraCustomizada)</span></span>
<span id="cb131-991"><a href="#cb131-991" aria-hidden="true" tabindex="-1"></a><span class="in">frontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-992"><a href="#cb131-992" aria-hidden="true" tabindex="-1"></a><span class="in">points(frontierPoints(CarteiraCustomizada)[,1], frontierPoints(CarteiraCustomizada)[,2], col="blue", pch=17, cex=1.5)</span></span>
<span id="cb131-993"><a href="#cb131-993" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-994"><a href="#cb131-994" aria-hidden="true" tabindex="-1"></a><span class="in">singleAssetPoints(fronteira, col="pink", pch=19)</span></span>
<span id="cb131-995"><a href="#cb131-995" aria-hidden="true" tabindex="-1"></a><span class="in">tangencyLines(fronteira, col="green", pch=19)</span></span>
<span id="cb131-996"><a href="#cb131-996" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-997"><a href="#cb131-997" aria-hidden="true" tabindex="-1"></a><span class="in">GraficoPizzaCustom&lt;-weightsPie(CarteiraCustomizada);GraficoPizzaCustom</span></span>
<span id="cb131-998"><a href="#cb131-998" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-999"><a href="#cb131-999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1000"><a href="#cb131-1000" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Carteira com ativo livre de risco</span></span>
<span id="cb131-1001"><a href="#cb131-1001" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1002"><a href="#cb131-1002" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1003"><a href="#cb131-1003" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A carteira otimizada com retorno-alvo de 0,1% exemplifica perfeitamente o princípio de&nbsp;**minimização da variância sujeita a um nível de retorno desejado**. Esta composição demonstra como a otimização matemática identifica combinações eficientes mesmo para retornos relativamente baixos.</span>
<span id="cb131-1004"><a href="#cb131-1004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1005"><a href="#cb131-1005" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Minimização da Variância com Restrição de Retorno**: Para o retorno modesto de 0,1%, o algoritmo identificou uma carteira diversificada com volatilidade de apenas 0,95% - significativamente inferior ao Ibovespa. A exclusão completa do LWSA3 sugere que este ativo, provavelmente mais volátil, não se justificaria para um retorno tão conservador.</span>
<span id="cb131-1006"><a href="#cb131-1006" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1007"><a href="#cb131-1007" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Composição Balanceada de Risco**: A alocação mostra distribuição equilibrada entre ELET6 (35,75%), ITSA4 (47,51%), BRFS3 (13,53%) e RENT3 (3,20%), com contribuições de risco correspondentes aproximadamente aos pesos (34,04%, 49,70%, 12,88% e 3,39% respectivamente). Esta proporcionalidade indica correlações favoráveis entre os ativos selecionados.</span>
<span id="cb131-1008"><a href="#cb131-1008" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1009"><a href="#cb131-1009" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1010"><a href="#cb131-1010" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1011"><a href="#cb131-1011" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1012"><a href="#cb131-1012" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-1013"><a href="#cb131-1013" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1014"><a href="#cb131-1014" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustom&lt;-portfolioSpec(portfolio=list(</span></span>
<span id="cb131-1015"><a href="#cb131-1015" aria-hidden="true" tabindex="-1"></a><span class="in">    weights=NULL,targetReturn=0.001, </span></span>
<span id="cb131-1016"><a href="#cb131-1016" aria-hidden="true" tabindex="-1"></a><span class="in">    targetRisk=NULL, riskFreeRate=0.0553131,nFrontierPoints=50))</span></span>
<span id="cb131-1017"><a href="#cb131-1017" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustom</span></span>
<span id="cb131-1018"><a href="#cb131-1018" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1019"><a href="#cb131-1019" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustomizada&lt;-efficientPortfolio(Retornos, spec=CarteiraCustom)</span></span>
<span id="cb131-1020"><a href="#cb131-1020" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustomizada</span></span>
<span id="cb131-1021"><a href="#cb131-1021" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1022"><a href="#cb131-1022" aria-hidden="true" tabindex="-1"></a><span class="in">  getWeights(CarteiraCustomizada)</span></span>
<span id="cb131-1023"><a href="#cb131-1023" aria-hidden="true" tabindex="-1"></a><span class="in">  getTargetReturn(CarteiraCustomizada)</span></span>
<span id="cb131-1024"><a href="#cb131-1024" aria-hidden="true" tabindex="-1"></a><span class="in">  getTargetRisk(CarteiraCustomizada)</span></span>
<span id="cb131-1025"><a href="#cb131-1025" aria-hidden="true" tabindex="-1"></a><span class="in">  frontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-1026"><a href="#cb131-1026" aria-hidden="true" tabindex="-1"></a><span class="in">  points(frontierPoints(CarteiraCustomizada)[,1], frontierPoints(CarteiraCustomizada)[,2], col="blue", pch=17, cex=1.5)</span></span>
<span id="cb131-1027"><a href="#cb131-1027" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1028"><a href="#cb131-1028" aria-hidden="true" tabindex="-1"></a><span class="in">  singleAssetPoints(fronteira, col="pink", pch=19)</span></span>
<span id="cb131-1029"><a href="#cb131-1029" aria-hidden="true" tabindex="-1"></a><span class="in">  tangencyLines(fronteira, col="green", pch=19)</span></span>
<span id="cb131-1030"><a href="#cb131-1030" aria-hidden="true" tabindex="-1"></a><span class="in">  sharpeRatioLines(fronteira, col="red")</span></span>
<span id="cb131-1031"><a href="#cb131-1031" aria-hidden="true" tabindex="-1"></a><span class="in">  tailoredFrontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-1032"><a href="#cb131-1032" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1033"><a href="#cb131-1033" aria-hidden="true" tabindex="-1"></a><span class="in">  GraficoPizzaCustom&lt;-weightsPie(CarteiraCustomizada);</span></span>
<span id="cb131-1034"><a href="#cb131-1034" aria-hidden="true" tabindex="-1"></a><span class="in">  GraficoPizzaCustom</span></span>
<span id="cb131-1035"><a href="#cb131-1035" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1036"><a href="#cb131-1036" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1037"><a href="#cb131-1037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1038"><a href="#cb131-1038" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Carteira Customizada</span></span>
<span id="cb131-1039"><a href="#cb131-1039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1040"><a href="#cb131-1040" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1041"><a href="#cb131-1041" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>A carteira tangente otimizada apresenta um resultado extremamente concentrado que exemplifica tanto o poder quanto as limitações práticas da teoria de otimização de portfólios. A alocação de virtualmente&nbsp;**100% no ativo LWSA3**&nbsp;com exclusão quase total dos demais ativos revela insights importantes sobre a eficiência marginal na fronteira de risco-retorno.</span>
<span id="cb131-1042"><a href="#cb131-1042" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1043"><a href="#cb131-1043" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Maximização do Índice de Sharpe**: A carteira tangente busca maximizar o prêmio por unidade de risco (retorno excedente em relação à taxa livre de risco dividido pela volatilidade). A concentração extrema em LWSA3 sugere que este ativo oferece a **maior relação retorno-risco ajustada** entre todas as opções disponíveis, superando significativamente os demais ativos nesta métrica específica.</span>
<span id="cb131-1044"><a href="#cb131-1044" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1045"><a href="#cb131-1045" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**Eficiência Marginal na Fronteira**: O resultado demonstra que, segundo o modelo matemático, a adição de qualquer outro ativo à carteira **reduziria a eficiência global** do portfólio, diminuindo o índice de Sharpe abaixo do nível ótimo alcançável com LWSA3 isoladamente.</span>
<span id="cb131-1046"><a href="#cb131-1046" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1047"><a href="#cb131-1047" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1048"><a href="#cb131-1048" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1049"><a href="#cb131-1049" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1050"><a href="#cb131-1050" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-1051"><a href="#cb131-1051" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1052"><a href="#cb131-1052" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraCustom&lt;-portfolioSpec(portfolio=list(</span></span>
<span id="cb131-1053"><a href="#cb131-1053" aria-hidden="true" tabindex="-1"></a><span class="in">    weights=NULL,targetReturn=0.001, </span></span>
<span id="cb131-1054"><a href="#cb131-1054" aria-hidden="true" tabindex="-1"></a><span class="in">    targetRisk=NULL, riskFreeRate=0.0553131,nFrontierPoints=50))</span></span>
<span id="cb131-1055"><a href="#cb131-1055" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustom</span></span>
<span id="cb131-1056"><a href="#cb131-1056" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1057"><a href="#cb131-1057" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustomizada&lt;-tangencyPortfolio(Retornos, spec=CarteiraCustom)</span></span>
<span id="cb131-1058"><a href="#cb131-1058" aria-hidden="true" tabindex="-1"></a><span class="in">  CarteiraCustomizada</span></span>
<span id="cb131-1059"><a href="#cb131-1059" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1060"><a href="#cb131-1060" aria-hidden="true" tabindex="-1"></a><span class="in">  getWeights(CarteiraCustomizada)</span></span>
<span id="cb131-1061"><a href="#cb131-1061" aria-hidden="true" tabindex="-1"></a><span class="in">  getTargetReturn(CarteiraCustomizada)</span></span>
<span id="cb131-1062"><a href="#cb131-1062" aria-hidden="true" tabindex="-1"></a><span class="in">  getTargetRisk(CarteiraCustomizada)</span></span>
<span id="cb131-1063"><a href="#cb131-1063" aria-hidden="true" tabindex="-1"></a><span class="in">  frontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-1064"><a href="#cb131-1064" aria-hidden="true" tabindex="-1"></a><span class="in">  points(frontierPoints(CarteiraCustomizada)[,1], frontierPoints(CarteiraCustomizada)[,2], col="blue", pch=17, cex=1.5)</span></span>
<span id="cb131-1065"><a href="#cb131-1065" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1066"><a href="#cb131-1066" aria-hidden="true" tabindex="-1"></a><span class="in">  singleAssetPoints(fronteira, col="pink", pch=19)</span></span>
<span id="cb131-1067"><a href="#cb131-1067" aria-hidden="true" tabindex="-1"></a><span class="in">  tangencyLines(fronteira, col="green", pch=19)</span></span>
<span id="cb131-1068"><a href="#cb131-1068" aria-hidden="true" tabindex="-1"></a><span class="in">  sharpeRatioLines(fronteira, col="red")</span></span>
<span id="cb131-1069"><a href="#cb131-1069" aria-hidden="true" tabindex="-1"></a><span class="in">  tailoredFrontierPlot(portfolioFrontier(Retornos))</span></span>
<span id="cb131-1070"><a href="#cb131-1070" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1071"><a href="#cb131-1071" aria-hidden="true" tabindex="-1"></a><span class="in">  GraficoPizzaCustom&lt;-weightsPie(CarteiraCustomizada);GraficoPizzaCustom</span></span>
<span id="cb131-1072"><a href="#cb131-1072" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1073"><a href="#cb131-1073" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1074"><a href="#cb131-1074" aria-hidden="true" tabindex="-1"></a><span class="fu">## Beta Mercado:</span></span>
<span id="cb131-1075"><a href="#cb131-1075" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1076"><a href="#cb131-1076" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1077"><a href="#cb131-1077" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>O conceito de Beta insere-se na teoria do mercado de capitais como uma alternativa pragmática para superar as complexidades operacionais do modelo de Markowitz. Enquanto o modelo de Markowitz requer o cálculo de matrizes de covariância entre todos os pares de ativos - uma abordagem computacionalmente intensiva e suscetível a erros de estimação -, o modelo de mercado simplifica esta análise ao relacionar o comportamento de cada ativo diretamente com um índice de referência através de uma regressão linear simples. No contexto brasileiro, o Ibovespa consolida-se como nosso principal benchmark, sintetizando o desempenho dos papéis mais representativos negociados na B3. Esta relação funcional permite quantificar a sensibilidade individual dos ativos aos movimentos do mercado por meio do coeficiente Beta.</span>
<span id="cb131-1078"><a href="#cb131-1078" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1079"><a href="#cb131-1079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1080"><a href="#cb131-1080" aria-hidden="true" tabindex="-1"></a><span class="fu">#### Baixando os dados da Selic:</span></span>
<span id="cb131-1081"><a href="#cb131-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1082"><a href="#cb131-1082" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1083"><a href="#cb131-1083" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1084"><a href="#cb131-1084" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-1085"><a href="#cb131-1085" aria-hidden="true" tabindex="-1"></a><span class="in">#Baixando os dados da selic:</span></span>
<span id="cb131-1086"><a href="#cb131-1086" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1087"><a href="#cb131-1087" aria-hidden="true" tabindex="-1"></a><span class="in">#install.packages("GetBCBData")</span></span>
<span id="cb131-1088"><a href="#cb131-1088" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1089"><a href="#cb131-1089" aria-hidden="true" tabindex="-1"></a><span class="in">selic &lt;- get_series(11, start_date = dataini,end_date =datafim);selic </span></span>
<span id="cb131-1090"><a href="#cb131-1090" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1091"><a href="#cb131-1091" aria-hidden="true" tabindex="-1"></a><span class="in">Selic=zoo(selic$'11')</span></span>
<span id="cb131-1092"><a href="#cb131-1092" aria-hidden="true" tabindex="-1"></a><span class="in">index(Selic)=selic$date</span></span>
<span id="cb131-1093"><a href="#cb131-1093" aria-hidden="true" tabindex="-1"></a><span class="in">Selic;plot(Selic) </span></span>
<span id="cb131-1094"><a href="#cb131-1094" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1095"><a href="#cb131-1095" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1096"><a href="#cb131-1096" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-1097"><a href="#cb131-1097" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1098"><a href="#cb131-1098" aria-hidden="true" tabindex="-1"></a><span class="in">require(rbcb)</span></span>
<span id="cb131-1099"><a href="#cb131-1099" aria-hidden="true" tabindex="-1"></a><span class="in">require(ggplot2)</span></span>
<span id="cb131-1100"><a href="#cb131-1100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1101"><a href="#cb131-1101" aria-hidden="true" tabindex="-1"></a><span class="in">SelicD &lt;- get_series(11, start_date = "2025-01-01", end_date ="2025-06-29") </span></span>
<span id="cb131-1102"><a href="#cb131-1102" aria-hidden="true" tabindex="-1"></a><span class="in">SelicD; View(SelicD); print(tail(SelicD))</span></span>
<span id="cb131-1103"><a href="#cb131-1103" aria-hidden="true" tabindex="-1"></a><span class="in">plot.ts(SelicD$'11', type="l", col="red",lw=3)</span></span>
<span id="cb131-1104"><a href="#cb131-1104" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1105"><a href="#cb131-1105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1106"><a href="#cb131-1106" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1107"><a href="#cb131-1107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1108"><a href="#cb131-1108" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1109"><a href="#cb131-1109" aria-hidden="true" tabindex="-1"></a><span class="in">library(fBasics)</span></span>
<span id="cb131-1110"><a href="#cb131-1110" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1111"><a href="#cb131-1111" aria-hidden="true" tabindex="-1"></a><span class="in">#install.packages("ggplot2")</span></span>
<span id="cb131-1112"><a href="#cb131-1112" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb131-1113"><a href="#cb131-1113" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1114"><a href="#cb131-1114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1115"><a href="#cb131-1115" aria-hidden="true" tabindex="-1"></a><span class="in">SelicD &lt;- get_series(11, start_date = "2025-01-01", end_date ="2025-06-29") </span></span>
<span id="cb131-1116"><a href="#cb131-1116" aria-hidden="true" tabindex="-1"></a><span class="in">SelicD; View(SelicD); print(tail(SelicD))</span></span>
<span id="cb131-1117"><a href="#cb131-1117" aria-hidden="true" tabindex="-1"></a><span class="in">plot.ts(SelicD$'11', type="l", col="red",lw=3)</span></span>
<span id="cb131-1118"><a href="#cb131-1118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1119"><a href="#cb131-1119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1120"><a href="#cb131-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1121"><a href="#cb131-1121" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1122"><a href="#cb131-1122" aria-hidden="true" tabindex="-1"></a><span class="in">  colnames(SelicD) &lt;- c("data", "selicdiaria")</span></span>
<span id="cb131-1123"><a href="#cb131-1123" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1124"><a href="#cb131-1124" aria-hidden="true" tabindex="-1"></a><span class="in">  graficoselic &lt;- ggplot(data = SelicD, aes(x = data, y = selicdiaria)) +</span></span>
<span id="cb131-1125"><a href="#cb131-1125" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_line(color = "red", linewidth = 1.2) +  </span></span>
<span id="cb131-1126"><a href="#cb131-1126" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb131-1127"><a href="#cb131-1127" aria-hidden="true" tabindex="-1"></a><span class="in">    title = "Evolução da Taxa Selic Diária",</span></span>
<span id="cb131-1128"><a href="#cb131-1128" aria-hidden="true" tabindex="-1"></a><span class="in">    subtitle = paste("Período de", format(as.Date("2025-01-01"), "%d/%m/%Y"), "a", format(as.Date("2025-06-29"), "%d/%m/%Y")),</span></span>
<span id="cb131-1129"><a href="#cb131-1129" aria-hidden="true" tabindex="-1"></a><span class="in">    x = "Data",</span></span>
<span id="cb131-1130"><a href="#cb131-1130" aria-hidden="true" tabindex="-1"></a><span class="in">    y = "Taxa de Juros (% a.d.)",</span></span>
<span id="cb131-1131"><a href="#cb131-1131" aria-hidden="true" tabindex="-1"></a><span class="in">    caption = "Fonte: Banco Central do Brasil (via pacote rbcb)"</span></span>
<span id="cb131-1132"><a href="#cb131-1132" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb131-1133"><a href="#cb131-1133" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal() + </span></span>
<span id="cb131-1134"><a href="#cb131-1134" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb131-1135"><a href="#cb131-1135" aria-hidden="true" tabindex="-1"></a><span class="in">    plot.title = element_text(hjust = 0.5, face = "bold"), </span></span>
<span id="cb131-1136"><a href="#cb131-1136" aria-hidden="true" tabindex="-1"></a><span class="in">    plot.subtitle = element_text(hjust = 0.5) </span></span>
<span id="cb131-1137"><a href="#cb131-1137" aria-hidden="true" tabindex="-1"></a><span class="in">  )</span></span>
<span id="cb131-1138"><a href="#cb131-1138" aria-hidden="true" tabindex="-1"></a><span class="in"># Exibe o gráfico gerado</span></span>
<span id="cb131-1139"><a href="#cb131-1139" aria-hidden="true" tabindex="-1"></a><span class="in">print(graficoselic)</span></span>
<span id="cb131-1140"><a href="#cb131-1140" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1141"><a href="#cb131-1141" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1142"><a href="#cb131-1142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1143"><a href="#cb131-1143" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1144"><a href="#cb131-1144" aria-hidden="true" tabindex="-1"></a>Este código está realizando uma&nbsp;**coleta e preparação abrangente de dados financeiros**&nbsp;para análise de uma carteira de investimentos no contexto brasileiro, especificamente para calcular o Beta dos ativos em relação ao Ibovespa.&nbsp;</span>
<span id="cb131-1145"><a href="#cb131-1145" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1146"><a href="#cb131-1146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1147"><a href="#cb131-1147" aria-hidden="true" tabindex="-1"></a><span class="fu">### Calculando o Beta Mercado:</span></span>
<span id="cb131-1148"><a href="#cb131-1148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1149"><a href="#cb131-1149" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1150"><a href="#cb131-1150" aria-hidden="true" tabindex="-1"></a>Nesse código estou organizando as séries históricas de preços de ativos financeiros e indicadores de mercado, preparando a base para o cálculo do **Beta** e análise de risco sistemático de uma carteira composta por cinco ativos: **LWSA3, ELET6, ITSA4, RENT3 e BRFS3**.</span>
<span id="cb131-1151"><a href="#cb131-1151" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1152"><a href="#cb131-1152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1153"><a href="#cb131-1153" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1154"><a href="#cb131-1154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1155"><a href="#cb131-1155" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1156"><a href="#cb131-1156" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1157"><a href="#cb131-1157" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1158"><a href="#cb131-1158" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1159"><a href="#cb131-1159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1160"><a href="#cb131-1160" aria-hidden="true" tabindex="-1"></a><span class="in"># 1) IBOVESPA em formato zoo</span></span>
<span id="cb131-1161"><a href="#cb131-1161" aria-hidden="true" tabindex="-1"></a><span class="in">ibov_df &lt;- yf_get("^BVSP", first_date = "2025-04-01", last_date = Sys.Date())</span></span>
<span id="cb131-1162"><a href="#cb131-1162" aria-hidden="true" tabindex="-1"></a><span class="in">ibov &lt;- zoo(ibov_df$price_adjusted, order.by = ibov_df$ref_date)  # objeto zoo</span></span>
<span id="cb131-1163"><a href="#cb131-1163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1164"><a href="#cb131-1164" aria-hidden="true" tabindex="-1"></a><span class="in"># 3) Junta Ibov + Selic</span></span>
<span id="cb131-1165"><a href="#cb131-1165" aria-hidden="true" tabindex="-1"></a><span class="in">dados2 &lt;- na.omit(merge(ibov, Selic))</span></span>
<span id="cb131-1166"><a href="#cb131-1166" aria-hidden="true" tabindex="-1"></a><span class="in">dados2 &lt;- data.frame(Data = index(dados2), coredata(dados2))</span></span>
<span id="cb131-1167"><a href="#cb131-1167" aria-hidden="true" tabindex="-1"></a><span class="in">names(dados2) &lt;- c("Data", "Ibovespa", "SELIC")</span></span>
<span id="cb131-1168"><a href="#cb131-1168" aria-hidden="true" tabindex="-1"></a><span class="in">attach(dados2); dados2</span></span>
<span id="cb131-1169"><a href="#cb131-1169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1170"><a href="#cb131-1170" aria-hidden="true" tabindex="-1"></a><span class="in"># 4) Ativos em formato zoo</span></span>
<span id="cb131-1171"><a href="#cb131-1171" aria-hidden="true" tabindex="-1"></a><span class="in">ativos_df &lt;- yf_get(</span></span>
<span id="cb131-1172"><a href="#cb131-1172" aria-hidden="true" tabindex="-1"></a><span class="in">  tickers = c("LWSA3.SA", "ELET6.SA", "ITSA4.SA", "RENT3.SA", "BRFS3.SA"),</span></span>
<span id="cb131-1173"><a href="#cb131-1173" aria-hidden="true" tabindex="-1"></a><span class="in">  first_date = "2025-04-01",</span></span>
<span id="cb131-1174"><a href="#cb131-1174" aria-hidden="true" tabindex="-1"></a><span class="in">  last_date = Sys.Date()</span></span>
<span id="cb131-1175"><a href="#cb131-1175" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb131-1176"><a href="#cb131-1176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1177"><a href="#cb131-1177" aria-hidden="true" tabindex="-1"></a><span class="in"># Converte cada ativo para zoo separado (igual professor fez)</span></span>
<span id="cb131-1178"><a href="#cb131-1178" aria-hidden="true" tabindex="-1"></a><span class="in">lwsa3 &lt;- zoo(ativos_df$price_adjusted[ativos_df$ticker == "LWSA3.SA"],</span></span>
<span id="cb131-1179"><a href="#cb131-1179" aria-hidden="true" tabindex="-1"></a><span class="in">             order.by = ativos_df$ref_date[ativos_df$ticker == "LWSA3.SA"])</span></span>
<span id="cb131-1180"><a href="#cb131-1180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1181"><a href="#cb131-1181" aria-hidden="true" tabindex="-1"></a><span class="in">elet6 &lt;- zoo(ativos_df$price_adjusted[ativos_df$ticker == "ELET6.SA"],</span></span>
<span id="cb131-1182"><a href="#cb131-1182" aria-hidden="true" tabindex="-1"></a><span class="in">             order.by = ativos_df$ref_date[ativos_df$ticker == "ELET6.SA"])</span></span>
<span id="cb131-1183"><a href="#cb131-1183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1184"><a href="#cb131-1184" aria-hidden="true" tabindex="-1"></a><span class="in">itsa4 &lt;- zoo(ativos_df$price_adjusted[ativos_df$ticker == "ITSA4.SA"],</span></span>
<span id="cb131-1185"><a href="#cb131-1185" aria-hidden="true" tabindex="-1"></a><span class="in">             order.by = ativos_df$ref_date[ativos_df$ticker == "ITSA4.SA"])</span></span>
<span id="cb131-1186"><a href="#cb131-1186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1187"><a href="#cb131-1187" aria-hidden="true" tabindex="-1"></a><span class="in">rent3 &lt;- zoo(ativos_df$price_adjusted[ativos_df$ticker == "RENT3.SA"],</span></span>
<span id="cb131-1188"><a href="#cb131-1188" aria-hidden="true" tabindex="-1"></a><span class="in">             order.by = ativos_df$ref_date[ativos_df$ticker == "RENT3.SA"])</span></span>
<span id="cb131-1189"><a href="#cb131-1189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1190"><a href="#cb131-1190" aria-hidden="true" tabindex="-1"></a><span class="in">brfs3 &lt;- zoo(ativos_df$price_adjusted[ativos_df$ticker == "BRFS3.SA"],</span></span>
<span id="cb131-1191"><a href="#cb131-1191" aria-hidden="true" tabindex="-1"></a><span class="in">             order.by = ativos_df$ref_date[ativos_df$ticker == "BRFS3.SA"])</span></span>
<span id="cb131-1192"><a href="#cb131-1192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1193"><a href="#cb131-1193" aria-hidden="true" tabindex="-1"></a><span class="in"># 5) Merge geral (igual professor)</span></span>
<span id="cb131-1194"><a href="#cb131-1194" aria-hidden="true" tabindex="-1"></a><span class="in">Ativos &lt;- merge(lwsa3, elet6, itsa4, rent3, brfs3, ibov, Selic)</span></span>
<span id="cb131-1195"><a href="#cb131-1195" aria-hidden="true" tabindex="-1"></a><span class="in">length(na.omit(Ativos[,1]))</span></span>
<span id="cb131-1196"><a href="#cb131-1196" aria-hidden="true" tabindex="-1"></a><span class="in">Data1 &lt;- index(na.omit(Ativos)); length(Data1)</span></span>
<span id="cb131-1197"><a href="#cb131-1197" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1198"><a href="#cb131-1198" aria-hidden="true" tabindex="-1"></a><span class="in"># 6) Carteira BETA final</span></span>
<span id="cb131-1199"><a href="#cb131-1199" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA &lt;- data.frame(na.omit(Ativos), Data1)</span></span>
<span id="cb131-1200"><a href="#cb131-1200" aria-hidden="true" tabindex="-1"></a><span class="in">names(CarteiraBETA) &lt;- c("lwsa3", "elet6", "itsa4", "rent3", "brfs3", "Ibovespa", "Selic", "Data1")</span></span>
<span id="cb131-1201"><a href="#cb131-1201" aria-hidden="true" tabindex="-1"></a><span class="in">attach(CarteiraBETA)</span></span>
<span id="cb131-1202"><a href="#cb131-1202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1203"><a href="#cb131-1203" aria-hidden="true" tabindex="-1"></a><span class="in">options(max.print = 99999)</span></span>
<span id="cb131-1204"><a href="#cb131-1204" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA</span></span>
<span id="cb131-1205"><a href="#cb131-1205" aria-hidden="true" tabindex="-1"></a><span class="in">n &lt;- length(CarteiraBETA[,1]); n</span></span>
<span id="cb131-1206"><a href="#cb131-1206" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA[n,]</span></span>
<span id="cb131-1207"><a href="#cb131-1207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1208"><a href="#cb131-1208" aria-hidden="true" tabindex="-1"></a><span class="in"># 7) Exportar</span></span>
<span id="cb131-1209"><a href="#cb131-1209" aria-hidden="true" tabindex="-1"></a><span class="in">write.table(CarteiraBETA, file = "BetaCarteira.txt", row.names = FALSE)</span></span>
<span id="cb131-1210"><a href="#cb131-1210" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1211"><a href="#cb131-1211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1212"><a href="#cb131-1212" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1213"><a href="#cb131-1213" aria-hidden="true" tabindex="-1"></a>O código implementa, de forma prática:</span>
<span id="cb131-1214"><a href="#cb131-1214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1215"><a href="#cb131-1215" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>Obtenção de dados de ativos e índices.</span>
<span id="cb131-1216"><a href="#cb131-1216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1217"><a href="#cb131-1217" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>Cálculo de **retornos logarítmicos**.</span>
<span id="cb131-1218"><a href="#cb131-1218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1219"><a href="#cb131-1219" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>Cálculo de **excess returns** em relação à taxa livre de risco.</span>
<span id="cb131-1220"><a href="#cb131-1220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1221"><a href="#cb131-1221" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>Estimativa de **Beta** via regressão linear simples.</span>
<span id="cb131-1222"><a href="#cb131-1222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1223"><a href="#cb131-1223" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>Aplicação prática do **CAPM** para análise de risco e retorno.</span>
<span id="cb131-1224"><a href="#cb131-1224" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1225"><a href="#cb131-1225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1226"><a href="#cb131-1226" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1227"><a href="#cb131-1227" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1228"><a href="#cb131-1228" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1229"><a href="#cb131-1229" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1230"><a href="#cb131-1230" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1231"><a href="#cb131-1231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1232"><a href="#cb131-1232" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA&lt;-read.table("BetaCarteira.txt", head=T)</span></span>
<span id="cb131-1233"><a href="#cb131-1233" aria-hidden="true" tabindex="-1"></a><span class="in">names(CarteiraBETA)&lt;-c("lwsa3", "elet6", "itsa4", "rent3", "brfs3","ibovespa","Selic", "Data1")</span></span>
<span id="cb131-1234"><a href="#cb131-1234" aria-hidden="true" tabindex="-1"></a><span class="in">attach(CarteiraBETA)</span></span>
<span id="cb131-1235"><a href="#cb131-1235" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA; length((CarteiraBETA$Selic))</span></span>
<span id="cb131-1236"><a href="#cb131-1236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1237"><a href="#cb131-1237" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA$ibovespa;length(CarteiraBETA$ibovespa)</span></span>
<span id="cb131-1238"><a href="#cb131-1238" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA$lwsa3;length(CarteiraBETA$lwsa3)</span></span>
<span id="cb131-1239"><a href="#cb131-1239" aria-hidden="true" tabindex="-1"></a><span class="in">CarteiraBETA$Selic;length(CarteiraBETA$Selic)</span></span>
<span id="cb131-1240"><a href="#cb131-1240" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1241"><a href="#cb131-1241" aria-hidden="true" tabindex="-1"></a><span class="in">ribov=diff(log(ibovespa));ribov;length(ribov)</span></span>
<span id="cb131-1242"><a href="#cb131-1242" aria-hidden="true" tabindex="-1"></a><span class="in">Ribov=ribov*100;Ribov;mean(Ribov)</span></span>
<span id="cb131-1243"><a href="#cb131-1243" aria-hidden="true" tabindex="-1"></a><span class="in">RSelic=CarteiraBETA$Selic[-1];length(CarteiraBETA$Selic[-1])</span></span>
<span id="cb131-1244"><a href="#cb131-1244" aria-hidden="true" tabindex="-1"></a><span class="in">RSelic</span></span>
<span id="cb131-1245"><a href="#cb131-1245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1246"><a href="#cb131-1246" aria-hidden="true" tabindex="-1"></a><span class="in">rlwsa3=diff(log(CarteiraBETA$lwsa3[-1]));length(CarteiraBETA$lwsa3[-1])</span></span>
<span id="cb131-1247"><a href="#cb131-1247" aria-hidden="true" tabindex="-1"></a><span class="in">relet6=diff(log(CarteiraBETA$elet6[-1]));length(CarteiraBETA$elet6[-1])</span></span>
<span id="cb131-1248"><a href="#cb131-1248" aria-hidden="true" tabindex="-1"></a><span class="in">ritsa4=diff(log(CarteiraBETA$itsa4[-1]));length(CarteiraBETA$itsa4[-1])</span></span>
<span id="cb131-1249"><a href="#cb131-1249" aria-hidden="true" tabindex="-1"></a><span class="in">rrent3=diff(log(CarteiraBETA$rent3[-1]));length(CarteiraBETA$rent3[-1])</span></span>
<span id="cb131-1250"><a href="#cb131-1250" aria-hidden="true" tabindex="-1"></a><span class="in">rbrfs3=diff(log(CarteiraBETA$brfs3[-1]));length(CarteiraBETA$brfs3[-1])</span></span>
<span id="cb131-1251"><a href="#cb131-1251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1252"><a href="#cb131-1252" aria-hidden="true" tabindex="-1"></a><span class="in">#RIbov=(rIbov-Selic[-1])</span></span>
<span id="cb131-1253"><a href="#cb131-1253" aria-hidden="true" tabindex="-1"></a><span class="in">Ribov=(ribov-RSelic);length(Ribov);Ribov</span></span>
<span id="cb131-1254"><a href="#cb131-1254" aria-hidden="true" tabindex="-1"></a><span class="in">Rlwsa3=rlwsa3-RSelic[-1]</span></span>
<span id="cb131-1255"><a href="#cb131-1255" aria-hidden="true" tabindex="-1"></a><span class="in">Rlwsa3;length(Rlwsa3)</span></span>
<span id="cb131-1256"><a href="#cb131-1256" aria-hidden="true" tabindex="-1"></a><span class="in">Relet6=relet6-RSelic[-1]</span></span>
<span id="cb131-1257"><a href="#cb131-1257" aria-hidden="true" tabindex="-1"></a><span class="in">Ritsa4=ritsa4-RSelic[-1]</span></span>
<span id="cb131-1258"><a href="#cb131-1258" aria-hidden="true" tabindex="-1"></a><span class="in">Rrent3=rrent3-RSelic[-1]</span></span>
<span id="cb131-1259"><a href="#cb131-1259" aria-hidden="true" tabindex="-1"></a><span class="in">Rbrfs3=rbrfs3-RSelic[-1]</span></span>
<span id="cb131-1260"><a href="#cb131-1260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1261"><a href="#cb131-1261" aria-hidden="true" tabindex="-1"></a><span class="in">#Cálculo do Beta vivt3 (+...)------------------------------------------------------------------------------------------------------</span></span>
<span id="cb131-1262"><a href="#cb131-1262" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1263"><a href="#cb131-1263" aria-hidden="true" tabindex="-1"></a><span class="in">Betalwsa3=lm(Rlwsa3~Ribov[-1])</span></span>
<span id="cb131-1264"><a href="#cb131-1264" aria-hidden="true" tabindex="-1"></a><span class="in">Betalwsa3</span></span>
<span id="cb131-1265"><a href="#cb131-1265" aria-hidden="true" tabindex="-1"></a><span class="in">Betaelet6=lm(Relet6~Ribov[-1]);Betaelet6</span></span>
<span id="cb131-1266"><a href="#cb131-1266" aria-hidden="true" tabindex="-1"></a><span class="in">Betaitsa4=lm(Ritsa4~Ribov[-1]);Betaitsa4</span></span>
<span id="cb131-1267"><a href="#cb131-1267" aria-hidden="true" tabindex="-1"></a><span class="in">Betarent3=lm(Rrent3~Ribov[-1]);Betarent3</span></span>
<span id="cb131-1268"><a href="#cb131-1268" aria-hidden="true" tabindex="-1"></a><span class="in">Betabrfs3=lm(Rbrfs3~Ribov[-1]);Betabrfs3</span></span>
<span id="cb131-1269"><a href="#cb131-1269" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1270"><a href="#cb131-1270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1271"><a href="#cb131-1271" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analisando o ativo LWSA3:</span></span>
<span id="cb131-1272"><a href="#cb131-1272" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1273"><a href="#cb131-1273" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1274"><a href="#cb131-1274" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Extração de resíduos: A forma do histograma mostra resíduos próximos da normal, mas com pequenas diferenças nas caudas. Isso significa que os choques extremos são raros, mas ainda possíveis.</span>
<span id="cb131-1275"><a href="#cb131-1275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1276"><a href="#cb131-1276" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- --&gt;</span></span>
<span id="cb131-1277"><a href="#cb131-1277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1278"><a href="#cb131-1278" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Teste de normalidade: Com p-valor de 0.7749, não rejeitamos a hipótese nula. Na prática, isso sugere que o modelo capta razoavelmente bem o comportamento dos retornos.</span>
<span id="cb131-1279"><a href="#cb131-1279" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1280"><a href="#cb131-1280" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Heterocedasticidade: O p-valor elevado indica homocedasticidade, ou seja, a variância dos resíduos é relativamente constante. Isso é importante porque significa que o risco estimado não varia demais ao longo do tempo.</span>
<span id="cb131-1281"><a href="#cb131-1281" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1282"><a href="#cb131-1282" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Autocorrelação: Ausência de dependência temporal nos resíduos. Ou seja, um erro de hoje não ajuda a prever o erro de amanhã.</span>
<span id="cb131-1283"><a href="#cb131-1283" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1284"><a href="#cb131-1284" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>ARCH: Também não há evidência de clusters de volatilidade. Na prática, este ativo se comporta de forma mais “bem-comportada”, sem exigir modelos muito sofisticados de risco.</span>
<span id="cb131-1285"><a href="#cb131-1285" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1286"><a href="#cb131-1286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1287"><a href="#cb131-1287" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1288"><a href="#cb131-1288" aria-hidden="true" tabindex="-1"></a><span class="in">#### Testes Econométricos - Hipóteses do MQO</span></span>
<span id="cb131-1289"><a href="#cb131-1289" aria-hidden="true" tabindex="-1"></a><span class="in">##Ativo lwsa3</span></span>
<span id="cb131-1290"><a href="#cb131-1290" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1291"><a href="#cb131-1291" aria-hidden="true" tabindex="-1"></a><span class="in">  #Ativo1</span></span>
<span id="cb131-1292"><a href="#cb131-1292" aria-hidden="true" tabindex="-1"></a><span class="in">  coef(Betalwsa3)</span></span>
<span id="cb131-1293"><a href="#cb131-1293" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1294"><a href="#cb131-1294" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betalwsa3)</span></span>
<span id="cb131-1295"><a href="#cb131-1295" aria-hidden="true" tabindex="-1"></a><span class="in">  summary(Betalwsa3) </span></span>
<span id="cb131-1296"><a href="#cb131-1296" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1297"><a href="#cb131-1297" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos&lt;-residuals(Betalwsa3)</span></span>
<span id="cb131-1298"><a href="#cb131-1298" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos</span></span>
<span id="cb131-1299"><a href="#cb131-1299" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(residuos, type="l", col="red")</span></span>
<span id="cb131-1300"><a href="#cb131-1300" aria-hidden="true" tabindex="-1"></a><span class="in">  abline(h=0, col="blue", lw=3)</span></span>
<span id="cb131-1301"><a href="#cb131-1301" aria-hidden="true" tabindex="-1"></a><span class="in">  hist(residuos, main="", col="cadetblue", prob=T, xlab = names(residuos)[1], breaks = 30)</span></span>
<span id="cb131-1302"><a href="#cb131-1302" aria-hidden="true" tabindex="-1"></a><span class="in">  curve(expr=dnorm(x,mean=mean(residuos),sd=sd(residuos)),col="red",add= TRUE, lwd=2)</span></span>
<span id="cb131-1303"><a href="#cb131-1303" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1304"><a href="#cb131-1304" aria-hidden="true" tabindex="-1"></a><span class="in">  require(fBasics)</span></span>
<span id="cb131-1305"><a href="#cb131-1305" aria-hidden="true" tabindex="-1"></a><span class="in">  jarqueberaTest(residuos)</span></span>
<span id="cb131-1306"><a href="#cb131-1306" aria-hidden="true" tabindex="-1"></a><span class="in">  qqnorm(residuos, col="blue")</span></span>
<span id="cb131-1307"><a href="#cb131-1307" aria-hidden="true" tabindex="-1"></a><span class="in">  qqline(residuos, col="red")</span></span>
<span id="cb131-1308"><a href="#cb131-1308" aria-hidden="true" tabindex="-1"></a><span class="in">  shapiro.test(residuos)</span></span>
<span id="cb131-1309"><a href="#cb131-1309" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1310"><a href="#cb131-1310" aria-hidden="true" tabindex="-1"></a><span class="in">  #install.packages("FinTS")</span></span>
<span id="cb131-1311"><a href="#cb131-1311" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1312"><a href="#cb131-1312" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1313"><a href="#cb131-1313" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betalwsa3)</span></span>
<span id="cb131-1314"><a href="#cb131-1314" aria-hidden="true" tabindex="-1"></a><span class="in">  length(residuos);length(residuos)*0.15</span></span>
<span id="cb131-1315"><a href="#cb131-1315" aria-hidden="true" tabindex="-1"></a><span class="in">  gqtest(Betalwsa3, fraction=8, alternative = "greater")</span></span>
<span id="cb131-1316"><a href="#cb131-1316" aria-hidden="true" tabindex="-1"></a><span class="in">  bptest(Betalwsa3)</span></span>
<span id="cb131-1317"><a href="#cb131-1317" aria-hidden="true" tabindex="-1"></a><span class="in">  library(whitestrap)</span></span>
<span id="cb131-1318"><a href="#cb131-1318" aria-hidden="true" tabindex="-1"></a><span class="in">  white_test(Betalwsa3)</span></span>
<span id="cb131-1319"><a href="#cb131-1319" aria-hidden="true" tabindex="-1"></a><span class="in">  dwtest(Betalwsa3)</span></span>
<span id="cb131-1320"><a href="#cb131-1320" aria-hidden="true" tabindex="-1"></a><span class="in">  library(FinTS)</span></span>
<span id="cb131-1321"><a href="#cb131-1321" aria-hidden="true" tabindex="-1"></a><span class="in">  ArchTest(residuos, lags = 2)</span></span>
<span id="cb131-1322"><a href="#cb131-1322" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1323"><a href="#cb131-1323" aria-hidden="true" tabindex="-1"></a><span class="in">  Box.test(residuos, lag=12, type="Box-Pierce")</span></span>
<span id="cb131-1324"><a href="#cb131-1324" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1325"><a href="#cb131-1325" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1326"><a href="#cb131-1326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1327"><a href="#cb131-1327" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analisando o ativo ELET6:</span></span>
<span id="cb131-1328"><a href="#cb131-1328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1329"><a href="#cb131-1329" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1330"><a href="#cb131-1330" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Extração de resíduos: O histograma comparado à curva normal mostra que a distribuição dos resíduos não segue uma normal perfeita, apresentando caudas mais pesadas (excesso de curtose), principalmente do lado positivo. Isso indica maior probabilidade de valores extremos.</span>
<span id="cb131-1331"><a href="#cb131-1331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1332"><a href="#cb131-1332" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Teste de normalidade: O p-valor obtido foi 0.5417, ou seja, não rejeitamos a hipótese nula de normalidade. Em termos práticos, os resíduos podem ser considerados aproximadamente normais segundo este teste.</span>
<span id="cb131-1333"><a href="#cb131-1333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1334"><a href="#cb131-1334" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Teste de heterocedasticidade: Como o p-valor também foi 0.5417, aceitamos a hipótese nula de homocedasticidade. Isso significa que a variância dos resíduos é constante ao longo do tempo, não havendo fortes indícios de heterocedasticidade.</span>
<span id="cb131-1335"><a href="#cb131-1335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1336"><a href="#cb131-1336" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Autocorrelação: O teste retornou p-valor de 0.5417, indicando que não rejeitamos a hipótese nula de ausência de autocorrelação. Portanto, os resíduos podem ser considerados aproximadamente independentes no tempo.</span>
<span id="cb131-1337"><a href="#cb131-1337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1338"><a href="#cb131-1338" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Teste ARCH: Apesar do p-valor de 0.5417, que normalmente levaria a não rejeitar a hipótese nula, o resultado sugere que há indícios da presença de efeito ARCH, ou seja, períodos de maior volatilidade tendem a ser seguidos por períodos igualmente voláteis, mesmo que os resíduos médios não apresentem autocorrelação.</span>
<span id="cb131-1339"><a href="#cb131-1339" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1340"><a href="#cb131-1340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1341"><a href="#cb131-1341" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1342"><a href="#cb131-1342" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1343"><a href="#cb131-1343" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1344"><a href="#cb131-1344" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1345"><a href="#cb131-1345" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1346"><a href="#cb131-1346" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1347"><a href="#cb131-1347" aria-hidden="true" tabindex="-1"></a><span class="in">##Ativo elet6</span></span>
<span id="cb131-1348"><a href="#cb131-1348" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1349"><a href="#cb131-1349" aria-hidden="true" tabindex="-1"></a><span class="in">  #Ativo1</span></span>
<span id="cb131-1350"><a href="#cb131-1350" aria-hidden="true" tabindex="-1"></a><span class="in">  coef(Betaelet6)</span></span>
<span id="cb131-1351"><a href="#cb131-1351" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1352"><a href="#cb131-1352" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betaelet6)</span></span>
<span id="cb131-1353"><a href="#cb131-1353" aria-hidden="true" tabindex="-1"></a><span class="in">  summary(Betaelet6) </span></span>
<span id="cb131-1354"><a href="#cb131-1354" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1355"><a href="#cb131-1355" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos&lt;-residuals(Betaelet6)</span></span>
<span id="cb131-1356"><a href="#cb131-1356" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos</span></span>
<span id="cb131-1357"><a href="#cb131-1357" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(residuos, type="l", col="red")</span></span>
<span id="cb131-1358"><a href="#cb131-1358" aria-hidden="true" tabindex="-1"></a><span class="in">  abline(h=0, col="blue", lw=3)</span></span>
<span id="cb131-1359"><a href="#cb131-1359" aria-hidden="true" tabindex="-1"></a><span class="in">  hist(residuos, main="", col="cadetblue", prob=T, xlab = names(residuos)[1], breaks = 30)</span></span>
<span id="cb131-1360"><a href="#cb131-1360" aria-hidden="true" tabindex="-1"></a><span class="in">  curve(expr=dnorm(x,mean=mean(residuos),sd=sd(residuos)),col="red",add= TRUE, lwd=2)</span></span>
<span id="cb131-1361"><a href="#cb131-1361" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1362"><a href="#cb131-1362" aria-hidden="true" tabindex="-1"></a><span class="in">  require(fBasics)</span></span>
<span id="cb131-1363"><a href="#cb131-1363" aria-hidden="true" tabindex="-1"></a><span class="in">  jarqueberaTest(residuos)</span></span>
<span id="cb131-1364"><a href="#cb131-1364" aria-hidden="true" tabindex="-1"></a><span class="in">  qqnorm(residuos, col="blue")</span></span>
<span id="cb131-1365"><a href="#cb131-1365" aria-hidden="true" tabindex="-1"></a><span class="in">  qqline(residuos, col="red")</span></span>
<span id="cb131-1366"><a href="#cb131-1366" aria-hidden="true" tabindex="-1"></a><span class="in">  shapiro.test(residuos)</span></span>
<span id="cb131-1367"><a href="#cb131-1367" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1368"><a href="#cb131-1368" aria-hidden="true" tabindex="-1"></a><span class="in">  #install.packages("FinTS")</span></span>
<span id="cb131-1369"><a href="#cb131-1369" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1370"><a href="#cb131-1370" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1371"><a href="#cb131-1371" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betaelet6)</span></span>
<span id="cb131-1372"><a href="#cb131-1372" aria-hidden="true" tabindex="-1"></a><span class="in">  length(residuos);length(residuos)*0.15</span></span>
<span id="cb131-1373"><a href="#cb131-1373" aria-hidden="true" tabindex="-1"></a><span class="in">  gqtest(Betaelet6, fraction=8, alternative = "greater")</span></span>
<span id="cb131-1374"><a href="#cb131-1374" aria-hidden="true" tabindex="-1"></a><span class="in">  bptest(Betaelet6)</span></span>
<span id="cb131-1375"><a href="#cb131-1375" aria-hidden="true" tabindex="-1"></a><span class="in">  library(whitestrap)</span></span>
<span id="cb131-1376"><a href="#cb131-1376" aria-hidden="true" tabindex="-1"></a><span class="in">  white_test(Betaelet6)</span></span>
<span id="cb131-1377"><a href="#cb131-1377" aria-hidden="true" tabindex="-1"></a><span class="in">  dwtest(Betaelet6)</span></span>
<span id="cb131-1378"><a href="#cb131-1378" aria-hidden="true" tabindex="-1"></a><span class="in">  library(FinTS)</span></span>
<span id="cb131-1379"><a href="#cb131-1379" aria-hidden="true" tabindex="-1"></a><span class="in">  ArchTest(residuos, lags = 2)</span></span>
<span id="cb131-1380"><a href="#cb131-1380" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1381"><a href="#cb131-1381" aria-hidden="true" tabindex="-1"></a><span class="in">  Box.test(residuos, lag=12, type="Box-Pierce")</span></span>
<span id="cb131-1382"><a href="#cb131-1382" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1383"><a href="#cb131-1383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1384"><a href="#cb131-1384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1385"><a href="#cb131-1385" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analisando o ativo Itsa4:</span></span>
<span id="cb131-1386"><a href="#cb131-1386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1387"><a href="#cb131-1387" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1388"><a href="#cb131-1388" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Extração de resíduos: O histograma mostra caudas mais longas, sugerindo maior probabilidade de eventos extremos do que a normal prevê.</span>
<span id="cb131-1389"><a href="#cb131-1389" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1390"><a href="#cb131-1390" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Teste de normalidade: p-valor = 0.05024, próximo do limite de 5%. Isso nos leva a rejeitar a normalidade. Na prática, significa que o risco não está bem captado pela simples volatilidade — choques podem ser subestimados.</span>
<span id="cb131-1391"><a href="#cb131-1391" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1392"><a href="#cb131-1392" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Heterocedasticidade: Indícios de variância não constante. Em termos financeiros, o risco do ativo muda ao longo do tempo, havendo períodos de maior ou menor incerteza.</span>
<span id="cb131-1393"><a href="#cb131-1393" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1394"><a href="#cb131-1394" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Autocorrelação: A presença de autocorrelação sugere que há padrões nos resíduos. Isso significa que existem informações ainda não explicadas pelo modelo linear — oportunidade para modelos não-lineares ou machine learning.</span>
<span id="cb131-1395"><a href="#cb131-1395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1396"><a href="#cb131-1396" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>ARCH: O resultado aponta para efeitos ARCH, ou seja, a volatilidade depende de choques passados. Na prática, justifica o uso de modelos GARCH, que são capazes de prever períodos de turbulência e são amplamente usados em precificação de derivativos e controle de risco.</span>
<span id="cb131-1397"><a href="#cb131-1397" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1398"><a href="#cb131-1398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1399"><a href="#cb131-1399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1400"><a href="#cb131-1400" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1401"><a href="#cb131-1401" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1402"><a href="#cb131-1402" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1403"><a href="#cb131-1403" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1404"><a href="#cb131-1404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1405"><a href="#cb131-1405" aria-hidden="true" tabindex="-1"></a><span class="in">##Ativo itsa4</span></span>
<span id="cb131-1406"><a href="#cb131-1406" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1407"><a href="#cb131-1407" aria-hidden="true" tabindex="-1"></a><span class="in"> </span></span>
<span id="cb131-1408"><a href="#cb131-1408" aria-hidden="true" tabindex="-1"></a><span class="in">  coef(Betaitsa4)</span></span>
<span id="cb131-1409"><a href="#cb131-1409" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1410"><a href="#cb131-1410" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betaitsa4)</span></span>
<span id="cb131-1411"><a href="#cb131-1411" aria-hidden="true" tabindex="-1"></a><span class="in">  summary(Betaitsa4) </span></span>
<span id="cb131-1412"><a href="#cb131-1412" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1413"><a href="#cb131-1413" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos&lt;-residuals(Betaitsa4)</span></span>
<span id="cb131-1414"><a href="#cb131-1414" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos</span></span>
<span id="cb131-1415"><a href="#cb131-1415" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(residuos, type="l", col="red")</span></span>
<span id="cb131-1416"><a href="#cb131-1416" aria-hidden="true" tabindex="-1"></a><span class="in">  abline(h=0, col="blue", lw=3)</span></span>
<span id="cb131-1417"><a href="#cb131-1417" aria-hidden="true" tabindex="-1"></a><span class="in">  hist(residuos, main="", col="cadetblue", prob=T, xlab = names(residuos)[1], breaks = 30)</span></span>
<span id="cb131-1418"><a href="#cb131-1418" aria-hidden="true" tabindex="-1"></a><span class="in">  curve(expr=dnorm(x,mean=mean(residuos),sd=sd(residuos)),col="red",add= TRUE, lwd=2)</span></span>
<span id="cb131-1419"><a href="#cb131-1419" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1420"><a href="#cb131-1420" aria-hidden="true" tabindex="-1"></a><span class="in">  require(fBasics)</span></span>
<span id="cb131-1421"><a href="#cb131-1421" aria-hidden="true" tabindex="-1"></a><span class="in">  jarqueberaTest(residuos)</span></span>
<span id="cb131-1422"><a href="#cb131-1422" aria-hidden="true" tabindex="-1"></a><span class="in">  qqnorm(residuos, col="blue")</span></span>
<span id="cb131-1423"><a href="#cb131-1423" aria-hidden="true" tabindex="-1"></a><span class="in">  qqline(residuos, col="red")</span></span>
<span id="cb131-1424"><a href="#cb131-1424" aria-hidden="true" tabindex="-1"></a><span class="in">  shapiro.test(residuos)</span></span>
<span id="cb131-1425"><a href="#cb131-1425" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1426"><a href="#cb131-1426" aria-hidden="true" tabindex="-1"></a><span class="in">  #install.packages("FinTS")</span></span>
<span id="cb131-1427"><a href="#cb131-1427" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1428"><a href="#cb131-1428" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1429"><a href="#cb131-1429" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betaitsa4)</span></span>
<span id="cb131-1430"><a href="#cb131-1430" aria-hidden="true" tabindex="-1"></a><span class="in">  length(residuos);length(residuos)*0.15</span></span>
<span id="cb131-1431"><a href="#cb131-1431" aria-hidden="true" tabindex="-1"></a><span class="in">  gqtest(Betaitsa4, fraction=8, alternative = "greater")</span></span>
<span id="cb131-1432"><a href="#cb131-1432" aria-hidden="true" tabindex="-1"></a><span class="in">  bptest(Betaitsa4)</span></span>
<span id="cb131-1433"><a href="#cb131-1433" aria-hidden="true" tabindex="-1"></a><span class="in">  library(whitestrap)</span></span>
<span id="cb131-1434"><a href="#cb131-1434" aria-hidden="true" tabindex="-1"></a><span class="in">  white_test(Betaitsa4)</span></span>
<span id="cb131-1435"><a href="#cb131-1435" aria-hidden="true" tabindex="-1"></a><span class="in">  dwtest(Betaitsa4)</span></span>
<span id="cb131-1436"><a href="#cb131-1436" aria-hidden="true" tabindex="-1"></a><span class="in">  library(FinTS)</span></span>
<span id="cb131-1437"><a href="#cb131-1437" aria-hidden="true" tabindex="-1"></a><span class="in">  ArchTest(residuos, lags = 2)</span></span>
<span id="cb131-1438"><a href="#cb131-1438" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1439"><a href="#cb131-1439" aria-hidden="true" tabindex="-1"></a><span class="in">  Box.test(residuos, lag=12, type="Box-Pierce")</span></span>
<span id="cb131-1440"><a href="#cb131-1440" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1441"><a href="#cb131-1441" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1442"><a href="#cb131-1442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1443"><a href="#cb131-1443" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analisando o ativo Rent3:</span></span>
<span id="cb131-1444"><a href="#cb131-1444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1445"><a href="#cb131-1445" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1446"><a href="#cb131-1446" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Extração de resíduos: A distribuição é relativamente simétrica e próxima da normal, mas com pequenas discrepâncias nas extremidades.</span>
<span id="cb131-1447"><a href="#cb131-1447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1448"><a href="#cb131-1448" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Teste de normalidade: p-valor = 0.8255, não rejeitamos a hipótese nula. Isso indica que a distribuição de retornos não foge muito da suposição clássica.</span>
<span id="cb131-1449"><a href="#cb131-1449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1450"><a href="#cb131-1450" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Heterocedasticidade: O teste sugere homocedasticidade. Ou seja, não há sinais de risco variando em intensidade, o que simplifica a modelagem.</span>
<span id="cb131-1451"><a href="#cb131-1451" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1452"><a href="#cb131-1452" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Autocorrelação: Não foi identificada. Isso significa que os erros são independentes, condizente com um mercado mais eficiente, em que não há padrões fáceis de explorar.</span>
<span id="cb131-1453"><a href="#cb131-1453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1454"><a href="#cb131-1454" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>ARCH: Não encontramos evidência de efeitos ARCH. Em termos práticos, a volatilidade não apresenta clusters marcantes. Esse comportamento é interessante, pois indica que a dinâmica de RENT3 é menos sujeita a choques persistentes.</span>
<span id="cb131-1455"><a href="#cb131-1455" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1456"><a href="#cb131-1456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1457"><a href="#cb131-1457" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1458"><a href="#cb131-1458" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1459"><a href="#cb131-1459" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1460"><a href="#cb131-1460" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1461"><a href="#cb131-1461" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1462"><a href="#cb131-1462" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1463"><a href="#cb131-1463" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1464"><a href="#cb131-1464" aria-hidden="true" tabindex="-1"></a><span class="in">  #Ativo1 rent3</span></span>
<span id="cb131-1465"><a href="#cb131-1465" aria-hidden="true" tabindex="-1"></a><span class="in">  coef(Betarent3)</span></span>
<span id="cb131-1466"><a href="#cb131-1466" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1467"><a href="#cb131-1467" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betarent3)</span></span>
<span id="cb131-1468"><a href="#cb131-1468" aria-hidden="true" tabindex="-1"></a><span class="in">  summary(Betarent3) </span></span>
<span id="cb131-1469"><a href="#cb131-1469" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1470"><a href="#cb131-1470" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos&lt;-residuals(Betarent3)</span></span>
<span id="cb131-1471"><a href="#cb131-1471" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos</span></span>
<span id="cb131-1472"><a href="#cb131-1472" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(residuos, type="l", col="red")</span></span>
<span id="cb131-1473"><a href="#cb131-1473" aria-hidden="true" tabindex="-1"></a><span class="in">  abline(h=0, col="blue", lw=3)</span></span>
<span id="cb131-1474"><a href="#cb131-1474" aria-hidden="true" tabindex="-1"></a><span class="in">  hist(residuos, main="", col="cadetblue", prob=T, xlab = names(residuos)[1], breaks = 30)</span></span>
<span id="cb131-1475"><a href="#cb131-1475" aria-hidden="true" tabindex="-1"></a><span class="in">  curve(expr=dnorm(x,mean=mean(residuos),sd=sd(residuos)),col="red",add= TRUE, lwd=2)</span></span>
<span id="cb131-1476"><a href="#cb131-1476" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1477"><a href="#cb131-1477" aria-hidden="true" tabindex="-1"></a><span class="in">  require(fBasics)</span></span>
<span id="cb131-1478"><a href="#cb131-1478" aria-hidden="true" tabindex="-1"></a><span class="in">  jarqueberaTest(residuos)</span></span>
<span id="cb131-1479"><a href="#cb131-1479" aria-hidden="true" tabindex="-1"></a><span class="in">  qqnorm(residuos, col="blue")</span></span>
<span id="cb131-1480"><a href="#cb131-1480" aria-hidden="true" tabindex="-1"></a><span class="in">  qqline(residuos, col="red")</span></span>
<span id="cb131-1481"><a href="#cb131-1481" aria-hidden="true" tabindex="-1"></a><span class="in">  shapiro.test(residuos)</span></span>
<span id="cb131-1482"><a href="#cb131-1482" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1483"><a href="#cb131-1483" aria-hidden="true" tabindex="-1"></a><span class="in">  #install.packages("FinTS")</span></span>
<span id="cb131-1484"><a href="#cb131-1484" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1485"><a href="#cb131-1485" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1486"><a href="#cb131-1486" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betarent3)</span></span>
<span id="cb131-1487"><a href="#cb131-1487" aria-hidden="true" tabindex="-1"></a><span class="in">  length(residuos);length(residuos)*0.15</span></span>
<span id="cb131-1488"><a href="#cb131-1488" aria-hidden="true" tabindex="-1"></a><span class="in">  gqtest(Betarent3, fraction=8, alternative = "greater")</span></span>
<span id="cb131-1489"><a href="#cb131-1489" aria-hidden="true" tabindex="-1"></a><span class="in">  bptest(Betarent3)</span></span>
<span id="cb131-1490"><a href="#cb131-1490" aria-hidden="true" tabindex="-1"></a><span class="in">  library(whitestrap)</span></span>
<span id="cb131-1491"><a href="#cb131-1491" aria-hidden="true" tabindex="-1"></a><span class="in">  white_test(Betarent3)</span></span>
<span id="cb131-1492"><a href="#cb131-1492" aria-hidden="true" tabindex="-1"></a><span class="in">  dwtest(Betarent3)</span></span>
<span id="cb131-1493"><a href="#cb131-1493" aria-hidden="true" tabindex="-1"></a><span class="in">  library(FinTS)</span></span>
<span id="cb131-1494"><a href="#cb131-1494" aria-hidden="true" tabindex="-1"></a><span class="in">  ArchTest(residuos, lags = 2)</span></span>
<span id="cb131-1495"><a href="#cb131-1495" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1496"><a href="#cb131-1496" aria-hidden="true" tabindex="-1"></a><span class="in">  Box.test(residuos, lag=12, type="Box-Pierce")</span></span>
<span id="cb131-1497"><a href="#cb131-1497" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1498"><a href="#cb131-1498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1499"><a href="#cb131-1499" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1500"><a href="#cb131-1500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1501"><a href="#cb131-1501" aria-hidden="true" tabindex="-1"></a><span class="fu">### Analisando o ativo Brfs3:</span></span>
<span id="cb131-1502"><a href="#cb131-1502" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1503"><a href="#cb131-1503" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1504"><a href="#cb131-1504" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Extração de resíduos: O histograma se ajusta bem à curva normal, com pequenas variações esperadas em séries financeiras.</span>
<span id="cb131-1505"><a href="#cb131-1505" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1506"><a href="#cb131-1506" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Teste de normalidade: p-valor = 0.8654, reforçando a hipótese de normalidade. Esse resultado é raro em ativos financeiros, pois geralmente há desvios significativos.</span>
<span id="cb131-1507"><a href="#cb131-1507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1508"><a href="#cb131-1508" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Heterocedasticidade: Não foram encontrados sinais de variância variável. Isso sugere que o risco do ativo se mantém estável, ao menos dentro da amostra.</span>
<span id="cb131-1509"><a href="#cb131-1509" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1510"><a href="#cb131-1510" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Autocorrelação: Não houve evidência de dependência serial. Ou seja, os resíduos são essencialmente aleatórios, reforçando a ideia de que o modelo capturou bem a dinâmica dos retornos.</span>
<span id="cb131-1511"><a href="#cb131-1511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1512"><a href="#cb131-1512" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>ARCH: Sem indícios de efeito ARCH. Na prática, significa que a volatilidade deste ativo é bem distribuída e não forma “clusters” de alta ou baixa volatilidade, comportamento mais próximo ao idealizado pela teoria clássica de finanças.</span>
<span id="cb131-1513"><a href="#cb131-1513" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1514"><a href="#cb131-1514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1515"><a href="#cb131-1515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1516"><a href="#cb131-1516" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1517"><a href="#cb131-1517" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1518"><a href="#cb131-1518" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1519"><a href="#cb131-1519" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1520"><a href="#cb131-1520" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1521"><a href="#cb131-1521" aria-hidden="true" tabindex="-1"></a><span class="in">##Ativo brfs3</span></span>
<span id="cb131-1522"><a href="#cb131-1522" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1523"><a href="#cb131-1523" aria-hidden="true" tabindex="-1"></a><span class="in">  #Ativo1</span></span>
<span id="cb131-1524"><a href="#cb131-1524" aria-hidden="true" tabindex="-1"></a><span class="in">  coef(Betabrfs3)</span></span>
<span id="cb131-1525"><a href="#cb131-1525" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1526"><a href="#cb131-1526" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betabrfs3)</span></span>
<span id="cb131-1527"><a href="#cb131-1527" aria-hidden="true" tabindex="-1"></a><span class="in">  summary(Betabrfs3) </span></span>
<span id="cb131-1528"><a href="#cb131-1528" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1529"><a href="#cb131-1529" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos&lt;-residuals(Betabrfs3)</span></span>
<span id="cb131-1530"><a href="#cb131-1530" aria-hidden="true" tabindex="-1"></a><span class="in">  residuos</span></span>
<span id="cb131-1531"><a href="#cb131-1531" aria-hidden="true" tabindex="-1"></a><span class="in">  plot(residuos, type="l", col="red")</span></span>
<span id="cb131-1532"><a href="#cb131-1532" aria-hidden="true" tabindex="-1"></a><span class="in">  abline(h=0, col="blue", lw=3)</span></span>
<span id="cb131-1533"><a href="#cb131-1533" aria-hidden="true" tabindex="-1"></a><span class="in">  hist(residuos, main="", col="pink", prob=T, xlab = names(residuos)[1], breaks = 30)</span></span>
<span id="cb131-1534"><a href="#cb131-1534" aria-hidden="true" tabindex="-1"></a><span class="in">  curve(expr=dnorm(x,mean=mean(residuos),sd=sd(residuos)),col="red",add= TRUE, lwd=2)</span></span>
<span id="cb131-1535"><a href="#cb131-1535" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1536"><a href="#cb131-1536" aria-hidden="true" tabindex="-1"></a><span class="in">  require(fBasics)</span></span>
<span id="cb131-1537"><a href="#cb131-1537" aria-hidden="true" tabindex="-1"></a><span class="in">  jarqueberaTest(residuos)</span></span>
<span id="cb131-1538"><a href="#cb131-1538" aria-hidden="true" tabindex="-1"></a><span class="in">  qqnorm(residuos, col="blue")</span></span>
<span id="cb131-1539"><a href="#cb131-1539" aria-hidden="true" tabindex="-1"></a><span class="in">  qqline(residuos, col="red")</span></span>
<span id="cb131-1540"><a href="#cb131-1540" aria-hidden="true" tabindex="-1"></a><span class="in">  shapiro.test(residuos)</span></span>
<span id="cb131-1541"><a href="#cb131-1541" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1542"><a href="#cb131-1542" aria-hidden="true" tabindex="-1"></a><span class="in">  #install.packages("FinTS")</span></span>
<span id="cb131-1543"><a href="#cb131-1543" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1544"><a href="#cb131-1544" aria-hidden="true" tabindex="-1"></a><span class="in">  library(lmtest)</span></span>
<span id="cb131-1545"><a href="#cb131-1545" aria-hidden="true" tabindex="-1"></a><span class="in">  coeftest(Betabrfs3)</span></span>
<span id="cb131-1546"><a href="#cb131-1546" aria-hidden="true" tabindex="-1"></a><span class="in">  length(residuos);length(residuos)*0.15</span></span>
<span id="cb131-1547"><a href="#cb131-1547" aria-hidden="true" tabindex="-1"></a><span class="in">  gqtest(Betabrfs3, fraction=8, alternative = "greater")</span></span>
<span id="cb131-1548"><a href="#cb131-1548" aria-hidden="true" tabindex="-1"></a><span class="in">  bptest(Betabrfs3)</span></span>
<span id="cb131-1549"><a href="#cb131-1549" aria-hidden="true" tabindex="-1"></a><span class="in">  library(whitestrap)</span></span>
<span id="cb131-1550"><a href="#cb131-1550" aria-hidden="true" tabindex="-1"></a><span class="in">  white_test(Betabrfs3)</span></span>
<span id="cb131-1551"><a href="#cb131-1551" aria-hidden="true" tabindex="-1"></a><span class="in">  dwtest(Betabrfs3)</span></span>
<span id="cb131-1552"><a href="#cb131-1552" aria-hidden="true" tabindex="-1"></a><span class="in">  library(FinTS)</span></span>
<span id="cb131-1553"><a href="#cb131-1553" aria-hidden="true" tabindex="-1"></a><span class="in">  ArchTest(residuos, lags = 2)</span></span>
<span id="cb131-1554"><a href="#cb131-1554" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb131-1555"><a href="#cb131-1555" aria-hidden="true" tabindex="-1"></a><span class="in">  Box.test(residuos, lag=12, type="Box-Pierce")</span></span>
<span id="cb131-1556"><a href="#cb131-1556" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1557"><a href="#cb131-1557" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1558"><a href="#cb131-1558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1559"><a href="#cb131-1559" aria-hidden="true" tabindex="-1"></a><span class="fu">## Gráfico de Comparação dos Betas:</span></span>
<span id="cb131-1560"><a href="#cb131-1560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1561"><a href="#cb131-1561" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1562"><a href="#cb131-1562" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Análise Prática dos Betas da Carteira:</span>
<span id="cb131-1563"><a href="#cb131-1563" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1564"><a href="#cb131-1564" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Ativos com Beta Elevado (β <span class="sc">\&gt;</span> 1):</span>
<span id="cb131-1565"><a href="#cb131-1565" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1566"><a href="#cb131-1566" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>LWSA3 (β = 1,68): Apresenta sensibilidade acentuada aos movimentos do mercado, com volatilidade aproximadamente 68% superior ao Ibovespa. Característica típica de ações de crescimento e setores tecnológicos.</span>
<span id="cb131-1567"><a href="#cb131-1567" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1568"><a href="#cb131-1568" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>RENT3 (β = 1,16): Demonstra volatilidade moderadamente superior ao mercado, refletindo setor cíclico sensível às condições econômicas.</span>
<span id="cb131-1569"><a href="#cb131-1569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1570"><a href="#cb131-1570" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Ativos com Beta Moderado (β <span class="sc">\&lt;</span> 1):</span>
<span id="cb131-1571"><a href="#cb131-1571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1572"><a href="#cb131-1572" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>ELET6 (β = 0,74): Exibe menor volatilidade que o mercado, compatível com características defensivas do setor elétrico.</span>
<span id="cb131-1573"><a href="#cb131-1573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1574"><a href="#cb131-1574" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>ITSA4 (β = 0,80) e BRFS3 (β = 0,81): Apresentam sensibilidade ligeiramente inferior ao mercado, indicando relativa resiliência durante oscilações.</span>
<span id="cb131-1575"><a href="#cb131-1575" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1576"><a href="#cb131-1576" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1577"><a href="#cb131-1577" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1578"><a href="#cb131-1578" aria-hidden="true" tabindex="-1"></a><span class="in">library(yfR)</span></span>
<span id="cb131-1579"><a href="#cb131-1579" aria-hidden="true" tabindex="-1"></a><span class="in">library(GetBCBData)</span></span>
<span id="cb131-1580"><a href="#cb131-1580" aria-hidden="true" tabindex="-1"></a><span class="in">library(zoo)</span></span>
<span id="cb131-1581"><a href="#cb131-1581" aria-hidden="true" tabindex="-1"></a><span class="in">library(rbcb)</span></span>
<span id="cb131-1582"><a href="#cb131-1582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1583"><a href="#cb131-1583" aria-hidden="true" tabindex="-1"></a><span class="in">names=c("lwsa3", "elet6", "itsa4", "rent3", "brfs3")</span></span>
<span id="cb131-1584"><a href="#cb131-1584" aria-hidden="true" tabindex="-1"></a><span class="in">BETA.Mercado=c(Betalwsa3$coef[2],Betaelet6$coef[2],Betaitsa4$coef[2],Betarent3$coef[2],Betabrfs3$coef[2]);names;BETA.Mercado</span></span>
<span id="cb131-1585"><a href="#cb131-1585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1586"><a href="#cb131-1586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1587"><a href="#cb131-1587" aria-hidden="true" tabindex="-1"></a><span class="in">bpb&lt;-barplot(BETA.Mercado, main="Gráf.4:Cálculo do Beta-Mercado da Carteira Sugerida (60 dias)", ylim=c(0,3.0),names.arg=names, ylab="Percentual %", cex.names=1, col="pink")</span></span>
<span id="cb131-1588"><a href="#cb131-1588" aria-hidden="true" tabindex="-1"></a><span class="in">text(x = as.vector(bpb), y = BETA.Mercado, </span></span>
<span id="cb131-1589"><a href="#cb131-1589" aria-hidden="true" tabindex="-1"></a><span class="in">     label =  round(BETA.Mercado, 2), pos = 3, </span></span>
<span id="cb131-1590"><a href="#cb131-1590" aria-hidden="true" tabindex="-1"></a><span class="in">     col = "black",cex=0.8)</span></span>
<span id="cb131-1591"><a href="#cb131-1591" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1592"><a href="#cb131-1592" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1593"><a href="#cb131-1593" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Curto Prazo:</span></span>
<span id="cb131-1594"><a href="#cb131-1594" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1595"><a href="#cb131-1595" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1596"><a href="#cb131-1596" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1597"><a href="#cb131-1597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1598"><a href="#cb131-1598" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Curto Médio:</span></span>
<span id="cb131-1599"><a href="#cb131-1599" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1602"><a href="#cb131-1602" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1603"><a href="#cb131-1603" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb131-1604"><a href="#cb131-1604" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fBasics)</span>
<span id="cb131-1605"><a href="#cb131-1605" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb131-1606"><a href="#cb131-1606" aria-hidden="true" tabindex="-1"></a><span class="co">#install.packages("ggplot2")</span></span>
<span id="cb131-1607"><a href="#cb131-1607" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb131-1608"><a href="#cb131-1608" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb131-1609"><a href="#cb131-1609" aria-hidden="true" tabindex="-1"></a>  <span class="fu">colnames</span>(SelicD) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"data"</span>, <span class="st">"selicdiaria"</span>)</span>
<span id="cb131-1610"><a href="#cb131-1610" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb131-1611"><a href="#cb131-1611" aria-hidden="true" tabindex="-1"></a>  graficoselic <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> SelicD, <span class="fu">aes</span>(<span class="at">x =</span> data, <span class="at">y =</span> selicdiaria)) <span class="sc">+</span></span>
<span id="cb131-1612"><a href="#cb131-1612" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">color =</span> <span class="st">"red"</span>, <span class="at">linewidth =</span> <span class="fl">1.2</span>) <span class="sc">+</span>  </span>
<span id="cb131-1613"><a href="#cb131-1613" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb131-1614"><a href="#cb131-1614" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Evolução da Taxa Selic Diária"</span>,</span>
<span id="cb131-1615"><a href="#cb131-1615" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Período de"</span>, <span class="fu">format</span>(<span class="fu">as.Date</span>(<span class="st">"2025-01-01"</span>), <span class="st">"%d/%m/%Y"</span>), <span class="st">"a"</span>, <span class="fu">format</span>(<span class="fu">as.Date</span>(<span class="st">"2025-08-29"</span>), <span class="st">"%d/%m/%Y"</span>)),</span>
<span id="cb131-1616"><a href="#cb131-1616" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"Data"</span>,</span>
<span id="cb131-1617"><a href="#cb131-1617" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"Taxa de Juros (% a.d.)"</span>,</span>
<span id="cb131-1618"><a href="#cb131-1618" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">"Fonte: Banco Central do Brasil (via pacote rbcb)"</span></span>
<span id="cb131-1619"><a href="#cb131-1619" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb131-1620"><a href="#cb131-1620" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb131-1621"><a href="#cb131-1621" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb131-1622"><a href="#cb131-1622" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>, <span class="at">face =</span> <span class="st">"bold"</span>), </span>
<span id="cb131-1623"><a href="#cb131-1623" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>) </span>
<span id="cb131-1624"><a href="#cb131-1624" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb131-1625"><a href="#cb131-1625" aria-hidden="true" tabindex="-1"></a><span class="co"># Exibe o gráfico gerado</span></span>
<span id="cb131-1626"><a href="#cb131-1626" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(graficoselic)</span>
<span id="cb131-1627"><a href="#cb131-1627" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb131-1628"><a href="#cb131-1628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1629"><a href="#cb131-1629" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1630"><a href="#cb131-1630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1633"><a href="#cb131-1633" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1634"><a href="#cb131-1634" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yfR)</span>
<span id="cb131-1635"><a href="#cb131-1635" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb131-1636"><a href="#cb131-1636" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb131-1637"><a href="#cb131-1637" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb131-1638"><a href="#cb131-1638" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1639"><a href="#cb131-1639" aria-hidden="true" tabindex="-1"></a><span class="co"># 1) IBOVESPA em formato zoo</span></span>
<span id="cb131-1640"><a href="#cb131-1640" aria-hidden="true" tabindex="-1"></a>ibov_df <span class="ot">&lt;-</span> <span class="fu">yf_get</span>(<span class="st">"^BVSP"</span>, <span class="at">first_date =</span> <span class="st">"2025-04-01"</span>, <span class="at">last_date =</span> <span class="st">"2025-08-29"</span>)</span>
<span id="cb131-1641"><a href="#cb131-1641" aria-hidden="true" tabindex="-1"></a>ibov <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ibov_df<span class="sc">$</span>price_adjusted, <span class="at">order.by =</span> ibov_df<span class="sc">$</span>ref_date)  <span class="co"># objeto zoo</span></span>
<span id="cb131-1642"><a href="#cb131-1642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1643"><a href="#cb131-1643" aria-hidden="true" tabindex="-1"></a><span class="co"># 3) Junta Ibov + Selic</span></span>
<span id="cb131-1644"><a href="#cb131-1644" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(<span class="fu">merge</span>(ibov, Selic))</span>
<span id="cb131-1645"><a href="#cb131-1645" aria-hidden="true" tabindex="-1"></a>dados2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">Data =</span> <span class="fu">index</span>(dados2), <span class="fu">coredata</span>(dados2))</span>
<span id="cb131-1646"><a href="#cb131-1646" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(dados2) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Data"</span>, <span class="st">"Ibovespa"</span>, <span class="st">"SELIC"</span>)</span>
<span id="cb131-1647"><a href="#cb131-1647" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(dados2); dados2</span>
<span id="cb131-1648"><a href="#cb131-1648" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1649"><a href="#cb131-1649" aria-hidden="true" tabindex="-1"></a><span class="co"># 4) Ativos em formato zoo</span></span>
<span id="cb131-1650"><a href="#cb131-1650" aria-hidden="true" tabindex="-1"></a>ativos_df <span class="ot">&lt;-</span> <span class="fu">yf_get</span>(</span>
<span id="cb131-1651"><a href="#cb131-1651" aria-hidden="true" tabindex="-1"></a>  <span class="at">tickers =</span> <span class="fu">c</span>(<span class="st">"LWSA3.SA"</span>, <span class="st">"ELET6.SA"</span>, <span class="st">"ITSA4.SA"</span>, <span class="st">"RENT3.SA"</span>, <span class="st">"BRFS3.SA"</span>),</span>
<span id="cb131-1652"><a href="#cb131-1652" aria-hidden="true" tabindex="-1"></a>  <span class="at">first_date =</span> <span class="st">"2025-04-01"</span>,</span>
<span id="cb131-1653"><a href="#cb131-1653" aria-hidden="true" tabindex="-1"></a>  <span class="at">last_date =</span> <span class="fu">Sys.Date</span>()</span>
<span id="cb131-1654"><a href="#cb131-1654" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb131-1655"><a href="#cb131-1655" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1656"><a href="#cb131-1656" aria-hidden="true" tabindex="-1"></a><span class="co"># Converte cada ativo para zoo separado (igual professor fez)</span></span>
<span id="cb131-1657"><a href="#cb131-1657" aria-hidden="true" tabindex="-1"></a>lwsa3 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"LWSA3.SA"</span>],</span>
<span id="cb131-1658"><a href="#cb131-1658" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"LWSA3.SA"</span>])</span>
<span id="cb131-1659"><a href="#cb131-1659" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1660"><a href="#cb131-1660" aria-hidden="true" tabindex="-1"></a>elet6 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ELET6.SA"</span>],</span>
<span id="cb131-1661"><a href="#cb131-1661" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ELET6.SA"</span>])</span>
<span id="cb131-1662"><a href="#cb131-1662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1663"><a href="#cb131-1663" aria-hidden="true" tabindex="-1"></a>itsa4 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ITSA4.SA"</span>],</span>
<span id="cb131-1664"><a href="#cb131-1664" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"ITSA4.SA"</span>])</span>
<span id="cb131-1665"><a href="#cb131-1665" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1666"><a href="#cb131-1666" aria-hidden="true" tabindex="-1"></a>rent3 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"RENT3.SA"</span>],</span>
<span id="cb131-1667"><a href="#cb131-1667" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"RENT3.SA"</span>])</span>
<span id="cb131-1668"><a href="#cb131-1668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1669"><a href="#cb131-1669" aria-hidden="true" tabindex="-1"></a>brfs3 <span class="ot">&lt;-</span> <span class="fu">zoo</span>(ativos_df<span class="sc">$</span>price_adjusted[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"BRFS3.SA"</span>],</span>
<span id="cb131-1670"><a href="#cb131-1670" aria-hidden="true" tabindex="-1"></a>             <span class="at">order.by =</span> ativos_df<span class="sc">$</span>ref_date[ativos_df<span class="sc">$</span>ticker <span class="sc">==</span> <span class="st">"BRFS3.SA"</span>])</span>
<span id="cb131-1671"><a href="#cb131-1671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1672"><a href="#cb131-1672" aria-hidden="true" tabindex="-1"></a><span class="co"># 5) Merge geral (igual professor)</span></span>
<span id="cb131-1673"><a href="#cb131-1673" aria-hidden="true" tabindex="-1"></a>Ativos <span class="ot">&lt;-</span> <span class="fu">merge</span>(lwsa3, elet6, itsa4, rent3, brfs3, ibov, Selic)</span>
<span id="cb131-1674"><a href="#cb131-1674" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">na.omit</span>(Ativos[,<span class="dv">1</span>]))</span>
<span id="cb131-1675"><a href="#cb131-1675" aria-hidden="true" tabindex="-1"></a>Data1 <span class="ot">&lt;-</span> <span class="fu">index</span>(<span class="fu">na.omit</span>(Ativos)); <span class="fu">length</span>(Data1)</span>
<span id="cb131-1676"><a href="#cb131-1676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1677"><a href="#cb131-1677" aria-hidden="true" tabindex="-1"></a><span class="co"># 6) Carteira BETA final</span></span>
<span id="cb131-1678"><a href="#cb131-1678" aria-hidden="true" tabindex="-1"></a>CarteiraBETA <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">na.omit</span>(Ativos), Data1)</span>
<span id="cb131-1679"><a href="#cb131-1679" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(CarteiraBETA) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"lwsa3"</span>, <span class="st">"elet6"</span>, <span class="st">"itsa4"</span>, <span class="st">"rent3"</span>, <span class="st">"brfs3"</span>, <span class="st">"Ibovespa"</span>, <span class="st">"Selic"</span>, <span class="st">"Data1"</span>)</span>
<span id="cb131-1680"><a href="#cb131-1680" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(CarteiraBETA)</span>
<span id="cb131-1681"><a href="#cb131-1681" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1682"><a href="#cb131-1682" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">max.print =</span> <span class="dv">99999</span>)</span>
<span id="cb131-1683"><a href="#cb131-1683" aria-hidden="true" tabindex="-1"></a>CarteiraBETA</span>
<span id="cb131-1684"><a href="#cb131-1684" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">length</span>(CarteiraBETA[,<span class="dv">1</span>]); n</span>
<span id="cb131-1685"><a href="#cb131-1685" aria-hidden="true" tabindex="-1"></a>CarteiraBETA[n,]</span>
<span id="cb131-1686"><a href="#cb131-1686" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1687"><a href="#cb131-1687" aria-hidden="true" tabindex="-1"></a><span class="co"># 7) Exportar</span></span>
<span id="cb131-1688"><a href="#cb131-1688" aria-hidden="true" tabindex="-1"></a><span class="fu">write.table</span>(CarteiraBETA, <span class="at">file =</span> <span class="st">"BetaCarteira.txt"</span>, <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span>
<span id="cb131-1689"><a href="#cb131-1689" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1690"><a href="#cb131-1690" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1691"><a href="#cb131-1691" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1694"><a href="#cb131-1694" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1695"><a href="#cb131-1695" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yfR)</span>
<span id="cb131-1696"><a href="#cb131-1696" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb131-1697"><a href="#cb131-1697" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb131-1698"><a href="#cb131-1698" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb131-1699"><a href="#cb131-1699" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1700"><a href="#cb131-1700" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="ot">&lt;-</span><span class="fu">read.table</span>(<span class="st">"BetaCarteira.txt"</span>, <span class="at">head=</span>T)</span>
<span id="cb131-1701"><a href="#cb131-1701" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(CarteiraBETA)<span class="ot">&lt;-</span><span class="fu">c</span>(<span class="st">"lwsa3"</span>, <span class="st">"elet6"</span>, <span class="st">"itsa4"</span>, <span class="st">"rent3"</span>, <span class="st">"brfs3"</span>,<span class="st">"ibovespa"</span>,<span class="st">"Selic"</span>, <span class="st">"Data1"</span>)</span>
<span id="cb131-1702"><a href="#cb131-1702" aria-hidden="true" tabindex="-1"></a><span class="fu">attach</span>(CarteiraBETA)</span>
<span id="cb131-1703"><a href="#cb131-1703" aria-hidden="true" tabindex="-1"></a>CarteiraBETA; <span class="fu">length</span>((CarteiraBETA<span class="sc">$</span>Selic))</span>
<span id="cb131-1704"><a href="#cb131-1704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1705"><a href="#cb131-1705" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="sc">$</span>ibovespa;<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>ibovespa)</span>
<span id="cb131-1706"><a href="#cb131-1706" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="sc">$</span>lwsa3;<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>lwsa3)</span>
<span id="cb131-1707"><a href="#cb131-1707" aria-hidden="true" tabindex="-1"></a>CarteiraBETA<span class="sc">$</span>Selic;<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>Selic)</span>
<span id="cb131-1708"><a href="#cb131-1708" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1709"><a href="#cb131-1709" aria-hidden="true" tabindex="-1"></a>ribov<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(ibovespa));ribov;<span class="fu">length</span>(ribov)</span>
<span id="cb131-1710"><a href="#cb131-1710" aria-hidden="true" tabindex="-1"></a>Ribov<span class="ot">=</span>ribov<span class="sc">*</span><span class="dv">100</span>;Ribov;<span class="fu">mean</span>(Ribov)</span>
<span id="cb131-1711"><a href="#cb131-1711" aria-hidden="true" tabindex="-1"></a>RSelic<span class="ot">=</span>CarteiraBETA<span class="sc">$</span>Selic[<span class="sc">-</span><span class="dv">1</span>];<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>Selic[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1712"><a href="#cb131-1712" aria-hidden="true" tabindex="-1"></a>RSelic</span>
<span id="cb131-1713"><a href="#cb131-1713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1714"><a href="#cb131-1714" aria-hidden="true" tabindex="-1"></a>rlwsa3<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>lwsa3[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>lwsa3[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1715"><a href="#cb131-1715" aria-hidden="true" tabindex="-1"></a>relet6<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>elet6[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>elet6[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1716"><a href="#cb131-1716" aria-hidden="true" tabindex="-1"></a>ritsa4<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>itsa4[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>itsa4[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1717"><a href="#cb131-1717" aria-hidden="true" tabindex="-1"></a>rrent3<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>rent3[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>rent3[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1718"><a href="#cb131-1718" aria-hidden="true" tabindex="-1"></a>rbrfs3<span class="ot">=</span><span class="fu">diff</span>(<span class="fu">log</span>(CarteiraBETA<span class="sc">$</span>brfs3[<span class="sc">-</span><span class="dv">1</span>]));<span class="fu">length</span>(CarteiraBETA<span class="sc">$</span>brfs3[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1719"><a href="#cb131-1719" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1720"><a href="#cb131-1720" aria-hidden="true" tabindex="-1"></a><span class="co">#RIbov=(rIbov-Selic[-1])</span></span>
<span id="cb131-1721"><a href="#cb131-1721" aria-hidden="true" tabindex="-1"></a>Ribov<span class="ot">=</span>(ribov<span class="sc">-</span>RSelic);<span class="fu">length</span>(Ribov);Ribov</span>
<span id="cb131-1722"><a href="#cb131-1722" aria-hidden="true" tabindex="-1"></a>Rlwsa3<span class="ot">=</span>rlwsa3<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb131-1723"><a href="#cb131-1723" aria-hidden="true" tabindex="-1"></a>Rlwsa3;<span class="fu">length</span>(Rlwsa3)</span>
<span id="cb131-1724"><a href="#cb131-1724" aria-hidden="true" tabindex="-1"></a>Relet6<span class="ot">=</span>relet6<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb131-1725"><a href="#cb131-1725" aria-hidden="true" tabindex="-1"></a>Ritsa4<span class="ot">=</span>ritsa4<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb131-1726"><a href="#cb131-1726" aria-hidden="true" tabindex="-1"></a>Rrent3<span class="ot">=</span>rrent3<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb131-1727"><a href="#cb131-1727" aria-hidden="true" tabindex="-1"></a>Rbrfs3<span class="ot">=</span>rbrfs3<span class="sc">-</span>RSelic[<span class="sc">-</span><span class="dv">1</span>]</span>
<span id="cb131-1728"><a href="#cb131-1728" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1729"><a href="#cb131-1729" aria-hidden="true" tabindex="-1"></a><span class="co">#Cálculo do Beta vivt3 (+...)------------------------------------------------------------------------------------------------------</span></span>
<span id="cb131-1730"><a href="#cb131-1730" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1731"><a href="#cb131-1731" aria-hidden="true" tabindex="-1"></a>Betalwsa3<span class="ot">=</span><span class="fu">lm</span>(Rlwsa3<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb131-1732"><a href="#cb131-1732" aria-hidden="true" tabindex="-1"></a>Betalwsa3</span>
<span id="cb131-1733"><a href="#cb131-1733" aria-hidden="true" tabindex="-1"></a>Betaelet6<span class="ot">=</span><span class="fu">lm</span>(Relet6<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betaelet6</span>
<span id="cb131-1734"><a href="#cb131-1734" aria-hidden="true" tabindex="-1"></a>Betaitsa4<span class="ot">=</span><span class="fu">lm</span>(Ritsa4<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betaitsa4</span>
<span id="cb131-1735"><a href="#cb131-1735" aria-hidden="true" tabindex="-1"></a>Betarent3<span class="ot">=</span><span class="fu">lm</span>(Rrent3<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betarent3</span>
<span id="cb131-1736"><a href="#cb131-1736" aria-hidden="true" tabindex="-1"></a>Betabrfs3<span class="ot">=</span><span class="fu">lm</span>(Rbrfs3<span class="sc">~</span>Ribov[<span class="sc">-</span><span class="dv">1</span>]);Betabrfs3</span>
<span id="cb131-1737"><a href="#cb131-1737" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1738"><a href="#cb131-1738" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1741"><a href="#cb131-1741" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1742"><a href="#cb131-1742" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(yfR)</span>
<span id="cb131-1743"><a href="#cb131-1743" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(GetBCBData)</span>
<span id="cb131-1744"><a href="#cb131-1744" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span>
<span id="cb131-1745"><a href="#cb131-1745" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rbcb)</span>
<span id="cb131-1746"><a href="#cb131-1746" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1747"><a href="#cb131-1747" aria-hidden="true" tabindex="-1"></a>names<span class="ot">=</span><span class="fu">c</span>(<span class="st">"lwsa3"</span>, <span class="st">"elet6"</span>, <span class="st">"itsa4"</span>, <span class="st">"rent3"</span>, <span class="st">"brfs3"</span>)</span>
<span id="cb131-1748"><a href="#cb131-1748" aria-hidden="true" tabindex="-1"></a>BETA.Mercado<span class="ot">=</span><span class="fu">c</span>(Betalwsa3<span class="sc">$</span>coef[<span class="dv">2</span>],Betaelet6<span class="sc">$</span>coef[<span class="dv">2</span>],Betaitsa4<span class="sc">$</span>coef[<span class="dv">2</span>],Betarent3<span class="sc">$</span>coef[<span class="dv">2</span>],Betabrfs3<span class="sc">$</span>coef[<span class="dv">2</span>]);names;BETA.Mercado</span>
<span id="cb131-1749"><a href="#cb131-1749" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1750"><a href="#cb131-1750" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1751"><a href="#cb131-1751" aria-hidden="true" tabindex="-1"></a>bpb<span class="ot">&lt;-</span><span class="fu">barplot</span>(BETA.Mercado, <span class="at">main=</span><span class="st">"Gráf.4:Cálculo do Beta-Mercado da Carteira Sugerida (90 dias)"</span>, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="fl">3.0</span>),<span class="at">names.arg=</span>names, <span class="at">ylab=</span><span class="st">"Percentual %"</span>, <span class="at">cex.names=</span><span class="dv">1</span>, <span class="at">col=</span><span class="st">"pink"</span>)</span>
<span id="cb131-1752"><a href="#cb131-1752" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(<span class="at">x =</span> <span class="fu">as.vector</span>(bpb), <span class="at">y =</span> BETA.Mercado, </span>
<span id="cb131-1753"><a href="#cb131-1753" aria-hidden="true" tabindex="-1"></a>     <span class="at">label =</span>  <span class="fu">round</span>(BETA.Mercado, <span class="dv">2</span>), <span class="at">pos =</span> <span class="dv">3</span>, </span>
<span id="cb131-1754"><a href="#cb131-1754" aria-hidden="true" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">"black"</span>,<span class="at">cex=</span><span class="fl">0.8</span>)</span>
<span id="cb131-1755"><a href="#cb131-1755" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1756"><a href="#cb131-1756" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1757"><a href="#cb131-1757" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1758"><a href="#cb131-1758" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1759"><a href="#cb131-1759" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1760"><a href="#cb131-1760" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Médio Prazo:</span></span>
<span id="cb131-1761"><a href="#cb131-1761" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1764"><a href="#cb131-1764" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1765"><a href="#cb131-1765" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1766"><a href="#cb131-1766" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1767"><a href="#cb131-1767" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1768"><a href="#cb131-1768" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1769"><a href="#cb131-1769" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1770"><a href="#cb131-1770" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Longo Prazo:</span></span>
<span id="cb131-1771"><a href="#cb131-1771" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1774"><a href="#cb131-1774" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1775"><a href="#cb131-1775" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1776"><a href="#cb131-1776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1777"><a href="#cb131-1777" aria-hidden="true" tabindex="-1"></a><span class="fu">## Indicadores de Performance:</span></span>
<span id="cb131-1778"><a href="#cb131-1778" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1779"><a href="#cb131-1779" aria-hidden="true" tabindex="-1"></a><span class="fu">## Jesen:</span></span>
<span id="cb131-1780"><a href="#cb131-1780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1781"><a href="#cb131-1781" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1782"><a href="#cb131-1782" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>O **Alpha de Jensen** mede se um ativo **entregou um retorno acima ou abaixo do esperado**, considerando o risco assumido (β em relação ao mercado).</span>
<span id="cb131-1783"><a href="#cb131-1783" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1784"><a href="#cb131-1784" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>lwsa3 = 0.0422 (4,22%) → ótimo desempenho, entregou retorno acima do que o CAPM esperava.</span>
<span id="cb131-1785"><a href="#cb131-1785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1786"><a href="#cb131-1786" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>rent3 = 0.0097 (0,97%) → levemente positivo, também agregou valor, mas em menor intensidade.</span>
<span id="cb131-1787"><a href="#cb131-1787" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1788"><a href="#cb131-1788" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>elet6 (-0,0148), itsa4 (-0,0088), brfs3 (-0,0105) → retornos negativos ajustados ao risco, ou seja, esses ativos não compensaram o risco que assumiram.</span>
<span id="cb131-1789"><a href="#cb131-1789" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1790"><a href="#cb131-1790" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1791"><a href="#cb131-1791" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1792"><a href="#cb131-1792" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1793"><a href="#cb131-1793" aria-hidden="true" tabindex="-1"></a><span class="in">names=c("lwsa3", "elet6", "itsa4", "rent3", "brfs3")</span></span>
<span id="cb131-1794"><a href="#cb131-1794" aria-hidden="true" tabindex="-1"></a><span class="in">JENSEN=c(Betalwsa3$coef[1], Betaelet6$coef[1],Betaitsa4$coef[1],Betarent3$coef[1],Betabrfs3$coef[1]);names;JENSEN</span></span>
<span id="cb131-1795"><a href="#cb131-1795" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1796"><a href="#cb131-1796" aria-hidden="true" tabindex="-1"></a><span class="in">bpJensen&lt;-barplot(JENSEN, main="Indicador de Performance: Jensen", ylim=c(-0.04,0.09),names.arg=names, col = "pink",ylab="Percentual %", cex.names=0.7)</span></span>
<span id="cb131-1797"><a href="#cb131-1797" aria-hidden="true" tabindex="-1"></a><span class="in">text(x = as.vector(bpJensen), y = JENSEN, </span></span>
<span id="cb131-1798"><a href="#cb131-1798" aria-hidden="true" tabindex="-1"></a><span class="in">     label =  round(JENSEN, 4), pos = 3, </span></span>
<span id="cb131-1799"><a href="#cb131-1799" aria-hidden="true" tabindex="-1"></a><span class="in">     col = "black",cex=0.7)</span></span>
<span id="cb131-1800"><a href="#cb131-1800" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1801"><a href="#cb131-1801" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1802"><a href="#cb131-1802" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1803"><a href="#cb131-1803" aria-hidden="true" tabindex="-1"></a><span class="fu">## Treynor:</span></span>
<span id="cb131-1804"><a href="#cb131-1804" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1805"><a href="#cb131-1805" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1806"><a href="#cb131-1806" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Mede o retorno excedente por unidade de risco sistemático (β).</span>
<span id="cb131-1807"><a href="#cb131-1807" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1808"><a href="#cb131-1808" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Diferente do Sharpe, que usa o risco total (desvio padrão), o Treynor considera apenas o risco de mercado (sistemático), que não pode ser diversificado.</span>
<span id="cb131-1809"><a href="#cb131-1809" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1810"><a href="#cb131-1810" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Todos os ativos apresentaram valores negativos → ou seja, nenhum ativo entregou retorno que compensasse o risco de mercado assumido.</span>
<span id="cb131-1811"><a href="#cb131-1811" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1812"><a href="#cb131-1812" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>lwsa3 (-2.78) foi o menos negativo, o que significa que, dentro do conjunto, foi o ativo com melhor desempenho relativo ajustado ao risco.</span>
<span id="cb131-1813"><a href="#cb131-1813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1814"><a href="#cb131-1814" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>elet6 (-7.31) foi o pior, indicando que esse ativo destruiu mais valor em relação ao risco sistemático.</span>
<span id="cb131-1815"><a href="#cb131-1815" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1816"><a href="#cb131-1816" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>itsa4 (-6.38) e brfs3 (-6.58) também tiveram desempenho bastante ruim.</span>
<span id="cb131-1817"><a href="#cb131-1817" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1818"><a href="#cb131-1818" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>rent3 (-4.45) ficou em situação intermediária.</span>
<span id="cb131-1819"><a href="#cb131-1819" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1820"><a href="#cb131-1820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1821"><a href="#cb131-1821" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1822"><a href="#cb131-1822" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1823"><a href="#cb131-1823" aria-hidden="true" tabindex="-1"></a><span class="in">mean(Rlwsa3)*100</span></span>
<span id="cb131-1824"><a href="#cb131-1824" aria-hidden="true" tabindex="-1"></a><span class="in">Betalwsa3$coef[2]</span></span>
<span id="cb131-1825"><a href="#cb131-1825" aria-hidden="true" tabindex="-1"></a><span class="in">Treynor&lt;-mean(Rlwsa3)*100/Betalwsa3$coef[2];Treynor</span></span>
<span id="cb131-1826"><a href="#cb131-1826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1827"><a href="#cb131-1827" aria-hidden="true" tabindex="-1"></a><span class="in">TREYNOR=c(mean(Rlwsa3)*100/Betalwsa3$coef[2],mean(Relet6)*100/Betaelet6$coef[2],mean(Ritsa4)*100/Betaitsa4$coef[2],mean(Rrent3)*100/Betarent3$coef[2],mean(Rbrfs3)*100/Betabrfs3$coef[2]);names;TREYNOR</span></span>
<span id="cb131-1828"><a href="#cb131-1828" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1829"><a href="#cb131-1829" aria-hidden="true" tabindex="-1"></a><span class="in">bpTreynor&lt;-barplot(TREYNOR, main="Indicador de Performance: Treynor", ylim=c(-10,1),names.arg=names , col = "pink", ylab="Percentual %", cex.names=1)</span></span>
<span id="cb131-1830"><a href="#cb131-1830" aria-hidden="true" tabindex="-1"></a><span class="in">text(x = as.vector(bpTreynor), y = TREYNOR, </span></span>
<span id="cb131-1831"><a href="#cb131-1831" aria-hidden="true" tabindex="-1"></a><span class="in">     label =  round(TREYNOR, 4), pos = 3, </span></span>
<span id="cb131-1832"><a href="#cb131-1832" aria-hidden="true" tabindex="-1"></a><span class="in">     col = "black",cex=0.8)</span></span>
<span id="cb131-1833"><a href="#cb131-1833" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1834"><a href="#cb131-1834" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1835"><a href="#cb131-1835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1836"><a href="#cb131-1836" aria-hidden="true" tabindex="-1"></a><span class="fu">## Sharpe:</span></span>
<span id="cb131-1837"><a href="#cb131-1837" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1838"><a href="#cb131-1838" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>::: {style="text-align: justify"}</span>
<span id="cb131-1839"><a href="#cb131-1839" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>Avalia se os retornos de um ativo compensam a volatilidade que ele apresenta.</span>
<span id="cb131-1840"><a href="#cb131-1840" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1841"><a href="#cb131-1841" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>lwsa3 (-1.39) foi o “menos ruim”, entregando a melhor relação risco-retorno entre os ativos.</span>
<span id="cb131-1842"><a href="#cb131-1842" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1843"><a href="#cb131-1843" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>elet6 (-4.35) e itsa4 (-4.11) foram os piores, indicando alto risco sem retorno proporcional.</span>
<span id="cb131-1844"><a href="#cb131-1844" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1845"><a href="#cb131-1845" aria-hidden="true" tabindex="-1"></a><span class="ss">    -   </span>rent3 (-2.12) e brfs3 (-2.14) ficaram em posição intermediária, mas ainda negativos.</span>
<span id="cb131-1846"><a href="#cb131-1846" aria-hidden="true" tabindex="-1"></a>    :::</span>
<span id="cb131-1847"><a href="#cb131-1847" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1848"><a href="#cb131-1848" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1849"><a href="#cb131-1849" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb131-1850"><a href="#cb131-1850" aria-hidden="true" tabindex="-1"></a><span class="in">mean(Rlwsa3)</span></span>
<span id="cb131-1851"><a href="#cb131-1851" aria-hidden="true" tabindex="-1"></a><span class="in">sd(Rlwsa3)</span></span>
<span id="cb131-1852"><a href="#cb131-1852" aria-hidden="true" tabindex="-1"></a><span class="in">Sharpe&lt;-mean(Rlwsa3)/sd(Rlwsa3);Sharpe</span></span>
<span id="cb131-1853"><a href="#cb131-1853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1854"><a href="#cb131-1854" aria-hidden="true" tabindex="-1"></a><span class="in">SHARPE=c(mean(Rlwsa3)/sd(Rlwsa3),mean(Relet6)/sd(Relet6),mean(Ritsa4)/sd(Ritsa4),mean(Rrent3)/sd(Rrent3),mean(Rbrfs3)/sd(Rbrfs3));names;SHARPE</span></span>
<span id="cb131-1855"><a href="#cb131-1855" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1856"><a href="#cb131-1856" aria-hidden="true" tabindex="-1"></a><span class="in">bpSharpe&lt;-barplot(SHARPE, main="Indicador de Performance: Sharpe", ylim=c(-5,1),names.arg=names , col = "pink", ylab="Percentual %", cex.names=1)</span></span>
<span id="cb131-1857"><a href="#cb131-1857" aria-hidden="true" tabindex="-1"></a><span class="in">text(x = as.vector(bpSharpe), y = SHARPE, </span></span>
<span id="cb131-1858"><a href="#cb131-1858" aria-hidden="true" tabindex="-1"></a><span class="in">     label =  round(SHARPE, 4), pos = 3, </span></span>
<span id="cb131-1859"><a href="#cb131-1859" aria-hidden="true" tabindex="-1"></a><span class="in">     col = "black",cex=0.9)</span></span>
<span id="cb131-1860"><a href="#cb131-1860" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb131-1861"><a href="#cb131-1861" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1862"><a href="#cb131-1862" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1863"><a href="#cb131-1863" aria-hidden="true" tabindex="-1"></a><span class="fu">## Conclusão sobre o resultado dos índices:</span></span>
<span id="cb131-1864"><a href="#cb131-1864" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1865"><a href="#cb131-1865" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, echo=FALSE, message=FALSE, warning=FALSE, results='hide'}</span></span>
<span id="cb131-1866"><a href="#cb131-1866" aria-hidden="true" tabindex="-1"></a><span class="in"># --- Pacotes necessários ---</span></span>
<span id="cb131-1867"><a href="#cb131-1867" aria-hidden="true" tabindex="-1"></a><span class="in">library(ggplot2)</span></span>
<span id="cb131-1868"><a href="#cb131-1868" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1869"><a href="#cb131-1869" aria-hidden="true" tabindex="-1"></a><span class="in"># --- Dados dos ativos ---</span></span>
<span id="cb131-1870"><a href="#cb131-1870" aria-hidden="true" tabindex="-1"></a><span class="in">ativos &lt;- data.frame(</span></span>
<span id="cb131-1871"><a href="#cb131-1871" aria-hidden="true" tabindex="-1"></a><span class="in">  Ativo   = c("LWSA3", "RENT3", "ELET6", "ITSA4", "BRFS3"),</span></span>
<span id="cb131-1872"><a href="#cb131-1872" aria-hidden="true" tabindex="-1"></a><span class="in">  Beta    = c(1.68, 1.16, 0.74, 0.80, 0.81),</span></span>
<span id="cb131-1873"><a href="#cb131-1873" aria-hidden="true" tabindex="-1"></a><span class="in">  Alpha   = c(0.0422, 0.0097, -0.0148, -0.0088, -0.0105),</span></span>
<span id="cb131-1874"><a href="#cb131-1874" aria-hidden="true" tabindex="-1"></a><span class="in">  Treynor = c(-2.78, -4.45, -7.31, -6.38, -6.58),</span></span>
<span id="cb131-1875"><a href="#cb131-1875" aria-hidden="true" tabindex="-1"></a><span class="in">  Sharpe  = c(-1.39, -2.12, -4.35, -4.11, -2.14)</span></span>
<span id="cb131-1876"><a href="#cb131-1876" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb131-1877"><a href="#cb131-1877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1878"><a href="#cb131-1878" aria-hidden="true" tabindex="-1"></a><span class="in"># --- Ranking ---</span></span>
<span id="cb131-1879"><a href="#cb131-1879" aria-hidden="true" tabindex="-1"></a><span class="in">ativos$Rank_Alpha   &lt;- rank(-ativos$Alpha, ties.method = "first")</span></span>
<span id="cb131-1880"><a href="#cb131-1880" aria-hidden="true" tabindex="-1"></a><span class="in">ativos$Rank_Treynor &lt;- rank(-ativos$Treynor, ties.method = "first")</span></span>
<span id="cb131-1881"><a href="#cb131-1881" aria-hidden="true" tabindex="-1"></a><span class="in">ativos$Rank_Sharpe  &lt;- rank(-ativos$Sharpe, ties.method = "first")</span></span>
<span id="cb131-1882"><a href="#cb131-1882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1883"><a href="#cb131-1883" aria-hidden="true" tabindex="-1"></a><span class="in">ativos$Score_Final &lt;- ativos$Rank_Alpha + ativos$Rank_Treynor + ativos$Rank_Sharpe</span></span>
<span id="cb131-1884"><a href="#cb131-1884" aria-hidden="true" tabindex="-1"></a><span class="in">ativos$Ranking     &lt;- rank(ativos$Score_Final, ties.method = "first")</span></span>
<span id="cb131-1885"><a href="#cb131-1885" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1886"><a href="#cb131-1886" aria-hidden="true" tabindex="-1"></a><span class="in">ativos_final &lt;- ativos[order(ativos$Ranking), ]</span></span>
<span id="cb131-1887"><a href="#cb131-1887" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1888"><a href="#cb131-1888" aria-hidden="true" tabindex="-1"></a><span class="in"># --- Mostrar tabela final ---</span></span>
<span id="cb131-1889"><a href="#cb131-1889" aria-hidden="true" tabindex="-1"></a><span class="in">print(ativos_final)</span></span>
<span id="cb131-1890"><a href="#cb131-1890" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1891"><a href="#cb131-1891" aria-hidden="true" tabindex="-1"></a><span class="in"># --- Gráfico com ggplot2 ---</span></span>
<span id="cb131-1892"><a href="#cb131-1892" aria-hidden="true" tabindex="-1"></a><span class="in">ggplot(ativos_final, aes(x = reorder(Ativo, Ranking), y = -Ranking, fill = Ativo)) +</span></span>
<span id="cb131-1893"><a href="#cb131-1893" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_col(width = 0.6, show.legend = FALSE) +</span></span>
<span id="cb131-1894"><a href="#cb131-1894" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(aes(label = Ranking), vjust = -0.5, size = 5) +</span></span>
<span id="cb131-1895"><a href="#cb131-1895" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(title = "Ranking de Desempenho dos Ativos",</span></span>
<span id="cb131-1896"><a href="#cb131-1896" aria-hidden="true" tabindex="-1"></a><span class="in">       x = "Ativo", y = "Posição no Ranking (1 = Melhor)") +</span></span>
<span id="cb131-1897"><a href="#cb131-1897" aria-hidden="true" tabindex="-1"></a><span class="in">  theme_minimal()</span></span>
<span id="cb131-1898"><a href="#cb131-1898" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1899"><a href="#cb131-1899" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1900"><a href="#cb131-1900" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1901"><a href="#cb131-1901" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1902"><a href="#cb131-1902" aria-hidden="true" tabindex="-1"></a>Entre os ativos analisados, **LWSA3 se destacou** como o ativo de melhor desempenho relativo. Apesar de apresentar Beta elevado (alta sensibilidade ao mercado e, portanto, maior risco), conseguiu gerar Alpha positivo expressivo (+4,22%), entregando retorno acima do esperado e superando os demais. Além disso, mesmo com Treynor e Sharpe negativos (como todos os ativos do conjunto), foi o menos ruim, mostrando-se a opção mais eficiente em termos de risco-retorno dentro dessa carteira.</span>
<span id="cb131-1903"><a href="#cb131-1903" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1904"><a href="#cb131-1904" aria-hidden="true" tabindex="-1"></a>Por outro lado, **ELET6 apresentou o pior desempenho**. Embora tenha Beta defensivo (baixo risco sistemático esperado), destruiu valor em todos os indicadores: Alpha negativo, pior resultado no Treynor (-7,31) e um dos piores Sharpe (-4,35). Isso mostra que o ativo não compensou o risco assumido e falhou em entregar retornos adequados, mesmo sendo menos exposto à volatilidade do mercado.</span>
<span id="cb131-1905"><a href="#cb131-1905" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1906"><a href="#cb131-1906" aria-hidden="true" tabindex="-1"></a>**RENT3 teve performance intermediária**, com Alpha positivo, mas baixo (+0,97%), além de resultados ainda negativos em Sharpe e Treynor, porém menos graves que ITSA4, BRFS3 e ELET6. ITSA4 e BRFS3 mostraram-se ativos sem retorno ajustado ao risco, ambos destruindo valor, ainda que com volatilidade mais controlada.</span>
<span id="cb131-1907"><a href="#cb131-1907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1908"><a href="#cb131-1908" aria-hidden="true" tabindex="-1"></a><span class="fu">### Ranking de Desempenho (melhor → pior):</span></span>
<span id="cb131-1909"><a href="#cb131-1909" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1910"><a href="#cb131-1910" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**LWSA3** → Melhor desempenho geral (alto Alpha, melhor relação risco-retorno relativa).</span>
<span id="cb131-1911"><a href="#cb131-1911" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1912"><a href="#cb131-1912" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**RENT3** → Desempenho moderado, Alpha positivo mas baixo, intermediária nos índices de risco.</span>
<span id="cb131-1913"><a href="#cb131-1913" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1914"><a href="#cb131-1914" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>**BRFS3** → Desempenho fraco, Alpha negativo e Sharpe ruim, mas ainda acima de ITSA4 e ELET6.</span>
<span id="cb131-1915"><a href="#cb131-1915" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1916"><a href="#cb131-1916" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>**ITSA4** → Desempenho fraco, Alpha negativo e Treynor ruim, mas não tão destrutivo quanto ELET6.</span>
<span id="cb131-1917"><a href="#cb131-1917" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1918"><a href="#cb131-1918" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>**ELET6** → Pior desempenho, destruiu valor em todos os indicadores, mesmo sendo defensivo.</span>
<span id="cb131-1919"><a href="#cb131-1919" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1920"><a href="#cb131-1920" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1921"><a href="#cb131-1921" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Curto Prazo:</span></span>
<span id="cb131-1922"><a href="#cb131-1922" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1923"><a href="#cb131-1923" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1924"><a href="#cb131-1924" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1925"><a href="#cb131-1925" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1928"><a href="#cb131-1928" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1929"><a href="#cb131-1929" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1930"><a href="#cb131-1930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1931"><a href="#cb131-1931" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Médio Prazo:</span></span>
<span id="cb131-1932"><a href="#cb131-1932" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1933"><a href="#cb131-1933" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1934"><a href="#cb131-1934" aria-hidden="true" tabindex="-1"></a>Analisar todas as medidas anteriores , com diferença apenas das datas</span>
<span id="cb131-1935"><a href="#cb131-1935" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1936"><a href="#cb131-1936" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1939"><a href="#cb131-1939" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1940"><a href="#cb131-1940" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1941"><a href="#cb131-1941" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1942"><a href="#cb131-1942" aria-hidden="true" tabindex="-1"></a><span class="fu">## Análise de Longo Prazo:</span></span>
<span id="cb131-1943"><a href="#cb131-1943" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1944"><a href="#cb131-1944" aria-hidden="true" tabindex="-1"></a>::: {style="text-align: justify"}</span>
<span id="cb131-1945"><a href="#cb131-1945" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb131-1946"><a href="#cb131-1946" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1949"><a href="#cb131-1949" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb131-1950"><a href="#cb131-1950" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb131-1951"><a href="#cb131-1951" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1952"><a href="#cb131-1952" aria-hidden="true" tabindex="-1"></a><span class="fu"># Referências Bibliográficas</span></span>
<span id="cb131-1953"><a href="#cb131-1953" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1954"><a href="#cb131-1954" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Alexandre Assaf Neto. *Mercado Financeiro*. Atlas, 2022.</span>
<span id="cb131-1955"><a href="#cb131-1955" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Gitman, L. J. *Princípios de Administração Financeira*. Pearson, 2015.</span>
<span id="cb131-1956"><a href="#cb131-1956" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Hull, J. C. *Introdução aos Derivativos*. Bookman, 2013.</span>
<span id="cb131-1957"><a href="#cb131-1957" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Damodaran, A. *Investment Valuation*. Wiley, 2012.</span>
<span id="cb131-1958"><a href="#cb131-1958" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Yahoo Finance (https://finance.yahoo.com/) – Base de dados utilizada.</span>
<span id="cb131-1959"><a href="#cb131-1959" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1960"><a href="#cb131-1960" aria-hidden="true" tabindex="-1"></a>------------------------------------------------------------------------</span>
<span id="cb131-1961"><a href="#cb131-1961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb131-1962"><a href="#cb131-1962" aria-hidden="true" tabindex="-1"></a><span class="fu">## </span></span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>